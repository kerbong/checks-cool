"use strict";(self.webpackChunkchecks_cool=self.webpackChunkchecks_cool||[]).push([[46,142],{6003:function(e,n,t){t.r(n),t.d(n,{default:function(){return j}});var a=t(4165),r=t(5861),s=t(885),i=t(7313),c=t(6802),u=t(141),o=t(7114),l=t.n(o),d=t(2982),f=t(1874),m=t(658),p=t.n(m),h=t(650),v=t(573),x=t(6417),Z=function(e){var n=(0,i.useState)(null),t=(0,s.Z)(n,2),c=t[0],u=t[1],o=(0,i.useState)({}),m=(0,s.Z)(o,2),Z=m[0],w=m[1],j=(0,i.useState)([]),N=(0,s.Z)(j,2),g=N[0],I=N[1],y=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(n,t){var r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(0,v.JU)(h.wO,"padIt","roomNames"),s=p()().format("YYYY-MM-DD")+n,(0,v.cf)(r,(function(e){var n,a,r;I(null===e||void 0===e||null===(n=e.data())||void 0===n?void 0:n.datas),null!==e&&void 0!==e&&null!==(a=e.data())&&void 0!==a&&null!==(r=a.datas)&&void 0!==r&&r.includes(s)?(w({}),u(!0)):(w({name:s,pw:t}),u(!1))}));case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),k=function(){var n=(0,r.Z)((0,a.Z)().mark((function n(){var t,r;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(t=(0,d.Z)(g)).push(Z.name),n.next=4,(0,v.r7)((0,v.JU)(h.wO,"padIt","roomNames"),{datas:t});case 4:return n.next=6,(0,v.pl)((0,v.JU)(h.wO,"padIt",Z.name),{datas:[],pw:Z.pw});case 6:return(r=(0,d.Z)(e.roomNames)||[]).push(Z.name),n.next=10,(0,v.pl)((0,v.JU)(h.wO,"padIt",e.userUid),{datas:r});case 10:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,i.useEffect)((function(){null!==c&&(!0===c?l().fire("\ucd94\uac00 \uc2e4\ud328","\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \ubc29\uc774\ub984\uc785\ub2c8\ub2e4. \ubc29\uc774\ub984\uc744 \ubcc0\uacbd\ud574\uc8fc\uc138\uc694.","warning"):!1===c&&(k(),e.onClose()))}),[c]),(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{children:[e.isTeacher&&(0,x.jsx)("span",{className:f.Z.closeBtn,onClick:function(){e.onClose()},children:(0,x.jsx)("i",{className:"fa-regular fa-circle-xmark"})}),(0,x.jsx)("p",{className:f.Z["fs-17rem"],style:{textAlign:"center"},children:e.isTeacher?"\ud328\ub4dc\uc787 \ucd94\uac00":"\uc218\ub3d9\uc73c\ub85c \uc811\uc18d\ud558\uae30"}),(0,x.jsxs)("form",{onSubmit:function(n){n.preventDefault();var t=n.target.roomName.value,a=n.target.roomPw.value;""!==t.trim()&&""!==a.trim()&&(a.trim().length<8?e.isTeacher?l().fire("\uc800\uc7a5 \uc2e4\ud328","\ubb38\uc790\uc640 \uc22b\uc790\ub97c \ud3ec\ud568\ud574 8\uc790\ub9ac \uc774\uc0c1\uc73c\ub85c \ub9cc\ub4e4\uc5b4\uc8fc\uc138\uc694.","warning"):l().fire("\uc811\uc18d \uc2e4\ud328","\ube44\ubc00\ubc88\ud638\uc758 \ubb38\uc790\uc640 \uc22b\uc790\ub97c \uc815\ud655\ud558\uac8c \uc785\ub825\ud574\uc8fc\uc138\uc694. \uc624\ub958\uac00 \ubc18\ubcf5\ub418\uba74 \uc120\uc0dd\ub2d8\uaed8 \ub3c4\uc6c0\uc744 \uc694\uccad\ud558\uc138\uc694.","warning"):e.isTeacher?y(t.trim(),a.trim()):e.getPadDatasHandler(t.trim(),a.trim()))},className:f.Z["flex-col-center"],children:[(0,x.jsxs)("div",{className:f.Z.margin10,children:[(0,x.jsx)("label",{name:"roomName",className:f.Z.margin10,children:"\ubc29 \uc774\ub984"}),(0,x.jsx)("input",{type:"text",name:"roomName",required:!0,placeholder:e.isTeacher?"\uc811\uc18d\ud560 \ubc29\uc774\ub984\uc744 \uc815\ud574\uc8fc\uc138\uc694.":"\uc811\uc18d\ud560 \ubc29\uc774\ub984\uc744 \uc785\ub825\ud558\uc138\uc694.",className:f.Z["minwid-250"],autoFocus:!0})]}),(0,x.jsxs)("div",{className:f.Z.margin10,children:[(0,x.jsx)("label",{name:"roomPw",className:f.Z.margin10,children:"\ube44\ubc00\ubc88\ud638"}),(0,x.jsx)("input",{type:"text",name:"roomPw",required:!0,placeholder:e.isTeacher?"8\uc790\ub9ac\uc774\uc0c1 \uc785\ub825\ud574\uc8fc\uc138\uc694.":"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694.",className:f.Z["minwid-250"]})]}),(0,x.jsx)("div",{className:f.Z.margin10,children:(0,x.jsx)("input",{type:"submit",value:e.isTeacher?"\ucd94\uac00\ud558\uae30":"\uc811\uc18d\ud558\uae30",style:{minWidth:"380px"},className:f.Z["li-btn"]})})]})]})})},w=t(3451),j=function(e){var n=(0,i.useState)(!1),t=(0,s.Z)(n,2),o=t[0],d=t[1],m=(0,i.useState)([]),p=(0,s.Z)(m,2),j=p[0],N=p[1],g=(0,i.useState)(""),I=(0,s.Z)(g,2),y=I[0],k=I[1],b=(0,i.useState)(""),T=(0,s.Z)(b,2),S=T[0],U=T[1],C=(0,i.useState)([]),P=(0,s.Z)(C,2),D=P[0],O=P[1],J=(0,i.useState)(!1),F=(0,s.Z)(J,2),H=F[0],B=F[1],E=(0,i.useState)(!1),Y=(0,s.Z)(E,2),q=Y[0],A=Y[1],L=(0,i.useState)(!0),M=(0,s.Z)(L,2),_=M[0],Q=M[1];(0,i.useEffect)((function(){e.userUid&&d(!0)}),[e.userUid]);var W=function(){var n=(0,r.Z)((0,a.Z)().mark((function n(){var t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=(0,v.JU)(h.wO,"padIt",e.userUid),(0,v.cf)(t,(function(e){var n;e.exists()&&O(null===(n=e.data())||void 0===n?void 0:n.datas)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();(0,i.useEffect)((function(){o&&W()}),[o]);var z=function(){l().fire("\uc811\uc18d \uc2e4\ud328","\ubc29\uc774\ub984\uacfc \ube44\ubc00\ubc88\ud638\ub97c \ud655\uc778\ud558\uace0, \ub2e4\uc2dc \uc811\uc18d\ud574\uc8fc\uc138\uc694!","warning")},G=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(n,t){var r,s,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,v.JU)(h.wO,"padIt",n),e.next=3,(0,v.QT)(r);case 3:if(!(s=e.sent).exists()){e.next=17;break}if((null===s||void 0===s||null===(i=s.data())||void 0===i?void 0:i.pw)===t){e.next=10;break}return z(),e.abrupt("return",!1);case 10:l().fire("\uc811\uc18d \uc131\uacf5","".concat(n," \uc5d0 \uc811\uc18d\uc774 \uc131\uacf5\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc624\ub978\ucabd \ud558\ub2e8\uc758 + \ubc84\ud2bc\uc73c\ub85c \uba54\ubaa8\ub97c \ucd94\uac00\ud574\ubcf4\uc138\uc694."),"success"),k(n),U(t);case 13:(0,v.cf)(r,(function(e){var n;N(null===e||void 0===e||null===(n=e.data())||void 0===n?void 0:n.datas)})),Q(!1),e.next=18;break;case 17:z();case 18:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){var n,t;if(e.padItInfo&&!(null!==(n=Object.values(e.padItInfo))&&void 0!==n&&n.includes("undefined")||null!==(t=Object.values(e.padItInfo))&&void 0!==t&&t.includes(void 0))){document.querySelector("nav").style.display="none";var a=e.padItInfo.roomName,r=e.padItInfo.roomPw;k(a),U(r),G(a,r)}}),[e.padItInfo]);var K=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(n){var t,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,v.JU)(h.wO,"padIt",y),r={datas:n,pw:S},e.next=4,(0,v.pl)(t,r);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,x.jsx)(x.Fragment,{children:o?(0,x.jsxs)("div",{style:{marginTop:"-80px"},children:[H&&(0,x.jsx)(w.Z,{onClose:function(){return B(!1)},children:(0,x.jsx)(Z,{onClose:function(){return B(!1)},userUid:e.userUid,roomNames:D,isTeacher:o})}),!q&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("h2",{className:f.Z["fs-17rem"],style:{marginLeft:"43px"},children:[" ","\ud328\ub4dc\uc787 \ud83d\udccc"]}),(0,x.jsx)("p",{children:"\uac1c\ubc1c\uc911\uc785\ub2c8\ub2e4. \ud604\uc7ac\ub294 \uc791\uc131\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4."}),(0,x.jsx)("button",{onClick:function(){return B(!0)},className:f.Z["li-btn"],children:"\ud328\ub4dc \ucd94\uac00\ud558\uae30"})]}),(0,x.jsx)(c.default,{roomNames:D,hidePadAdd:function(e){return A(e)},isTeacher:o,padDatasHandler:K,setPadPwHandler:function(e){return U(e)},setPadNameHandler:function(e){return k(e)}})]}):(0,x.jsxs)(x.Fragment,{children:[_&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("h2",{className:f.Z["fs-17rem"],style:{marginLeft:"43px"},children:[" ","\ud328\ub4dc\uc787 \ud83d\udccc"]}),(0,x.jsx)("p",{children:"\uac1c\ubc1c\uc911\uc785\ub2c8\ub2e4. \ud604\uc7ac\ub294 \uc791\uc131\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4."}),(0,x.jsx)(Z,{onClose:function(){return Q(!1)},isTeacher:o,getPadDatasHandler:G})]}),!_&&(0,x.jsx)(u.default,{padName:y,padDatas:j,onClose:function(){l().fire({icon:"warning",title:"\uc218\ub3d9 \uc785\ub825\uc73c\ub85c",text:"\ud328\ub4dc\uc787 \uc218\ub3d9 \uc785\ub825\ud654\uba74\uc73c\ub85c \uc774\ub3d9\ud560\uae4c\uc694? \uc774\ub3d9\ud558\uba74 \uc9c1\uc811 \ubc29\uc774\ub984\uacfc \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4!",confirmButtonText:"\ud655\uc778",showDenyButton:!0,denyButtonText:"\ucde8\uc18c",confirmButtonColor:"#85bd82"}).then((function(e){e.isConfirmed&&Q(!0)}))},padDatasHandler:K})]})})}}}]);