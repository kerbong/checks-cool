"use strict";(self.webpackChunkchecks_cool=self.webpackChunkchecks_cool||[]).push([[981],{5987:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(3366);function a(e,t){if(null==e)return{};var n,a,i=(0,r.Z)(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},3366:function(e,t,n){function r(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}n.d(t,{Z:function(){return r}})},7981:function(e,t,n){n.d(t,{ZP:function(){return kn}});var r=n(1413),a=n(5987),i=n(5671),s=n(3144),o=n(7326),u=n(1752),c=n(1120),l=n(136),f=n(7277),h=n(7762),p=n(2982),d=n(885),v=n(4165),m=n(8664),y=n(5861);function Z(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new b(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function b(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return b=function(e){this.s=e,this.n=e.next},b.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new b(e)}function g(e){this.wrapped=e}function k(e){return new g(e)}function w(e){var t,n;function r(t,n){try{var i=e[t](n),s=i.value,o=s instanceof g;Promise.resolve(o?s.wrapped:s).then((function(e){o?r("return"===t?"return":"next",e):a(i.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(u){a("throw",u)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise((function(i,s){var o={key:e,arg:a,resolve:i,reject:s,next:null};n?n=n.next=o:(t=n=o,r(e,a))}))},"function"!==typeof e.return&&(this.return=void 0)}function x(e){return function(){return new w(e.apply(this,arguments))}}w.prototype["function"===typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},w.prototype.next=function(e){return this._invoke("next",e)},w.prototype.throw=function(e){return this._invoke("throw",e)},w.prototype.return=function(e){return this._invoke("return",e)};var _="4.17.3",A=n(4942),P=!1,E=void 0,R=void 0,C=void 0,S=void 0,I=void 0,T=void 0,O=void 0,L=void 0,N=void 0;var j=function(e){function t(e){(0,i.Z)(this,t),this.body=e}return(0,s.Z)(t,[{key:e,get:function(){return"MultipartBody"}}]),t}(Symbol.toStringTag);E||function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{auto:!1};if(P)throw new Error("you must `import 'openai/shims/".concat(e.kind,"'` before importing anything else from openai"));if(E)throw new Error("can't `import 'openai/shims/".concat(e.kind,"'` after `import 'openai/shims/").concat(E,"'`"));P=t.auto,E=e.kind,R=e.fetch,e.Request,e.Response,e.Headers,C=e.FormData,e.Blob,S=e.File,I=e.ReadableStream,T=e.getMultipartRequestOptions,O=e.getDefaultAgent,L=e.fileFromPath,N=e.isFsReadStream}(function(){var e,t,n,a,o=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).manuallyImported?"You may need to use polyfills":"Add one of these imports before your first `import \u2026 from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";try{e=fetch,t=Request,n=Response,a=Headers}catch(u){throw new Error("this environment is missing the following Web Fetch API type: ".concat(u.message,". ").concat(o))}return{kind:"web",fetch:e,Request:t,Response:n,Headers:a,FormData:"undefined"!==typeof FormData?FormData:(0,s.Z)((function e(){throw(0,i.Z)(this,e),new Error("file uploads aren't supported in this environment yet as 'FormData' is undefined. ".concat(o))})),Blob:"undefined"!==typeof Blob?Blob:(0,s.Z)((function e(){throw(0,i.Z)(this,e),new Error("file uploads aren't supported in this environment yet as 'Blob' is undefined. ".concat(o))})),File:"undefined"!==typeof File?File:(0,s.Z)((function e(){throw(0,i.Z)(this,e),new Error("file uploads aren't supported in this environment yet as 'File' is undefined. ".concat(o))})),ReadableStream:"undefined"!==typeof ReadableStream?ReadableStream:(0,s.Z)((function e(){throw(0,i.Z)(this,e),new Error("streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ".concat(o))})),getMultipartRequestOptions:function(){var e=(0,y.Z)((0,v.Z)().mark((function e(t,n){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,r.Z)((0,r.Z)({},n),{},{body:new j(t)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getDefaultAgent:function(e){},fileFromPath:function(){throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:function(e){return!1}}}(),{auto:!0});var M=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n)}((0,m.Z)(Error)),B=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(e,r,a,s){var o;(0,i.Z)(this,n),(o=t.call(this,"".concat(n.makeMessage(e,r,a)))).status=e,o.headers=s;var u=r;return o.error=u,o.code=null===u||void 0===u?void 0:u.code,o.param=null===u||void 0===u?void 0:u.param,o.type=null===u||void 0===u?void 0:u.type,o}return(0,s.Z)(n,null,[{key:"makeMessage",value:function(e,t,n){var r=null!==t&&void 0!==t&&t.message?"string"===typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&r?"".concat(e," ").concat(r):e?"".concat(e," status code (no body)"):r||"(no status code or body)"}},{key:"generate",value:function(e,t,r,a){if(!e)return new q({cause:Be(t)});var i=null===t||void 0===t?void 0:t.error;return 400===e?new U(e,i,r,a):401===e?new W(e,i,r,a):403===e?new K(e,i,r,a):404===e?new X(e,i,r,a):409===e?new J(e,i,r,a):422===e?new V(e,i,r,a):429===e?new H(e,i,r,a):e>=500?new G(e,i,r,a):new n(e,i,r,a)}}]),n}(M),D=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).message;return(0,i.Z)(this,n),(e=t.call(this,void 0,void 0,r||"Request was aborted.",void 0)).status=void 0,e}return(0,s.Z)(n)}(B),q=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(e){var r,a=e.message,s=e.cause;return(0,i.Z)(this,n),(r=t.call(this,void 0,void 0,a||"Connection error.",void 0)).status=void 0,s&&(r.cause=s),r}return(0,s.Z)(n)}(B),F=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).message;return(0,i.Z)(this,n),t.call(this,{message:null!==e&&void 0!==e?e:"Request timed out."})}return(0,s.Z)(n)}(q),U=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.apply(this,arguments)).status=400,e}return(0,s.Z)(n)}(B),W=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.apply(this,arguments)).status=401,e}return(0,s.Z)(n)}(B),K=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.apply(this,arguments)).status=403,e}return(0,s.Z)(n)}(B),X=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.apply(this,arguments)).status=404,e}return(0,s.Z)(n)}(B),J=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.apply(this,arguments)).status=409,e}return(0,s.Z)(n)}(B),V=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.apply(this,arguments)).status=422,e}return(0,s.Z)(n)}(B),H=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.apply(this,arguments)).status=429,e}return(0,s.Z)(n)}(B),G=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n)}(B),z=function(e){function t(e,n){(0,i.Z)(this,t),this.iterator=e,this.controller=n}return(0,s.Z)(t,[{key:e,value:function(){return this.iterator()}},{key:"tee",value:function(){var e=[],n=[],r=this.iterator(),a=function(t){return{next:function(){if(0===t.length){var a=r.next();e.push(a),n.push(a)}return t.shift()}}};return[new t((function(){return a(e)}),this.controller),new t((function(){return a(n)}),this.controller)]}},{key:"toReadableStream",value:function(){var e,t=this,n=new TextEncoder;return new I({start:function(){return(0,y.Z)((0,v.Z)().mark((function n(){return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=t[Symbol.asyncIterator]();case 1:case"end":return n.stop()}}),n)})))()},pull:function(t){return(0,y.Z)((0,v.Z)().mark((function r(){var a,i,s;return(0,v.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.next();case 3:if(a=r.sent,i=a.value,!a.done){r.next=8;break}return r.abrupt("return",t.close());case 8:s=n.encode(JSON.stringify(i)+"\n"),t.enqueue(s),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),t.error(r.t0);case 15:case"end":return r.stop()}}),r,null,[[0,12]])})))()},cancel:function(){return(0,y.Z)((0,v.Z)().mark((function t(){var n,r;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(n=(r=e).return)||void 0===n?void 0:n.call(r);case 2:case"end":return t.stop()}}),t)})))()}})}}],[{key:"fromSSEResponse",value:function(e,n){var r=!1,a=new Q;function i(){return s.apply(this,arguments)}function s(){return(s=x((0,v.Z)().mark((function t(){var r,i,s,o,u,c,l,f,p,d,m,y,b,g,w,x;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.body){t.next=3;break}throw n.abort(),new M("Attempted to iterate over a response with no body");case 3:r=new Y,i=$(e.body),s=!1,o=!1,t.prev=7,c=Z(i);case 9:return t.next=11,k(c.next());case 11:if(!(s=!(l=t.sent).done)){t.next=35;break}f=l.value,p=(0,h.Z)(r.decode(f)),t.prev=14,p.s();case 16:if((d=p.n()).done){t.next=24;break}if(m=d.value,!(y=a.decode(m))){t.next=22;break}return t.next=22,y;case 22:t.next=16;break;case 24:t.next=29;break;case 26:t.prev=26,t.t0=t.catch(14),p.e(t.t0);case 29:return t.prev=29,p.f(),t.finish(29);case 32:s=!1,t.next=9;break;case 35:t.next=41;break;case 37:t.prev=37,t.t1=t.catch(7),o=!0,u=t.t1;case 41:if(t.prev=41,t.prev=42,!s||null==c.return){t.next=46;break}return t.next=46,k(c.return());case 46:if(t.prev=46,!o){t.next=49;break}throw u;case 49:return t.finish(46);case 50:return t.finish(41);case 51:b=(0,h.Z)(r.flush()),t.prev=52,b.s();case 54:if((g=b.n()).done){t.next=62;break}if(w=g.value,!(x=a.decode(w))){t.next=60;break}return t.next=60,x;case 60:t.next=54;break;case 62:t.next=67;break;case 64:t.prev=64,t.t2=t.catch(52),b.e(t.t2);case 67:return t.prev=67,b.f(),t.finish(67);case 70:case"end":return t.stop()}}),t,null,[[7,37,41,51],[14,26,29,32],[42,,46,50],[52,64,67,70]])})))).apply(this,arguments)}function o(){return(o=x((0,v.Z)().mark((function e(){var t,a,s,o,u,c,l,f;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=2;break}throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");case 2:r=!0,t=!1,e.prev=4,a=!1,s=!1,e.prev=7,u=Z(i());case 9:return e.next=11,k(u.next());case 11:if(!(a=!(c=e.sent).done)){e.next=36;break}if(l=c.value,!t){e.next=15;break}return e.abrupt("continue",33);case 15:if(!l.data.startsWith("[DONE]")){e.next=18;break}return t=!0,e.abrupt("continue",33);case 18:if(null!==l.event){e.next=33;break}f=void 0,e.prev=20,f=JSON.parse(l.data),e.next=29;break;case 24:throw e.prev=24,e.t0=e.catch(20),console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),e.t0;case 29:if(!f||!f.error){e.next=31;break}throw new B(void 0,f.error,void 0,void 0);case 31:return e.next=33,f;case 33:a=!1,e.next=9;break;case 36:e.next=42;break;case 38:e.prev=38,e.t1=e.catch(7),s=!0,o=e.t1;case 42:if(e.prev=42,e.prev=43,!a||null==u.return){e.next=47;break}return e.next=47,k(u.return());case 47:if(e.prev=47,!s){e.next=50;break}throw o;case 50:return e.finish(47);case 51:return e.finish(42);case 52:t=!0,e.next=60;break;case 55:if(e.prev=55,e.t2=e.catch(4),!(e.t2 instanceof Error&&"AbortError"===e.t2.name)){e.next=59;break}return e.abrupt("return");case 59:throw e.t2;case 60:return e.prev=60,t||n.abort(),e.finish(60);case 63:case"end":return e.stop()}}),e,null,[[4,55,60,63],[7,38,42,52],[20,24],[43,,47,51]])})))).apply(this,arguments)}return new t((function(){return o.apply(this,arguments)}),n)}},{key:"fromReadableStream",value:function(e,n){var r=!1;function a(){return i.apply(this,arguments)}function i(){return(i=x((0,v.Z)().mark((function t(){var n,r,a,i,s,o,u,c,l,f,p,d,m,y;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Y,r=$(e),a=!1,i=!1,t.prev=4,o=Z(r);case 6:return t.next=8,k(o.next());case 8:if(!(a=!(u=t.sent).done)){t.next=30;break}c=u.value,l=(0,h.Z)(n.decode(c)),t.prev=11,l.s();case 13:if((f=l.n()).done){t.next=19;break}return p=f.value,t.next=17,p;case 17:t.next=13;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(11),l.e(t.t0);case 24:return t.prev=24,l.f(),t.finish(24);case 27:a=!1,t.next=6;break;case 30:t.next=36;break;case 32:t.prev=32,t.t1=t.catch(4),i=!0,s=t.t1;case 36:if(t.prev=36,t.prev=37,!a||null==o.return){t.next=41;break}return t.next=41,k(o.return());case 41:if(t.prev=41,!i){t.next=44;break}throw s;case 44:return t.finish(41);case 45:return t.finish(36);case 46:d=(0,h.Z)(n.flush()),t.prev=47,d.s();case 49:if((m=d.n()).done){t.next=55;break}return y=m.value,t.next=53,y;case 53:t.next=49;break;case 55:t.next=60;break;case 57:t.prev=57,t.t2=t.catch(47),d.e(t.t2);case 60:return t.prev=60,d.f(),t.finish(60);case 63:case"end":return t.stop()}}),t,null,[[4,32,36,46],[11,21,24,27],[37,,41,45],[47,57,60,63]])})))).apply(this,arguments)}function s(){return(s=x((0,v.Z)().mark((function e(){var t,i,s,o,u,c,l;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=2;break}throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");case 2:r=!0,t=!1,e.prev=4,i=!1,s=!1,e.prev=7,u=Z(a());case 9:return e.next=11,k(u.next());case 11:if(!(i=!(c=e.sent).done)){e.next=21;break}if(l=c.value,!t){e.next=15;break}return e.abrupt("continue",18);case 15:if(!l){e.next=18;break}return e.next=18,JSON.parse(l);case 18:i=!1,e.next=9;break;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(7),s=!0,o=e.t0;case 27:if(e.prev=27,e.prev=28,!i||null==u.return){e.next=32;break}return e.next=32,k(u.return());case 32:if(e.prev=32,!s){e.next=35;break}throw o;case 35:return e.finish(32);case 36:return e.finish(27);case 37:t=!0,e.next=45;break;case 40:if(e.prev=40,e.t1=e.catch(4),!(e.t1 instanceof Error&&"AbortError"===e.t1.name)){e.next=44;break}return e.abrupt("return");case 44:throw e.t1;case 45:return e.prev=45,t||n.abort(),e.finish(45);case 48:case"end":return e.stop()}}),e,null,[[4,40,45,48],[7,23,27,37],[28,,32,36]])})))).apply(this,arguments)}return new t((function(){return s.apply(this,arguments)}),n)}}]),t}(Symbol.asyncIterator),Q=function(){function e(){(0,i.Z)(this,e),this.event=null,this.data=[],this.chunks=[]}return(0,s.Z)(e,[{key:"decode",value:function(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;var t={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],t}if(this.chunks.push(e),e.startsWith(":"))return null;var n=function(e,t){var n=e.indexOf(t);if(-1!==n)return[e.substring(0,n),t,e.substring(n+t.length)];return[e,"",""]}(e,":"),r=(0,d.Z)(n,3),a=r[0],i=(r[1],r[2]);return i.startsWith(" ")&&(i=i.substring(1)),"event"===a?this.event=i:"data"===a&&this.data.push(i),null}}]),e}(),Y=function(){function e(){(0,i.Z)(this,e),this.buffer=[],this.trailingCR=!1}return(0,s.Z)(e,[{key:"decode",value:function(t){var n=this.decodeText(t);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];var r=e.NEWLINE_CHARS.has(n[n.length-1]||""),a=n.split(e.NEWLINE_REGEXP);return 1!==a.length||r?(this.buffer.length>0&&(a=[this.buffer.join("")+a[0]].concat((0,p.Z)(a.slice(1))),this.buffer=[]),r||(this.buffer=[a.pop()||""]),a):(this.buffer.push(a[0]),[])}},{key:"decodeText",value:function(e){if(null==e)return"";if("string"===typeof e)return e;if("undefined"!==typeof Buffer){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new M("Unexpected: received non-Uint8Array (".concat(e.constructor.name,') stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.'))}if("undefined"!==typeof TextDecoder){var t;if(e instanceof Uint8Array||e instanceof ArrayBuffer)return null!==(t=this.textDecoder)&&void 0!==t||(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new M("Unexpected: received non-Uint8Array/ArrayBuffer (".concat(e.constructor.name,") in a web platform. Please report this error."))}throw new M("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}},{key:"flush",value:function(){if(!this.buffer.length&&!this.trailingCR)return[];var e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}]),e}();function $(e){if(e[Symbol.asyncIterator])return e;var t=e.getReader();return(0,A.Z)({next:function(){return(0,y.Z)((0,v.Z)().mark((function e(){var n;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.read();case 3:return null!==(n=e.sent)&&void 0!==n&&n.done&&t.releaseLock(),e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),t.releaseLock(),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},return:function(){return(0,y.Z)((0,v.Z)().mark((function e(){var n;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cancel(),t.releaseLock(),e.next=4,n;case 4:return e.abrupt("return",{done:!0,value:void 0});case 5:case"end":return e.stop()}}),e)})))()}},Symbol.asyncIterator,(function(){return this}))}Y.NEWLINE_CHARS=new Set(["\n","\r","\v","\f","\x1c","\x1d","\x1e","\x85","\u2028","\u2029"]),Y.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;var ee=function(e){return null!=e&&"object"===typeof e&&"string"===typeof e.url&&"function"===typeof e.blob},te=function(e){return null!=e&&"object"===typeof e&&"number"===typeof e.size&&"string"===typeof e.type&&"function"===typeof e.text&&"function"===typeof e.slice&&"function"===typeof e.arrayBuffer},ne=function(e){return function(e){return null!=e&&"object"===typeof e&&"string"===typeof e.name&&"number"===typeof e.lastModified&&te(e)}(e)||ee(e)||N(e)};function re(e,t){return ae.apply(this,arguments)}function ae(){return ae=(0,y.Z)((0,v.Z)().mark((function e(t,n){var a,i,s,o,u,c,l,f=arguments;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=f.length>2&&void 0!==f[2]?f[2]:{},e.next=3,t;case 3:if(t=e.sent,!ee(t)){e.next=10;break}return e.next=7,t.blob();case 7:return o=e.sent,n||(n=null!==(s=new URL(t.url).pathname.split(/[\\/]/).pop())&&void 0!==s?s:"unknown_file"),e.abrupt("return",new S([o],n,i));case 10:return e.next=12,ie(t);case 12:return u=e.sent,n||(n=null!==(a=ue(t))&&void 0!==a?a:"unknown_file"),i.type||"string"===typeof(l=null===(c=u[0])||void 0===c?void 0:c.type)&&(i=(0,r.Z)((0,r.Z)({},i),{},{type:l})),e.abrupt("return",new S(u,n,i));case 16:case"end":return e.stop()}}),e)}))),ae.apply(this,arguments)}function ie(e){return se.apply(this,arguments)}function se(){return(se=(0,y.Z)((0,v.Z)().mark((function e(t){var n,r,a,i,s,o,u,c;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],!("string"===typeof t||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)){e.next=5;break}n.push(t),e.next=45;break;case 5:if(!te(t)){e.next=13;break}return e.t0=n,e.next=9,t.arrayBuffer();case 9:e.t1=e.sent,e.t0.push.call(e.t0,e.t1),e.next=45;break;case 13:if(!fe(t)){e.next=44;break}r=!1,a=!1,e.prev=16,s=Z(t);case 18:return e.next=20,s.next();case 20:if(!(r=!(o=e.sent).done)){e.next=26;break}u=o.value,n.push(u);case 23:r=!1,e.next=18;break;case 26:e.next=32;break;case 28:e.prev=28,e.t2=e.catch(16),a=!0,i=e.t2;case 32:if(e.prev=32,e.prev=33,!r||null==s.return){e.next=37;break}return e.next=37,s.return();case 37:if(e.prev=37,!a){e.next=40;break}throw i;case 40:return e.finish(37);case 41:return e.finish(32);case 42:e.next=45;break;case 44:throw new Error("Unexpected data type: ".concat(typeof t,"; constructor: ").concat(null===t||void 0===t||null===(c=t.constructor)||void 0===c?void 0:c.name,"; props: ").concat(oe(t)));case 45:return e.abrupt("return",n);case 46:case"end":return e.stop()}}),e,null,[[16,28,32,42],[33,,37,41]])})))).apply(this,arguments)}function oe(e){var t=Object.getOwnPropertyNames(e);return"[".concat(t.map((function(e){return'"'.concat(e,'"')})).join(", "),"]")}function ue(e){var t;return le(e.name)||le(e.filename)||(null===(t=le(e.path))||void 0===t?void 0:t.split(/[\\/]/).pop())}var ce,le=function(e){return"string"===typeof e?e:"undefined"!==typeof Buffer&&e instanceof Buffer?String(e):void 0},fe=function(e){return null!=e&&"object"===typeof e&&"function"===typeof e[Symbol.asyncIterator]},he=function(e){return e&&"object"===typeof e&&e.body&&"MultipartBody"===e[Symbol.toStringTag]},pe=function(){var e=(0,y.Z)((0,v.Z)().mark((function e(t){var n;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de(t.body);case 2:return n=e.sent,e.abrupt("return",T(n,t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=(0,y.Z)((0,v.Z)().mark((function e(t){var n;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new C,e.next=3,Promise.all(Object.entries(t||{}).map((function(e){var t=(0,d.Z)(e,2),r=t[0],a=t[1];return ve(n,r,a)})));case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=(0,y.Z)((0,v.Z)().mark((function e(t,n,r){var a;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==r){e.next=2;break}return e.abrupt("return");case 2:if(null!=r){e.next=4;break}throw new TypeError('Received null for "'.concat(n,"\"; to pass null in FormData, you must use the string 'null'"));case 4:if("string"!==typeof r&&"number"!==typeof r&&"boolean"!==typeof r){e.next=8;break}t.append(n,String(r)),e.next=26;break;case 8:if(!ne(r)){e.next=15;break}return e.next=11,re(r);case 11:a=e.sent,t.append(n,a),e.next=26;break;case 15:if(!Array.isArray(r)){e.next=20;break}return e.next=18,Promise.all(r.map((function(e){return ve(t,n+"[]",e)})));case 18:case 23:e.next=26;break;case 20:if("object"!==typeof r){e.next=25;break}return e.next=23,Promise.all(Object.entries(r).map((function(e){var r=(0,d.Z)(e,2),a=r[0],i=r[1];return ve(t,"".concat(n,"[").concat(a,"]"),i)})));case 25:throw new TypeError("Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ".concat(r," instead"));case 26:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),me=["signal"],ye=function(e,t,n,r,a){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?a.call(e,n):a?a.value=n:t.set(e,n),n},Ze=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};function be(e){return ge.apply(this,arguments)}function ge(){return(ge=(0,y.Z)((0,v.Z)().mark((function e(t){var n,r,a,i;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.response,!t.options.stream){e.next=4;break}return Fe("response",n.status,n.url,n.headers,n.body),e.abrupt("return",z.fromSSEResponse(n,t.controller));case 4:if(204!==n.status){e.next=6;break}return e.abrupt("return",null);case 6:if(!t.options.__binaryResponse){e.next=8;break}return e.abrupt("return",n);case 8:if(null===(r=n.headers.get("content-type"))||void 0===r||!r.includes("application/json")){e.next=15;break}return e.next=12,n.json();case 12:return a=e.sent,Fe("response",n.status,n.url,n.headers,a),e.abrupt("return",a);case 15:return e.next=17,n.text();case 17:return i=e.sent,Fe("response",n.status,n.url,n.headers,i),e.abrupt("return",i);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ke=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:be;return(0,i.Z)(this,n),(r=t.call(this,(function(e){e(null)}))).responsePromise=e,r.parseResponse=a,r}return(0,s.Z)(n,[{key:"_thenUnwrap",value:function(e){var t=this;return new n(this.responsePromise,function(){var n=(0,y.Z)((0,v.Z)().mark((function n(r){return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=e,n.next=3,t.parseResponse(r);case 3:return n.t1=n.sent,n.abrupt("return",(0,n.t0)(n.t1));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},{key:"asResponse",value:function(){return this.responsePromise.then((function(e){return e.response}))}},{key:"withResponse",value:function(){var e=(0,y.Z)((0,v.Z)().mark((function e(){var t,n,r,a;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.parse(),this.asResponse()]);case 2:return t=e.sent,n=(0,d.Z)(t,2),r=n[0],a=n[1],e.abrupt("return",{data:r,response:a});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"parse",value:function(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}},{key:"then",value:function(e,t){return this.parse().then(e,t)}},{key:"catch",value:function(e){return this.parse().catch(e)}},{key:"finally",value:function(e){return this.parse().finally(e)}}]),n}((0,m.Z)(Promise)),we=function(){function e(t){var n=t.baseURL,r=t.maxRetries,a=void 0===r?2:r,s=t.timeout,o=void 0===s?6e5:s,u=t.httpAgent,c=t.fetch;(0,i.Z)(this,e),this.baseURL=n,this.maxRetries=Me("maxRetries",a),this.timeout=Me("timeout",o),this.httpAgent=u,this.fetch=null!==c&&void 0!==c?c:R}return(0,s.Z)(e,[{key:"authHeaders",value:function(e){return{}}},{key:"defaultHeaders",value:function(e){return(0,r.Z)((0,r.Z)({Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent()},Te()),this.authHeaders(e))}},{key:"validateHeaders",value:function(e,t){}},{key:"defaultIdempotencyKey",value:function(){return"stainless-node-retry-".concat(Ue())}},{key:"get",value:function(e,t){return this.methodRequest("get",e,t)}},{key:"post",value:function(e,t){return this.methodRequest("post",e,t)}},{key:"patch",value:function(e,t){return this.methodRequest("patch",e,t)}},{key:"put",value:function(e,t){return this.methodRequest("put",e,t)}},{key:"delete",value:function(e,t){return this.methodRequest("delete",e,t)}},{key:"methodRequest",value:function(e,t,n){return this.request(Promise.resolve(n).then((function(n){return(0,r.Z)({method:e,path:t},n)})))}},{key:"getAPIList",value:function(e,t,n){return this.requestAPIList(t,(0,r.Z)({method:"get",path:e},n))}},{key:"calculateContentLength",value:function(e){if("string"===typeof e){if("undefined"!==typeof Buffer)return Buffer.byteLength(e,"utf8").toString();if("undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e).length.toString()}return null}},{key:"buildRequest",value:function(e){var t,n,a,i,s,o,u=e.method,c=e.path,l=e.query,f=e.headers,h=void 0===f?{}:f,p=he(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,d=this.calculateContentLength(p),v=this.buildURL(c,l);"timeout"in e&&Me("timeout",e.timeout);var m=null!==(t=e.timeout)&&void 0!==t?t:this.timeout,y=null!==(n=null!==(a=e.httpAgent)&&void 0!==a?a:this.httpAgent)&&void 0!==n?n:O(v),Z=m+1e3;"number"===typeof(null===y||void 0===y||null===(i=y.options)||void 0===i?void 0:i.timeout)&&Z>(null!==(s=y.options.timeout)&&void 0!==s?s:0)&&(y.options.timeout=Z),this.idempotencyHeader&&"get"!==u&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),h[this.idempotencyHeader]=e.idempotencyKey);var b=(0,r.Z)((0,r.Z)((0,r.Z)({},d&&{"Content-Length":d}),this.defaultHeaders(e)),h);he(e.body)&&"node"!==E&&delete b["Content-Type"],Object.keys(b).forEach((function(e){return null===b[e]&&delete b[e]}));var g=(0,r.Z)((0,r.Z)((0,r.Z)({method:u},p&&{body:p}),{},{headers:b},y&&{agent:y}),{},{signal:null!==(o=e.signal)&&void 0!==o?o:null});return this.validateHeaders(b,h),{req:g,url:v,timeout:m}}},{key:"prepareRequest",value:function(){var e=(0,y.Z)((0,v.Z)().mark((function e(t,n){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.url,n.options;case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"parseHeaders",value:function(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map((function(e){return(0,p.Z)(e)}))):(0,r.Z)({},e):{}}},{key:"makeStatusError",value:function(e,t,n,r){return B.generate(e,t,n,r)}},{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new ke(this.makeRequest(e,t))}},{key:"makeRequest",value:function(){var e=(0,y.Z)((0,v.Z)().mark((function e(t,n){var r,a,i,s,o,u,c,l,f,h,p,d,m,y;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return a=e.sent,null==n&&(n=null!==(i=a.maxRetries)&&void 0!==i?i:this.maxRetries),s=this.buildRequest(a),o=s.req,u=s.url,c=s.timeout,e.next=7,this.prepareRequest(o,{url:u,options:a});case 7:if(Fe("request",u,a,o.headers),null===(r=a.signal)||void 0===r||!r.aborted){e.next=10;break}throw new D;case 10:return l=new AbortController,e.next=13,this.fetchWithTimeout(u,o,c,l).catch(Be);case 13:if(!((f=e.sent)instanceof Error)){e.next=22;break}if(null===(h=a.signal)||void 0===h||!h.aborted){e.next=17;break}throw new D;case 17:if(!n){e.next=19;break}return e.abrupt("return",this.retryRequest(a,n));case 19:if("AbortError"!==f.name){e.next=21;break}throw new F;case 21:throw new q({cause:f});case 22:if(p=Ae(f.headers),f.ok){e.next=34;break}if(!n||!this.shouldRetry(f)){e.next=26;break}return e.abrupt("return",this.retryRequest(a,n,p));case 26:return e.next=28,f.text().catch((function(e){return Be(e).message}));case 28:throw d=e.sent,m=Oe(d),y=m?void 0:d,Fe("response",f.status,u,p,y),this.makeStatusError(f.status,m,y,p);case 34:return e.abrupt("return",{response:f,options:a,controller:l});case 35:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"requestAPIList",value:function(e,t){var n=this.makeRequest(t,null);return new _e(this,n,e)}},{key:"buildURL",value:function(e,t){var n=Ne(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return qe(a)||(t=(0,r.Z)((0,r.Z)({},a),t)),t&&(n.search=this.stringifyQuery(t)),n.toString()}},{key:"stringifyQuery",value:function(e){return Object.entries(e).filter((function(e){var t=(0,d.Z)(e,2);t[0];return"undefined"!==typeof t[1]})).map((function(e){var t=(0,d.Z)(e,2),n=t[0],r=t[1];if("string"===typeof r||"number"===typeof r||"boolean"===typeof r)return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(r));if(null===r)return"".concat(encodeURIComponent(n),"=");throw new M("Cannot stringify type ".concat(typeof r,"; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case."))})).join("&")}},{key:"fetchWithTimeout",value:function(){var e=(0,y.Z)((0,v.Z)().mark((function e(t,n,i,s){var o,u,c,l;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=(o=n||{}).signal,c=(0,a.Z)(o,me),u&&u.addEventListener("abort",(function(){return s.abort()})),l=setTimeout((function(){return s.abort()}),i),e.abrupt("return",this.getRequestClient().fetch.call(void 0,t,(0,r.Z)({signal:s.signal},c)).finally((function(){clearTimeout(l)})));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"getRequestClient",value:function(){return{fetch:this.fetch}}},{key:"shouldRetry",value:function(e){var t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||(409===e.status||(429===e.status||e.status>=500)))}},{key:"retryRequest",value:function(){var e=(0,y.Z)((0,v.Z)().mark((function e(t,n,r){var a,i,s,o,u;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=null===r||void 0===r?void 0:r["retry-after"])&&(s=parseInt(i),a=Number.isNaN(s)?Date.parse(i)-Date.now():1e3*s),(!a||!Number.isInteger(a)||a<=0||a>6e4)&&(u=null!==(o=t.maxRetries)&&void 0!==o?o:this.maxRetries,a=this.calculateDefaultRetryTimeoutMillis(n,u)),e.next=5,je(a);case 5:return e.abrupt("return",this.makeRequest(t,n-1));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"calculateDefaultRetryTimeoutMillis",value:function(e,t){var n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}},{key:"getUserAgent",value:function(){return"".concat(this.constructor.name,"/JS ").concat(_)}}]),e}(),xe=function(e){function t(e,n,r,a){(0,i.Z)(this,t),ce.set(this,void 0),ye(this,ce,e,"f"),this.options=a,this.response=n,this.body=r}return(0,s.Z)(t,[{key:"hasNextPage",value:function(){return!!this.getPaginatedItems().length&&null!=this.nextPageInfo()}},{key:"getNextPage",value:function(){var e=(0,y.Z)((0,v.Z)().mark((function e(){var t,n,a,i,s,o,u,c;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.nextPageInfo()){e.next=3;break}throw new M("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");case 3:if(n=(0,r.Z)({},this.options),"params"in t)n.query=(0,r.Z)((0,r.Z)({},n.query),t.params);else if("url"in t){a=[].concat((0,p.Z)(Object.entries(n.query||{})),(0,p.Z)(t.url.searchParams.entries())),i=(0,h.Z)(a);try{for(i.s();!(s=i.n()).done;)o=(0,d.Z)(s.value,2),u=o[0],c=o[1],t.url.searchParams.set(u,c)}catch(l){i.e(l)}finally{i.f()}n.query=void 0,n.path=t.url.toString()}return e.next=7,Ze(this,ce,"f").requestAPIList(this.constructor,n);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"iterPages",value:function(){var e=this;return x((0,v.Z)().mark((function t(){var n;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,t.next=3,n;case 3:if(!n.hasNextPage()){t.next=11;break}return t.next=6,k(n.getNextPage());case 6:return n=t.sent,t.next=9,n;case 9:t.next=3;break;case 11:case"end":return t.stop()}}),t)})))()}},{key:e,value:function(){var e=this;return x((0,v.Z)().mark((function t(){var n,r,a,i,s,o,u,c,l;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=!1,r=!1,t.prev=2,i=Z(e.iterPages());case 4:return t.next=6,k(i.next());case 6:if(!(n=!(s=t.sent).done)){t.next=28;break}o=s.value,u=(0,h.Z)(o.getPaginatedItems()),t.prev=9,u.s();case 11:if((c=u.n()).done){t.next=17;break}return l=c.value,t.next=15,l;case 15:t.next=11;break;case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(9),u.e(t.t0);case 22:return t.prev=22,u.f(),t.finish(22);case 25:n=!1,t.next=4;break;case 28:t.next=34;break;case 30:t.prev=30,t.t1=t.catch(2),r=!0,a=t.t1;case 34:if(t.prev=34,t.prev=35,!n||null==i.return){t.next=39;break}return t.next=39,k(i.return());case 39:if(t.prev=39,!r){t.next=42;break}throw a;case 42:return t.finish(39);case 43:return t.finish(34);case 44:case"end":return t.stop()}}),t,null,[[2,30,34,44],[9,19,22,25],[35,,39,43]])})))()}}]),t}((ce=new WeakMap,Symbol.asyncIterator)),_e=function(e,t){(0,l.Z)(r,e);var n=(0,f.Z)(r);function r(e,t,a){return(0,i.Z)(this,r),n.call(this,t,function(){var t=(0,y.Z)((0,v.Z)().mark((function t(n){return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=a,t.t1=e,t.t2=n.response,t.next=5,be(n);case 5:return t.t3=t.sent,t.t4=n.options,t.abrupt("return",new t.t0(t.t1,t.t2,t.t3,t.t4));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}return(0,s.Z)(r,[{key:t,value:function(){var e=this;return x((0,v.Z)().mark((function t(){var n,r,a,i,s,o,u;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(e);case 2:n=t.sent,r=!1,a=!1,t.prev=5,s=Z(n);case 7:return t.next=9,k(s.next());case 9:if(!(r=!(o=t.sent).done)){t.next=16;break}return u=o.value,t.next=13,u;case 13:r=!1,t.next=7;break;case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(5),a=!0,i=t.t0;case 22:if(t.prev=22,t.prev=23,!r||null==s.return){t.next=27;break}return t.next=27,k(s.return());case 27:if(t.prev=27,!a){t.next=30;break}throw i;case 30:return t.finish(27);case 31:return t.finish(22);case 32:case"end":return t.stop()}}),t,null,[[5,18,22,32],[23,,27,31]])})))()}}]),r}(ke,Symbol.asyncIterator),Ae=function(e){return new Proxy(Object.fromEntries(e.entries()),{get:function(e,t){var n=t.toString();return e[n.toLowerCase()]||e[n]}})},Pe={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryResponse:!0},Ee=function(e){return"object"===typeof e&&null!==e&&!qe(e)&&Object.keys(e).every((function(e){return function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Pe,e)}))},Re=function(){if("undefined"!==typeof Deno&&null!=Deno.build)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_,"X-Stainless-OS":Ie(Deno.build.os),"X-Stainless-Arch":Se(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":Deno.version};if("undefined"!==typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"other:".concat(EdgeRuntime),"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if("[object process]"===Object.prototype.toString.call("undefined"!==typeof process?process:0))return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_,"X-Stainless-OS":Ie(process.platform),"X-Stainless-Arch":Se(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};var e=function(){if("undefined"===typeof navigator||!navigator)return null;for(var e=0,t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];e<t.length;e++){var n=t[e],r=n.key,a=n.pattern.exec(navigator.userAgent);if(a){var i=a[1]||0,s=a[2]||0,o=a[3]||0;return{browser:r,version:"".concat(i,".").concat(s,".").concat(o)}}}return null}();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"browser:".concat(e.browser),"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};var Ce,Se=function(e){return"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?"other:".concat(e):"unknown"},Ie=function(e){return(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?"Other:".concat(e):"Unknown"},Te=function(){var e;return null!==(e=Ce)&&void 0!==e?e:Ce=Re()},Oe=function(e){try{return JSON.parse(e)}catch(t){return}},Le=new RegExp("^(?:[a-z]+:)?//","i"),Ne=function(e){return Le.test(e)},je=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Me=function(e,t){if("number"!==typeof t||!Number.isInteger(t))throw new M("".concat(e," must be an integer"));if(t<0)throw new M("".concat(e," must be a positive integer"));return t},Be=function(e){return e instanceof Error?e:new Error(e)},De=function(e){var t,n,r,a;return"undefined"!==typeof process?null!==(t=null===(n={NODE_ENV:"production",PUBLIC_URL:"/checks-cool",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyAK7LLwtvPzIJoX_loNqoVpat-SbPjCbVo",REACT_APP_APP_ID:"1:1085563899383:web:2e0d2f63c7613dd31472f2",REACT_APP_AUTH_DOMAIN:"checks-cho-ok.firebaseapp.com",REACT_APP_EMAILJS_INIT:"zmiKsAoIgU2wmfq7h",REACT_APP_EMAILJS_SERVICEID:"service_hehqkls",REACT_APP_EMAILJS_TEMPLATEID:"template_su19avq",REACT_APP_GOOGLE_OCR_API_KEY:"AIzaSyBZOH8k3MvnN5QuOLz5SDIbp-RLNn-Lhec",REACT_APP_G_CLIENT_ID:"1085563899383-ar9gkn72f7i8iphn61st2dut60nvujij.apps.googleusercontent.com",REACT_APP_G_CLIENT_SECRET:"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",REACT_APP_KERBONG:"g9ZfUh9tlLQQ8G7EdvOB67egsXs2",REACT_APP_MEASUREMENT_ID:"G-4J3Y83W60K",REACT_APP_MESSAGING_SENDER_ID:"1085563899383",REACT_APP_NAVER_OCR_INVOKE_URL:"https://a4929zexaf.apigw.ntruss.com/custom/v1/18557/6d58ba3626b8ecce640f3a4a64775e2dcc85d6813b60f59583d9a3f8f1ce75e7/general",REACT_APP_NAVER_OCR_SECRET_KEY:"c3FhaHZvTFZJd1dMQkFMT1lWWXBWeHVRa1NmVm5hVVM=",REACT_APP_NEIS_OPEN_API:"9be75b74ef234e9cbd3974882caea449",REACT_APP_OCR_LOCAL:"todayOcrTry",REACT_APP_OPENAPI_DOCNAME:"apifromkerbonggmail",REACT_APP_PROJECT_ID:"checks-cho-ok",REACT_APP_PUBLIC_URL:"/checks-cool/",REACT_APP_STORAGE_BUCKET:"checks-cho-ok.appspot.com",REACT_APP_VAPID_KEY:"BDBE3GH7IV5jylNghGKzQJ5NSD1wgj8buvvlqlh2rClCeA1Pj_Z9TgecFGWbyf98sejniWQJjfXKsH7ATwh4ogQ"})||void 0===n?void 0:n[e])&&void 0!==t?t:void 0:"undefined"!==typeof Deno?null===(r=Deno.env)||void 0===r||null===(a=r.get)||void 0===a?void 0:a.call(r,e):void 0};function qe(e){if(!e)return!0;for(var t in e)return!1;return!0}function Fe(e){if("undefined"!==typeof process&&"true"==={NODE_ENV:"production",PUBLIC_URL:"/checks-cool",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyAK7LLwtvPzIJoX_loNqoVpat-SbPjCbVo",REACT_APP_APP_ID:"1:1085563899383:web:2e0d2f63c7613dd31472f2",REACT_APP_AUTH_DOMAIN:"checks-cho-ok.firebaseapp.com",REACT_APP_EMAILJS_INIT:"zmiKsAoIgU2wmfq7h",REACT_APP_EMAILJS_SERVICEID:"service_hehqkls",REACT_APP_EMAILJS_TEMPLATEID:"template_su19avq",REACT_APP_GOOGLE_OCR_API_KEY:"AIzaSyBZOH8k3MvnN5QuOLz5SDIbp-RLNn-Lhec",REACT_APP_G_CLIENT_ID:"1085563899383-ar9gkn72f7i8iphn61st2dut60nvujij.apps.googleusercontent.com",REACT_APP_G_CLIENT_SECRET:"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",REACT_APP_KERBONG:"g9ZfUh9tlLQQ8G7EdvOB67egsXs2",REACT_APP_MEASUREMENT_ID:"G-4J3Y83W60K",REACT_APP_MESSAGING_SENDER_ID:"1085563899383",REACT_APP_NAVER_OCR_INVOKE_URL:"https://a4929zexaf.apigw.ntruss.com/custom/v1/18557/6d58ba3626b8ecce640f3a4a64775e2dcc85d6813b60f59583d9a3f8f1ce75e7/general",REACT_APP_NAVER_OCR_SECRET_KEY:"c3FhaHZvTFZJd1dMQkFMT1lWWXBWeHVRa1NmVm5hVVM=",REACT_APP_NEIS_OPEN_API:"9be75b74ef234e9cbd3974882caea449",REACT_APP_OCR_LOCAL:"todayOcrTry",REACT_APP_OPENAPI_DOCNAME:"apifromkerbonggmail",REACT_APP_PROJECT_ID:"checks-cho-ok",REACT_APP_PUBLIC_URL:"/checks-cool/",REACT_APP_STORAGE_BUCKET:"checks-cho-ok.appspot.com",REACT_APP_VAPID_KEY:"BDBE3GH7IV5jylNghGKzQJ5NSD1wgj8buvvlqlh2rClCeA1Pj_Z9TgecFGWbyf98sejniWQJjfXKsH7ATwh4ogQ"}.DEBUG){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];(t=console).log.apply(t,["OpenAI:DEBUG:".concat(e)].concat(r))}}var Ue=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},We=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(e,r,a,s){var o;return(0,i.Z)(this,n),(o=t.call(this,e,r,a,s)).data=a.data,o.object=a.object,o}return(0,s.Z)(n,[{key:"getPaginatedItems",value:function(){return this.data}},{key:"nextPageParams",value:function(){return null}},{key:"nextPageInfo",value:function(){return null}}]),n}(xe),Ke=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(e,r,a,s){var o;return(0,i.Z)(this,n),(o=t.call(this,e,r,a,s)).data=a.data,o}return(0,s.Z)(n,[{key:"getPaginatedItems",value:function(){return this.data}},{key:"nextPageParams",value:function(){var e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;var t=Object.fromEntries(e.url.searchParams);return Object.keys(t).length?t:null}},{key:"nextPageInfo",value:function(){var e,t;if(null===(e=this.data)||void 0===e||!e.length)return null;var n=null===(t=this.data[this.data.length-1])||void 0===t?void 0:t.id;return n?{params:{after:n}}:null}}]),n}(xe),Xe=(0,s.Z)((function e(t){(0,i.Z)(this,e),this.client=t,this.get=t.get.bind(t),this.post=t.post.bind(t),this.patch=t.patch.bind(t),this.put=t.put.bind(t),this.delete=t.delete.bind(t),this.getAPIList=t.getAPIList.bind(t)})),Je=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"create",value:function(e,t){var n;return this.post("/completions",(0,r.Z)((0,r.Z)({body:e},t),{},{stream:null!==(n=e.stream)&&void 0!==n&&n}))}}]),n}(Xe);Je||(Je={});var Ve=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"create",value:function(e,t){var n;return this.post("/chat/completions",(0,r.Z)((0,r.Z)({body:e},t),{},{stream:null!==(n=e.stream)&&void 0!==n&&n}))}}]),n}(Xe);Ve||(Ve={});var He=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.apply(this,arguments)).completions=new Ve(e.client),e}return(0,s.Z)(n)}(Xe);!function(e){e.Completions=Ve}(He||(He={}));var Ge=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"create",value:function(e,t){return this.post("/edits",(0,r.Z)({body:e},t))}}]),n}(Xe);Ge||(Ge={});var ze=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"create",value:function(e,t){return this.post("/embeddings",(0,r.Z)({body:e},t))}}]),n}(Xe);ze||(ze={});var Qe=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"create",value:function(e,t){return this.post("/files",pe((0,r.Z)({body:e},t)))}},{key:"retrieve",value:function(e,t){return this.get("/files/".concat(e),t)}},{key:"list",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Ee(e)?this.list({},e):this.getAPIList("/files",Ye,(0,r.Z)({query:e},t))}},{key:"del",value:function(e,t){return this.delete("/files/".concat(e),t)}},{key:"content",value:function(e,t){return this.get("/files/".concat(e,"/content"),(0,r.Z)((0,r.Z)({},t),{},{__binaryResponse:!0}))}},{key:"retrieveContent",value:function(e,t){return this.get("/files/".concat(e,"/content"),(0,r.Z)((0,r.Z)({},t),{},{headers:(0,r.Z)({Accept:"application/json"},null===t||void 0===t?void 0:t.headers)}))}},{key:"waitForProcessing",value:function(){var e=(0,y.Z)((0,v.Z)().mark((function e(t){var n,r,a,i,s,o,u,c,l=arguments;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n=l.length>1&&void 0!==l[1]?l[1]:{}).pollInterval,a=void 0===r?5e3:r,i=n.maxWait,s=void 0===i?18e5:i,o=new Set(["processed","error","deleted"]),u=Date.now(),e.next=5,this.retrieve(t);case 5:c=e.sent;case 6:if(c.status&&o.has(c.status)){e.next=16;break}return e.next=9,je(a);case 9:return e.next=11,this.retrieve(t);case 11:if(c=e.sent,!(Date.now()-u>s)){e.next=14;break}throw new F({message:"Giving up on waiting for file ".concat(t," to finish processing after ").concat(s," milliseconds.")});case 14:e.next=6;break;case 16:return e.abrupt("return",c);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Xe),Ye=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n)}(We);!function(e){e.FileObjectsPage=Ye}(Qe||(Qe={}));var $e=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"createVariation",value:function(e,t){return this.post("/images/variations",pe((0,r.Z)({body:e},t)))}},{key:"edit",value:function(e,t){return this.post("/images/edits",pe((0,r.Z)({body:e},t)))}},{key:"generate",value:function(e,t){return this.post("/images/generations",(0,r.Z)({body:e},t))}}]),n}(Xe);$e||($e={});var et=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"create",value:function(e,t){return this.post("/audio/speech",(0,r.Z)((0,r.Z)({body:e},t),{},{__binaryResponse:!0}))}}]),n}(Xe);et||(et={});var tt=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"create",value:function(e,t){return this.post("/audio/transcriptions",pe((0,r.Z)({body:e},t)))}}]),n}(Xe);tt||(tt={});var nt=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"create",value:function(e,t){return this.post("/audio/translations",pe((0,r.Z)({body:e},t)))}}]),n}(Xe);nt||(nt={});var rt=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.apply(this,arguments)).transcriptions=new tt(e.client),e.translations=new nt(e.client),e.speech=new et(e.client),e}return(0,s.Z)(n)}(Xe);!function(e){e.Transcriptions=tt,e.Translations=nt,e.Speech=et}(rt||(rt={}));var at=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"create",value:function(e,t){return this.post("/moderations",(0,r.Z)({body:e},t))}}]),n}(Xe);at||(at={});var it=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"retrieve",value:function(e,t){return this.get("/models/".concat(e),t)}},{key:"list",value:function(e){return this.getAPIList("/models",st,e)}},{key:"del",value:function(e,t){return this.delete("/models/".concat(e),t)}}]),n}(Xe),st=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n)}(We);!function(e){e.ModelsPage=st}(it||(it={}));var ot=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"create",value:function(e,t){return this.post("/fine_tuning/jobs",(0,r.Z)({body:e},t))}},{key:"retrieve",value:function(e,t){return this.get("/fine_tuning/jobs/".concat(e),t)}},{key:"list",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Ee(e)?this.list({},e):this.getAPIList("/fine_tuning/jobs",ut,(0,r.Z)({query:e},t))}},{key:"cancel",value:function(e,t){return this.post("/fine_tuning/jobs/".concat(e,"/cancel"),t)}},{key:"listEvents",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return Ee(t)?this.listEvents(e,{},t):this.getAPIList("/fine_tuning/jobs/".concat(e,"/events"),ct,(0,r.Z)({query:t},n))}}]),n}(Xe),ut=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n)}(Ke),ct=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n)}(Ke);!function(e){e.FineTuningJobsPage=ut,e.FineTuningJobEventsPage=ct}(ot||(ot={}));var lt=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.apply(this,arguments)).jobs=new ot(e.client),e}return(0,s.Z)(n)}(Xe);!function(e){e.Jobs=ot,e.FineTuningJobsPage=ut,e.FineTuningJobEventsPage=ct}(lt||(lt={}));var ft=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"create",value:function(e,t){return this.post("/fine-tunes",(0,r.Z)({body:e},t))}},{key:"retrieve",value:function(e,t){return this.get("/fine-tunes/".concat(e),t)}},{key:"list",value:function(e){return this.getAPIList("/fine-tunes",ht,e)}},{key:"cancel",value:function(e,t){return this.post("/fine-tunes/".concat(e,"/cancel"),t)}},{key:"listEvents",value:function(e,t,n){var a;return this.get("/fine-tunes/".concat(e,"/events"),(0,r.Z)((0,r.Z)({query:t,timeout:864e5},n),{},{stream:null!==(a=null===t||void 0===t?void 0:t.stream)&&void 0!==a&&a}))}}]),n}(Xe),ht=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n)}(We);!function(e){e.FineTunesPage=ht}(ft||(ft={}));var pt=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"create",value:function(e,t,n){return this.post("/assistants/".concat(e,"/files"),(0,r.Z)((0,r.Z)({body:t},n),{},{headers:(0,r.Z)({"OpenAI-Beta":"assistants=v1"},null===n||void 0===n?void 0:n.headers)}))}},{key:"retrieve",value:function(e,t,n){return this.get("/assistants/".concat(e,"/files/").concat(t),(0,r.Z)((0,r.Z)({},n),{},{headers:(0,r.Z)({"OpenAI-Beta":"assistants=v1"},null===n||void 0===n?void 0:n.headers)}))}},{key:"list",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return Ee(t)?this.list(e,{},t):this.getAPIList("/assistants/".concat(e,"/files"),dt,(0,r.Z)((0,r.Z)({query:t},n),{},{headers:(0,r.Z)({"OpenAI-Beta":"assistants=v1"},null===n||void 0===n?void 0:n.headers)}))}},{key:"del",value:function(e,t,n){return this.delete("/assistants/".concat(e,"/files/").concat(t),(0,r.Z)((0,r.Z)({},n),{},{headers:(0,r.Z)({"OpenAI-Beta":"assistants=v1"},null===n||void 0===n?void 0:n.headers)}))}}]),n}(Xe),dt=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n)}(Ke);!function(e){e.AssistantFilesPage=dt}(pt||(pt={}));var vt=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.apply(this,arguments)).files=new pt(e.client),e}return(0,s.Z)(n,[{key:"create",value:function(e,t){return this.post("/assistants",(0,r.Z)((0,r.Z)({body:e},t),{},{headers:(0,r.Z)({"OpenAI-Beta":"assistants=v1"},null===t||void 0===t?void 0:t.headers)}))}},{key:"retrieve",value:function(e,t){return this.get("/assistants/".concat(e),(0,r.Z)((0,r.Z)({},t),{},{headers:(0,r.Z)({"OpenAI-Beta":"assistants=v1"},null===t||void 0===t?void 0:t.headers)}))}},{key:"update",value:function(e,t,n){return this.post("/assistants/".concat(e),(0,r.Z)((0,r.Z)({body:t},n),{},{headers:(0,r.Z)({"OpenAI-Beta":"assistants=v1"},null===n||void 0===n?void 0:n.headers)}))}},{key:"list",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Ee(e)?this.list({},e):this.getAPIList("/assistants",mt,(0,r.Z)((0,r.Z)({query:e},t),{},{headers:(0,r.Z)({"OpenAI-Beta":"assistants=v1"},null===t||void 0===t?void 0:t.headers)}))}},{key:"del",value:function(e,t){return this.delete("/assistants/".concat(e),(0,r.Z)((0,r.Z)({},t),{},{headers:(0,r.Z)({"OpenAI-Beta":"assistants=v1"},null===t||void 0===t?void 0:t.headers)}))}}]),n}(Xe),mt=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n)}(Ke);function yt(e){return"function"===typeof e.parse}!function(e){e.AssistantsPage=mt,e.Files=pt,e.AssistantFilesPage=dt}(vt||(vt={}));var Zt=function(e){return"assistant"===(null===e||void 0===e?void 0:e.role)},bt=function(e){return"function"===(null===e||void 0===e?void 0:e.role)};var gt,kt,wt,xt,_t,At,Pt,Et,Rt,Ct,St,It,Tt,Ot,Lt,Nt,jt,Mt,Bt,Dt,qt=["function_call","stream"],Ft=["tool_choice","stream"],Ut=function(e,t,n,r,a){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?a.call(e,n):a?a.value=n:t.set(e,n),n},Wt=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},Kt=function(){function e(){var t=this;(0,i.Z)(this,e),gt.add(this),this.controller=new AbortController,kt.set(this,void 0),wt.set(this,(function(){})),xt.set(this,(function(){})),_t.set(this,void 0),At.set(this,(function(){})),Pt.set(this,(function(){})),Et.set(this,{}),this._chatCompletions=[],this.messages=[],Rt.set(this,!1),Ct.set(this,!1),St.set(this,!1),It.set(this,!1),Mt.set(this,(function(e){if(Ut(t,Ct,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new D),e instanceof D)return Ut(t,St,!0,"f"),t._emit("abort",e);if(e instanceof M)return t._emit("error",e);if(e instanceof Error){var n=new M(e.message);return n.cause=e,t._emit("error",n)}return t._emit("error",new M(String(e)))})),Ut(this,kt,new Promise((function(e,n){Ut(t,wt,e,"f"),Ut(t,xt,n,"f")})),"f"),Ut(this,_t,new Promise((function(e,n){Ut(t,At,e,"f"),Ut(t,Pt,n,"f")})),"f"),Wt(this,kt,"f").catch((function(){})),Wt(this,_t,"f").catch((function(){}))}return(0,s.Z)(e,[{key:"_run",value:function(e){var t=this;setTimeout((function(){e().then((function(){t._emitFinal(),t._emit("end")}),Wt(t,Mt,"f"))}),0)}},{key:"_addChatCompletion",value:function(e){var t;this._chatCompletions.push(e),this._emit("chatCompletion",e);var n=null===(t=e.choices[0])||void 0===t?void 0:t.message;return n&&this._addMessage(n),e}},{key:"_addMessage",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.messages.push(e),t)if(this._emit("message",e),(bt(e)||function(e){return"tool"===(null===e||void 0===e?void 0:e.role)}(e))&&e.content)this._emit("functionCallResult",e.content);else if(Zt(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(Zt(e)&&e.tool_calls){var n,r=(0,h.Z)(e.tool_calls);try{for(r.s();!(n=r.n()).done;){var a=n.value;"function"===a.type&&this._emit("functionCall",a.function)}}catch(i){r.e(i)}finally{r.f()}}}},{key:"_connected",value:function(){this.ended||(Wt(this,wt,"f").call(this),this._emit("connect"))}},{key:"ended",get:function(){return Wt(this,Rt,"f")}},{key:"errored",get:function(){return Wt(this,Ct,"f")}},{key:"aborted",get:function(){return Wt(this,St,"f")}},{key:"abort",value:function(){this.controller.abort()}},{key:"on",value:function(e,t){return(Wt(this,Et,"f")[e]||(Wt(this,Et,"f")[e]=[])).push({listener:t}),this}},{key:"off",value:function(e,t){var n=Wt(this,Et,"f")[e];if(!n)return this;var r=n.findIndex((function(e){return e.listener===t}));return r>=0&&n.splice(r,1),this}},{key:"once",value:function(e,t){return(Wt(this,Et,"f")[e]||(Wt(this,Et,"f")[e]=[])).push({listener:t,once:!0}),this}},{key:"emitted",value:function(e){var t=this;return new Promise((function(n,r){Ut(t,It,!0,"f"),"error"!==e&&t.once("error",r),t.once(e,n)}))}},{key:"done",value:function(){var e=(0,y.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ut(this,It,!0,"f"),e.next=3,Wt(this,_t,"f");case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"finalChatCompletion",value:function(){var e=(0,y.Z)((0,v.Z)().mark((function e(){var t;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.done();case 2:if(t=this._chatCompletions[this._chatCompletions.length-1]){e.next=5;break}throw new M("stream ended without producing a ChatCompletion");case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"finalContent",value:function(){var e=(0,y.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.done();case 2:return e.abrupt("return",Wt(this,gt,"m",Tt).call(this));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"finalMessage",value:function(){var e=(0,y.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.done();case 2:return e.abrupt("return",Wt(this,gt,"m",Ot).call(this));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"finalFunctionCall",value:function(){var e=(0,y.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.done();case 2:return e.abrupt("return",Wt(this,gt,"m",Lt).call(this));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"finalFunctionCallResult",value:function(){var e=(0,y.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.done();case 2:return e.abrupt("return",Wt(this,gt,"m",Nt).call(this));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"totalUsage",value:function(){var e=(0,y.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.done();case 2:return e.abrupt("return",Wt(this,gt,"m",jt).call(this));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"allChatCompletions",value:function(){return(0,p.Z)(this._chatCompletions)}},{key:"_emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!Wt(this,Rt,"f")){"end"===e&&(Ut(this,Rt,!0,"f"),Wt(this,At,"f").call(this));var a=Wt(this,Et,"f")[e];if(a&&(Wt(this,Et,"f")[e]=a.filter((function(e){return!e.once})),a.forEach((function(e){return e.listener.apply(void 0,n)}))),"abort"===e){var i=n[0];return Wt(this,It,"f")||null!==a&&void 0!==a&&a.length||Promise.reject(i),Wt(this,xt,"f").call(this,i),Wt(this,Pt,"f").call(this,i),void this._emit("end")}if("error"===e){var s=n[0];Wt(this,It,"f")||null!==a&&void 0!==a&&a.length||Promise.reject(s),Wt(this,xt,"f").call(this,s),Wt(this,Pt,"f").call(this,s),this._emit("end")}}}},{key:"_emitFinal",value:function(){var e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);var t=this.messages[this.messages.length-1];t&&this._emit("finalMessage",t);var n=Wt(this,gt,"m",Tt).call(this);n&&this._emit("finalContent",n);var r=Wt(this,gt,"m",Lt).call(this);r&&this._emit("finalFunctionCall",r);var a=Wt(this,gt,"m",Nt).call(this);null!=a&&this._emit("finalFunctionCallResult",a),this._chatCompletions.some((function(e){return e.usage}))&&this._emit("totalUsage",Wt(this,gt,"m",jt).call(this))}},{key:"_createChatCompletion",value:function(){var e=(0,y.Z)((0,v.Z)().mark((function e(t,n,a){var i,s,o=this;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=null===a||void 0===a?void 0:a.signal)&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",(function(){return o.controller.abort()}))),Wt(this,gt,"m",Bt).call(this,n),e.next=5,t.create((0,r.Z)((0,r.Z)({},n),{},{stream:!1}),(0,r.Z)((0,r.Z)({},a),{},{signal:this.controller.signal}));case 5:return s=e.sent,this._connected(),e.abrupt("return",this._addChatCompletion(s));case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_runChatCompletion",value:function(){var e=(0,y.Z)((0,v.Z)().mark((function e(t,n,r){var a,i,s;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=(0,h.Z)(n.messages);try{for(a.s();!(i=a.n()).done;)s=i.value,this._addMessage(s,!1)}catch(o){a.e(o)}finally{a.f()}return e.next=4,this._createChatCompletion(t,n,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_runFunctions",value:function(){var e=(0,y.Z)((0,v.Z)().mark((function e(t,n,i){var s,o,u,c,l,f,d,m,y,Z,b,g,k,w,x,_,A,P,E,R,C,S,I,T,O,L,N,j;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s="function",o=n.function_call,u=void 0===o?"auto":o,n.stream,c=(0,a.Z)(n,qt),l="string"!==typeof u&&(null===u||void 0===u?void 0:u.name),f=(i||{}).maxChatCompletions,d=void 0===f?10:f,m={},y=(0,h.Z)(n.functions);try{for(y.s();!(Z=y.n()).done;)b=Z.value,m[b.name||b.function.name]=b}catch(v){y.e(v)}finally{y.f()}g=n.functions.map((function(e){return{name:e.name||e.function.name,parameters:e.parameters,description:e.description}})),k=(0,h.Z)(n.messages);try{for(k.s();!(w=k.n()).done;)x=w.value,this._addMessage(x,!1)}catch(v){k.e(v)}finally{k.f()}_=0;case 11:if(!(_<d)){e.next=58;break}return e.next=14,this._createChatCompletion(t,(0,r.Z)((0,r.Z)({},c),{},{function_call:u,functions:g,messages:(0,p.Z)(this.messages)}),i);case 14:if(P=e.sent,E=null===(A=P.choices[0])||void 0===A?void 0:A.message){e.next=18;break}throw new M("missing message in ChatCompletion response");case 18:if(E.function_call){e.next=20;break}return e.abrupt("return");case 20:if(R=E.function_call,C=R.name,S=R.arguments,I=m[C]){e.next=28;break}return T="Invalid function_call: ".concat(JSON.stringify(C),". Available options are: ").concat(g.map((function(e){return JSON.stringify(e.name)})).join(", "),". Please try again"),this._addMessage({role:s,name:C,content:T}),e.abrupt("continue",55);case 28:if(!l||l===C){e.next=32;break}return O="Invalid function_call: ".concat(JSON.stringify(C),". ").concat(JSON.stringify(l)," requested. Please try again"),this._addMessage({role:s,name:C,content:O}),e.abrupt("continue",55);case 32:if(L=void 0,e.prev=33,!yt(I)){e.next=40;break}return e.next=37,I.parse(S);case 37:e.t0=e.sent,e.next=41;break;case 40:e.t0=S;case 41:L=e.t0,e.next=48;break;case 44:return e.prev=44,e.t1=e.catch(33),this._addMessage({role:s,name:C,content:e.t1 instanceof Error?e.t1.message:String(e.t1)}),e.abrupt("continue",55);case 48:return e.next=50,I.function(L,this);case 50:if(N=e.sent,j=Wt(this,gt,"m",Dt).call(this,N),this._addMessage({role:s,name:C,content:j}),!l){e.next=55;break}return e.abrupt("return");case 55:++_,e.next=11;break;case 58:case"end":return e.stop()}}),e,this,[[33,44]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_runTools",value:function(){var e=(0,y.Z)((0,v.Z)().mark((function e(t,n,i){var s,o,u,c,l,f,d,m,y,Z,b,g,k,w,x,_,A,P,E,R,C,S,I,T,O,L,N,j,B,D,q,F,U,W;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o="tool",u=n.tool_choice,c=void 0===u?"auto":u,n.stream,l=(0,a.Z)(n,Ft),f="string"!==typeof c&&(null===c||void 0===c||null===(s=c.function)||void 0===s?void 0:s.name),d=(i||{}).maxChatCompletions,m=void 0===d?10:d,y={},Z=(0,h.Z)(n.tools);try{for(Z.s();!(b=Z.n()).done;)"function"===(g=b.value).type&&(y[g.function.name||g.function.function.name]=g.function)}catch(v){Z.e(v)}finally{Z.f()}k="tools"in n?n.tools.map((function(e){return"function"===e.type?{type:"function",function:{name:e.function.name||e.function.function.name,parameters:e.function.parameters,description:e.function.description}}:e})):void 0,w=(0,h.Z)(n.messages);try{for(w.s();!(x=w.n()).done;)_=x.value,this._addMessage(_,!1)}catch(v){w.e(v)}finally{w.f()}A=0;case 11:if(!(A<m)){e.next=77;break}return e.next=14,this._createChatCompletion(t,(0,r.Z)((0,r.Z)({},l),{},{tool_choice:c,tools:k,messages:(0,p.Z)(this.messages)}),i);case 14:if(E=e.sent,R=null===(P=E.choices[0])||void 0===P?void 0:P.message){e.next=18;break}throw new M("missing message in ChatCompletion response");case 18:if(R.tool_calls){e.next=20;break}return e.abrupt("return");case 20:C=(0,h.Z)(R.tool_calls),e.prev=21,C.s();case 23:if((S=C.n()).done){e.next=66;break}if("function"===(I=S.value).type){e.next=27;break}return e.abrupt("continue",64);case 27:if(T=I.id,O=I.function,L=O.name,N=O.arguments,j=y[L]){e.next=36;break}return B="Invalid tool_call: ".concat(JSON.stringify(L),". Available options are: ").concat(k.map((function(e){return JSON.stringify(e.function.name)})).join(", "),". Please try again"),this._addMessage({role:o,tool_call_id:T,content:B}),e.abrupt("continue",64);case 36:if(!f||f===L){e.next=40;break}return D="Invalid tool_call: ".concat(JSON.stringify(L),". ").concat(JSON.stringify(f)," requested. Please try again"),this._addMessage({role:o,tool_call_id:T,content:D}),e.abrupt("continue",64);case 40:if(q=void 0,e.prev=41,!yt(j)){e.next=48;break}return e.next=45,j.parse(N);case 45:e.t0=e.sent,e.next=49;break;case 48:e.t0=N;case 49:q=e.t0,e.next=57;break;case 52:return e.prev=52,e.t1=e.catch(41),F=e.t1 instanceof Error?e.t1.message:String(e.t1),this._addMessage({role:o,tool_call_id:T,content:F}),e.abrupt("continue",64);case 57:return e.next=59,j.function(q,this);case 59:if(U=e.sent,W=Wt(this,gt,"m",Dt).call(this,U),this._addMessage({role:o,tool_call_id:T,content:W}),!f){e.next=64;break}return e.abrupt("return");case 64:e.next=23;break;case 66:e.next=71;break;case 68:e.prev=68,e.t2=e.catch(21),C.e(e.t2);case 71:return e.prev=71,C.f(),e.finish(71);case 74:++A,e.next=11;break;case 77:case"end":return e.stop()}}),e,this,[[21,68,71,74],[41,52]])})));return function(t,n,r){return e.apply(this,arguments)}}()}]),e}();kt=new WeakMap,wt=new WeakMap,xt=new WeakMap,_t=new WeakMap,At=new WeakMap,Pt=new WeakMap,Et=new WeakMap,Rt=new WeakMap,Ct=new WeakMap,St=new WeakMap,It=new WeakMap,Mt=new WeakMap,gt=new WeakSet,Tt=function(){return Wt(this,gt,"m",Ot).call(this).content},Ot=function(){for(var e=this.messages.length;e-- >0;){var t=this.messages[e];if(Zt(t))return t}throw new M("stream ended without producing a ChatCompletionMessage with role=assistant")},Lt=function(){for(var e=this.messages.length-1;e>=0;e--){var t=this.messages[e];if(Zt(t)&&null!==t&&void 0!==t&&t.function_call)return t.function_call}},Nt=function(){for(var e=this.messages.length-1;e>=0;e--){var t=this.messages[e];if(bt(t)&&null!=t.content)return t.content}},jt=function(){var e,t={completion_tokens:0,prompt_tokens:0,total_tokens:0},n=(0,h.Z)(this._chatCompletions);try{for(n.s();!(e=n.n()).done;){var r=e.value.usage;r&&(t.completion_tokens+=r.completion_tokens,t.prompt_tokens+=r.prompt_tokens,t.total_tokens+=r.total_tokens)}}catch(a){n.e(a)}finally{n.f()}return t},Bt=function(e){if(null!=e.n&&e.n>1)throw new M("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Dt=function(e){return"string"===typeof e?e:void 0===e?"undefined":JSON.stringify(e)};var Xt,Jt,Vt,Ht,Gt,zt,Qt=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"_addMessage",value:function(e){(0,u.Z)((0,c.Z)(n.prototype),"_addMessage",this).call(this,e),Zt(e)&&e.content&&this._emit("content",e.content)}}],[{key:"runFunctions",value:function(e,t,r){var a=new n;return a._run((function(){return a._runFunctions(e,t,r)})),a}},{key:"runTools",value:function(e,t,r){var a=new n;return a._run((function(){return a._runTools(e,t,r)})),a}}]),n}(Kt),Yt=["choices"],$t=["delta","finish_reason","index"],en=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},tn=function(e,t,n,r,a){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?a.call(e,n):a?a.value=n:t.set(e,n),n},nn=function(e,t){(0,l.Z)(a,e);var n=(0,f.Z)(a);function a(){var e;return(0,i.Z)(this,a),e=n.apply(this,arguments),Xt.add((0,o.Z)(e)),Jt.set((0,o.Z)(e),void 0),e}return(0,s.Z)(a,[{key:"currentChatCompletionSnapshot",get:function(){return en(this,Jt,"f")}},{key:"_createChatCompletion",value:function(){var e=(0,y.Z)((0,v.Z)().mark((function e(t,n,a){var i,s,o,u,c,l,f,h,p,d=this;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=null===a||void 0===a?void 0:a.signal)&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",(function(){return d.controller.abort()}))),en(this,Xt,"m",Vt).call(this),e.next=5,t.create((0,r.Z)((0,r.Z)({},n),{},{stream:!0}),(0,r.Z)((0,r.Z)({},a),{},{signal:this.controller.signal}));case 5:o=e.sent,this._connected(),u=!1,c=!1,e.prev=9,f=Z(o);case 11:return e.next=13,f.next();case 13:if(!(u=!(h=e.sent).done)){e.next=19;break}p=h.value,en(this,Xt,"m",Ht).call(this,p);case 16:u=!1,e.next=11;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(9),c=!0,l=e.t0;case 25:if(e.prev=25,e.prev=26,!u||null==f.return){e.next=30;break}return e.next=30,f.return();case 30:if(e.prev=30,!c){e.next=33;break}throw l;case 33:return e.finish(30);case 34:return e.finish(25);case 35:if(null===(i=o.controller.signal)||void 0===i||!i.aborted){e.next=37;break}throw new D;case 37:return e.abrupt("return",this._addChatCompletion(en(this,Xt,"m",Gt).call(this)));case 38:case"end":return e.stop()}}),e,this,[[9,21,25,35],[26,,30,34]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_fromReadableStream",value:function(){var e=(0,y.Z)((0,v.Z)().mark((function e(t,n){var r,a,i,s,o,u,c,l,f,h,p=this;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=null===n||void 0===n?void 0:n.signal)&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",(function(){return p.controller.abort()}))),en(this,Xt,"m",Vt).call(this),this._connected(),i=z.fromReadableStream(t,this.controller),o=!1,u=!1,e.prev=7,l=Z(i);case 9:return e.next=11,l.next();case 11:if(!(o=!(f=e.sent).done)){e.next=19;break}h=f.value,s&&s!==h.id&&this._addChatCompletion(en(this,Xt,"m",Gt).call(this)),en(this,Xt,"m",Ht).call(this,h),s=h.id;case 16:o=!1,e.next=9;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(7),u=!0,c=e.t0;case 25:if(e.prev=25,e.prev=26,!o||null==l.return){e.next=30;break}return e.next=30,l.return();case 30:if(e.prev=30,!u){e.next=33;break}throw c;case 33:return e.finish(30);case 34:return e.finish(25);case 35:if(null===(r=i.controller.signal)||void 0===r||!r.aborted){e.next=37;break}throw new D;case 37:return e.abrupt("return",this._addChatCompletion(en(this,Xt,"m",Gt).call(this)));case 38:case"end":return e.stop()}}),e,this,[[7,21,25,35],[26,,30,34]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:t,value:function(){var e=[],t=[],n=!1;return this.on("chunk",(function(n){var r=t.shift();r?r(n):e.push(n)})),this.on("end",(function(){n=!0;var e,r=(0,h.Z)(t);try{for(r.s();!(e=r.n()).done;){(0,e.value)(void 0)}}catch(a){r.e(a)}finally{r.f()}t.length=0})),{next:function(){var r=(0,y.Z)((0,v.Z)().mark((function r(){var a;return(0,v.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.length){r.next=4;break}if(!n){r.next=3;break}return r.abrupt("return",{value:void 0,done:!0});case 3:return r.abrupt("return",new Promise((function(e){return t.push(e)})).then((function(e){return e?{value:e,done:!1}:{value:void 0,done:!0}})));case 4:return a=e.shift(),r.abrupt("return",{value:a,done:!1});case 6:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}()}}},{key:"toReadableStream",value:function(){return new z(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}],[{key:"fromReadableStream",value:function(e){var t=new a;return t._run((function(){return t._fromReadableStream(e)})),t}},{key:"createChatCompletion",value:function(e,t,n){var i=new a;return i._run((function(){return i._runChatCompletion(e,(0,r.Z)((0,r.Z)({},t),{},{stream:!0}),n)})),i}}]),a}(Kt,(Jt=new WeakMap,Xt=new WeakSet,Vt=function(){this.ended||tn(this,Jt,void 0,"f")},Ht=function(e){var t,n,r;if(!this.ended){var a=en(this,Xt,"m",zt).call(this,e);this._emit("chunk",e,a);var i=null===(t=e.choices[0])||void 0===t||null===(n=t.delta)||void 0===n?void 0:n.content,s=null===(r=a.choices[0])||void 0===r?void 0:r.message;null!=i&&"assistant"===(null===s||void 0===s?void 0:s.role)&&null!==s&&void 0!==s&&s.content&&this._emit("content",i,s.content)}},Gt=function(){if(this.ended)throw new M("stream has ended, this shouldn't happen");var e=en(this,Jt,"f");if(!e)throw new M("request ended without sending any chunks");return tn(this,Jt,void 0,"f"),function(e){var t=e.id,n=e.choices,r=e.created,a=e.model;return{id:t,choices:n.map((function(t){var n=t.message,r=t.finish_reason,a=t.index;if(!r)throw new M("missing finish_reason for choice ".concat(a));var i=n.content,s=void 0===i?null:i,o=n.function_call,u=n.tool_calls,c=n.role;if(!c)throw new M("missing role for choice ".concat(a));if(o){var l=o.arguments,f=o.name;if(null==l)throw new M("missing function_call.arguments for choice ".concat(a));if(!f)throw new M("missing function_call.name for choice ".concat(a));return{message:{content:s,function_call:{arguments:l,name:f},role:c},finish_reason:r,index:a}}return u?{index:a,finish_reason:r,message:{role:c,content:s,tool_calls:u.map((function(t,n){var r=t.function,i=t.type,s=t.id,o=r||{},u=o.arguments,c=o.name;if(null==s)throw new M("missing choices[".concat(a,"].tool_calls[").concat(n,"].id\n").concat(rn(e)));if(null==i)throw new M("missing choices[".concat(a,"].tool_calls[").concat(n,"].type\n").concat(rn(e)));if(null==c)throw new M("missing choices[".concat(a,"].tool_calls[").concat(n,"].function.name\n").concat(rn(e)));if(null==u)throw new M("missing choices[".concat(a,"].tool_calls[").concat(n,"].function.arguments\n").concat(rn(e)));return{id:s,type:i,function:{name:c,arguments:u}}}))}}:{message:{content:s,role:c},finish_reason:r,index:a}})),created:r,model:a,object:"chat.completion"}}(e)},zt=function(e){var t,n,i=en(this,Jt,"f"),s=(e.choices,(0,a.Z)(e,Yt));i?Object.assign(i,s):i=tn(this,Jt,(0,r.Z)((0,r.Z)({},s),{},{choices:[]}),"f");var o,u=(0,h.Z)(e.choices);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=c.delta,f=c.finish_reason,p=c.index,d=(0,a.Z)(c,$t),v=i.choices[p];if(v){if(f&&(v.finish_reason=f),Object.assign(v,d),l){var m,y=l.content,Z=l.function_call,b=l.role,g=l.tool_calls;if(y&&(v.message.content=(v.message.content||"")+y),b&&(v.message.role=b),Z)if(v.message.function_call){if(Z.name&&(v.message.function_call.name=Z.name),Z.arguments)null!==(m=(t=v.message.function_call).arguments)&&void 0!==m||(t.arguments=""),v.message.function_call.arguments+=Z.arguments}else v.message.function_call=Z;if(g){v.message.tool_calls||(v.message.tool_calls=[]);var k,w=(0,h.Z)(g);try{for(w.s();!(k=w.n()).done;){var x,_,A=k.value,P=A.index,E=A.id,R=A.type,C=A.function,S=null!==(x=(n=v.message.tool_calls)[P])&&void 0!==x?x:n[P]={};E&&(S.id=E),R&&(S.type=R),C&&(null!==(_=S.function)&&void 0!==_||(S.function={arguments:""})),null!==C&&void 0!==C&&C.name&&(S.function.name=C.name),null!==C&&void 0!==C&&C.arguments&&(S.function.arguments+=C.arguments)}}catch(I){w.e(I)}finally{w.f()}}}}else i.choices[p]=(0,r.Z)({finish_reason:f,index:p,message:l},d)}}catch(I){u.e(I)}finally{u.f()}return i},Symbol.asyncIterator));function rn(e){return JSON.stringify(e)}var an=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,null,[{key:"fromReadableStream",value:function(e){var t=new n;return t._run((function(){return t._fromReadableStream(e)})),t}},{key:"runFunctions",value:function(e,t,r){var a=new n;return a._run((function(){return a._runFunctions(e,t,r)})),a}},{key:"runTools",value:function(e,t,r){var a=new n;return a._run((function(){return a._runTools(e,t,r)})),a}}]),n}(nn),sn=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"runFunctions",value:function(e,t){return e.stream?an.runFunctions(this.client.chat.completions,e,t):Qt.runFunctions(this.client.chat.completions,e,t)}},{key:"runTools",value:function(e,t){return e.stream?an.runTools(this.client.chat.completions,e,t):Qt.runTools(this.client.chat.completions,e,t)}},{key:"stream",value:function(e,t){return nn.createChatCompletion(this.client.chat.completions,e,t)}}]),n}(Xe),on=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.apply(this,arguments)).completions=new sn(e.client),e}return(0,s.Z)(n)}(Xe);!function(e){e.Completions=sn}(on||(on={}));var un=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"retrieve",value:function(e,t,n,a){return this.get("/threads/".concat(e,"/messages/").concat(t,"/files/").concat(n),(0,r.Z)((0,r.Z)({},a),{},{headers:(0,r.Z)({"OpenAI-Beta":"assistants=v1"},null===a||void 0===a?void 0:a.headers)}))}},{key:"list",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;return Ee(n)?this.list(e,t,{},n):this.getAPIList("/threads/".concat(e,"/messages/").concat(t,"/files"),cn,(0,r.Z)((0,r.Z)({query:n},a),{},{headers:(0,r.Z)({"OpenAI-Beta":"assistants=v1"},null===a||void 0===a?void 0:a.headers)}))}}]),n}(Xe),cn=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n)}(Ke);!function(e){e.MessageFilesPage=cn}(un||(un={}));var ln=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.apply(this,arguments)).files=new un(e.client),e}return(0,s.Z)(n,[{key:"create",value:function(e,t,n){return this.post("/threads/".concat(e,"/messages"),(0,r.Z)((0,r.Z)({body:t},n),{},{headers:(0,r.Z)({"OpenAI-Beta":"assistants=v1"},null===n||void 0===n?void 0:n.headers)}))}},{key:"retrieve",value:function(e,t,n){return this.get("/threads/".concat(e,"/messages/").concat(t),(0,r.Z)((0,r.Z)({},n),{},{headers:(0,r.Z)({"OpenAI-Beta":"assistants=v1"},null===n||void 0===n?void 0:n.headers)}))}},{key:"update",value:function(e,t,n,a){return this.post("/threads/".concat(e,"/messages/").concat(t),(0,r.Z)((0,r.Z)({body:n},a),{},{headers:(0,r.Z)({"OpenAI-Beta":"assistants=v1"},null===a||void 0===a?void 0:a.headers)}))}},{key:"list",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return Ee(t)?this.list(e,{},t):this.getAPIList("/threads/".concat(e,"/messages"),fn,(0,r.Z)((0,r.Z)({query:t},n),{},{headers:(0,r.Z)({"OpenAI-Beta":"assistants=v1"},null===n||void 0===n?void 0:n.headers)}))}}]),n}(Xe),fn=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n)}(Ke);!function(e){e.ThreadMessagesPage=fn,e.Files=un,e.MessageFilesPage=cn}(ln||(ln={}));var hn=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"retrieve",value:function(e,t,n,a){return this.get("/threads/".concat(e,"/runs/").concat(t,"/steps/").concat(n),(0,r.Z)((0,r.Z)({},a),{},{headers:(0,r.Z)({"OpenAI-Beta":"assistants=v1"},null===a||void 0===a?void 0:a.headers)}))}},{key:"list",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;return Ee(n)?this.list(e,t,{},n):this.getAPIList("/threads/".concat(e,"/runs/").concat(t,"/steps"),pn,(0,r.Z)((0,r.Z)({query:n},a),{},{headers:(0,r.Z)({"OpenAI-Beta":"assistants=v1"},null===a||void 0===a?void 0:a.headers)}))}}]),n}(Xe),pn=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n)}(Ke);!function(e){e.RunStepsPage=pn}(hn||(hn={}));var dn=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.apply(this,arguments)).steps=new hn(e.client),e}return(0,s.Z)(n,[{key:"create",value:function(e,t,n){return this.post("/threads/".concat(e,"/runs"),(0,r.Z)((0,r.Z)({body:t},n),{},{headers:(0,r.Z)({"OpenAI-Beta":"assistants=v1"},null===n||void 0===n?void 0:n.headers)}))}},{key:"retrieve",value:function(e,t,n){return this.get("/threads/".concat(e,"/runs/").concat(t),(0,r.Z)((0,r.Z)({},n),{},{headers:(0,r.Z)({"OpenAI-Beta":"assistants=v1"},null===n||void 0===n?void 0:n.headers)}))}},{key:"update",value:function(e,t,n,a){return this.post("/threads/".concat(e,"/runs/").concat(t),(0,r.Z)((0,r.Z)({body:n},a),{},{headers:(0,r.Z)({"OpenAI-Beta":"assistants=v1"},null===a||void 0===a?void 0:a.headers)}))}},{key:"list",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return Ee(t)?this.list(e,{},t):this.getAPIList("/threads/".concat(e,"/runs"),vn,(0,r.Z)((0,r.Z)({query:t},n),{},{headers:(0,r.Z)({"OpenAI-Beta":"assistants=v1"},null===n||void 0===n?void 0:n.headers)}))}},{key:"cancel",value:function(e,t,n){return this.post("/threads/".concat(e,"/runs/").concat(t,"/cancel"),(0,r.Z)((0,r.Z)({},n),{},{headers:(0,r.Z)({"OpenAI-Beta":"assistants=v1"},null===n||void 0===n?void 0:n.headers)}))}},{key:"submitToolOutputs",value:function(e,t,n,a){return this.post("/threads/".concat(e,"/runs/").concat(t,"/submit_tool_outputs"),(0,r.Z)((0,r.Z)({body:n},a),{},{headers:(0,r.Z)({"OpenAI-Beta":"assistants=v1"},null===a||void 0===a?void 0:a.headers)}))}}]),n}(Xe),vn=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n)}(Ke);!function(e){e.RunsPage=vn,e.Steps=hn,e.RunStepsPage=pn}(dn||(dn={}));var mn=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.apply(this,arguments)).runs=new dn(e.client),e.messages=new ln(e.client),e}return(0,s.Z)(n,[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Ee(e)?this.create({},e):this.post("/threads",(0,r.Z)((0,r.Z)({body:e},t),{},{headers:(0,r.Z)({"OpenAI-Beta":"assistants=v1"},null===t||void 0===t?void 0:t.headers)}))}},{key:"retrieve",value:function(e,t){return this.get("/threads/".concat(e),(0,r.Z)((0,r.Z)({},t),{},{headers:(0,r.Z)({"OpenAI-Beta":"assistants=v1"},null===t||void 0===t?void 0:t.headers)}))}},{key:"update",value:function(e,t,n){return this.post("/threads/".concat(e),(0,r.Z)((0,r.Z)({body:t},n),{},{headers:(0,r.Z)({"OpenAI-Beta":"assistants=v1"},null===n||void 0===n?void 0:n.headers)}))}},{key:"del",value:function(e,t){return this.delete("/threads/".concat(e),(0,r.Z)((0,r.Z)({},t),{},{headers:(0,r.Z)({"OpenAI-Beta":"assistants=v1"},null===t||void 0===t?void 0:t.headers)}))}},{key:"createAndRun",value:function(e,t){return this.post("/threads/runs",(0,r.Z)((0,r.Z)({body:e},t),{},{headers:(0,r.Z)({"OpenAI-Beta":"assistants=v1"},null===t||void 0===t?void 0:t.headers)}))}}]),n}(Xe);!function(e){e.Runs=dn,e.RunsPage=vn,e.Messages=ln,e.ThreadMessagesPage=fn}(mn||(mn={}));var yn=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.apply(this,arguments)).chat=new on(e.client),e.assistants=new vt(e.client),e.threads=new mn(e.client),e}return(0,s.Z)(n)}(Xe);!function(e){e.Chat=on,e.Assistants=vt,e.AssistantsPage=mt,e.Threads=mn}(yn||(yn={}));var Zn,bn=["apiKey","organization"],gn=function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,s,u,c,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},f=l.apiKey,h=void 0===f?De("OPENAI_API_KEY"):f,p=l.organization,d=void 0===p?null!==(e=De("OPENAI_ORG_ID"))&&void 0!==e?e:null:p,v=(0,a.Z)(l,bn);if((0,i.Z)(this,n),void 0===h)throw new M("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");var m=(0,r.Z)((0,r.Z)({apiKey:h,organization:d},v),{},{baseURL:null!==(s=v.baseURL)&&void 0!==s?s:"https://api.openai.com/v1"});if(!m.dangerouslyAllowBrowser&&"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof navigator)throw new M("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");return(c=t.call(this,{baseURL:m.baseURL,timeout:null!==(u=m.timeout)&&void 0!==u?u:6e5,httpAgent:m.httpAgent,maxRetries:m.maxRetries,fetch:m.fetch})).completions=new Je((0,o.Z)(c)),c.chat=new He((0,o.Z)(c)),c.edits=new Ge((0,o.Z)(c)),c.embeddings=new ze((0,o.Z)(c)),c.files=new Qe((0,o.Z)(c)),c.images=new $e((0,o.Z)(c)),c.audio=new rt((0,o.Z)(c)),c.moderations=new at((0,o.Z)(c)),c.models=new it((0,o.Z)(c)),c.fineTuning=new lt((0,o.Z)(c)),c.fineTunes=new ft((0,o.Z)(c)),c.beta=new yn((0,o.Z)(c)),c._options=m,c.apiKey=h,c.organization=d,c}return(0,s.Z)(n,[{key:"defaultQuery",value:function(){return this._options.defaultQuery}},{key:"defaultHeaders",value:function(e){return(0,r.Z)((0,r.Z)({},(0,u.Z)((0,c.Z)(n.prototype),"defaultHeaders",this).call(this,e)),{},{"OpenAI-Organization":this.organization},this._options.defaultHeaders)}},{key:"authHeaders",value:function(e){return{Authorization:"Bearer ".concat(this.apiKey)}}}]),n}(we);Zn=gn,gn.OpenAI=Zn,gn.OpenAIError=M,gn.APIError=B,gn.APIConnectionError=q,gn.APIConnectionTimeoutError=F,gn.APIUserAbortError=D,gn.NotFoundError=X,gn.ConflictError=J,gn.RateLimitError=H,gn.BadRequestError=U,gn.AuthenticationError=W,gn.InternalServerError=G,gn.PermissionDeniedError=K,gn.UnprocessableEntityError=V;!function(e){e.toFile=re,e.fileFromPath=L,e.Page=We,e.CursorPage=Ke,e.Completions=Je,e.Chat=He,e.Edits=Ge,e.Embeddings=ze,e.Files=Qe,e.FileObjectsPage=Ye,e.Images=$e,e.Audio=rt,e.Moderations=at,e.Models=it,e.ModelsPage=st,e.FineTuning=lt,e.FineTunes=ft,e.FineTunesPage=ht,e.Beta=yn}(gn||(gn={}));var kn=gn}}]);