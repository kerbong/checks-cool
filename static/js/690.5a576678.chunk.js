"use strict";(self.webpackChunkchecks_cool=self.webpackChunkchecks_cool||[]).push([[690],{3776:function(n,t,e){e.d(t,{Z:function(){return i}});e(7313);var a="Student_div__ROh5A",c=e(7405),s=e(6417),i=function(n){var t;return(0,s.jsx)("div",{className:a,children:n.students&&(null===(t=n.students)||void 0===t?void 0:t.map((function(t){var e;return(0,s.jsx)(c.Z,{className:n.manageEach?"button-student-manageEach":"button-student",classAdd:(null===(e=n.passStudent)||void 0===e?void 0:e.split(" ")[1])===t.name,manageEach:n.manageEach,name:t.name,num:t.num,onShowOption:function(t){n.showOption(t),t.target+="add"}},t.num)})))})}},7405:function(n,t,e){e.d(t,{Z:function(){return s}});e(7313);var a={"button-student":"StudentBtn_button-student__Ck98o","button-student-manageEach":"StudentBtn_button-student-manageEach__Wrput","checklist-student":"StudentBtn_checklist-student__cWFAm"},c=e(6417),s=function(n){return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("button",{className:"".concat(a[n.className]," ").concat(n.classAdd&&"clicked"),id:"std-".concat(n.num," ").concat(n.name),onClick:function(t){n.onShowOption(t)},children:[n.num," ",n.name]})})}},690:function(n,t,e){e.r(t);var a=e(4165),c=e(1413),s=e(5861),i=e(885),l=e(7313),u=e(2118),o=e(7692),d=e(658),r=e.n(d),f=e(650),m=e(573),v=e(7890),h=e(2184),x=e(6417);t.default=function(n){var t=(0,l.useState)(!0),e=(0,i.Z)(t,2),d=e[0],g=e[1],_=(0,l.useState)([]),j=(0,i.Z)(_,2),S=j[0],Z=j[1],p=(0,l.useState)([]),N=(0,i.Z)(p,2),E=N[0],b=N[1],k=(0,l.useState)([]),w=(0,i.Z)(k,2),M=w[0],y=w[1],B=(0,l.useState)([]),O=(0,i.Z)(B,2),C=O[0],Y=O[1],L=(0,l.useState)(""),U=(0,i.Z)(L,2),H=U[0],I=U[1],A=(0,l.useState)(""),R=(0,i.Z)(A,2),F=R[0],T=R[1],W=(0,v.TH)().state,G=function(){return+r()().format("MM")<=2?String(+r()().format("YYYY")-1):r()().format("YYYY")},Q=function(t){var e,a,c,s;n.isSubject&&(e=null===(a=n.isSubject)||void 0===a||null===(c=a.filter((function(n){return Object.keys(n)[0]===t})))||void 0===c||null===(s=c[0])||void 0===s?void 0:s[t]);return e}(G()),J=function(){var t=(0,s.Z)((0,a.Z)().mark((function t(){var e,s,i,l;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Z([]),e=(0,m.JU)(f.wO,"checkLists",n.userUid),t.next=4,(0,m.QT)(e);case 4:return s=t.sent,(0,m.cf)(e,(function(n){if(s.exists()){var t,e,a,i=[];null===(t=n.data())||void 0===t||null===(e=t.checkLists_data)||void 0===e||null===(a=e.filter((function(n){return n.yearGroup===G()})))||void 0===a||a.forEach((function(n){return n.unSubmitStudents.forEach((function(t){var e=(0,c.Z)((0,c.Z)({},t),{},{id:n.id,title:n.title});Q&&(e.clName=n.clName),i.push(e)}))})),Z([].concat(i))}})),b([]),i=(0,m.JU)(f.wO,"listMemo",n.userUid),t.next=10,(0,m.QT)(i);case 10:l=t.sent,(0,m.cf)(i,(function(n){if(l.exists()){var t,e,a,s=[];null===(t=n.data())||void 0===t||null===(e=t.listMemo_data)||void 0===e||null===(a=e.filter((function(n){return n.yearGroup===G()})))||void 0===a||a.forEach((function(n){var t;return null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.forEach((function(t){var e=(0,c.Z)((0,c.Z)({},t),{},{id:n.id,title:n.title});Q&&(e.clName=n.clName),s.push(e)}))})),b([].concat(s))}}));case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();(0,l.useEffect)((function(){J()}),[]),(0,l.useEffect)((function(){if(""!==H)if(Q){var n=E.filter((function(n){return n.name===H.split(" ")[1]&&n.clName===F}));y(n);var t=S.filter((function(n){return n.name===H.split(" ")[1]&&n.clName===F}));Y(t)}else{var e=E.filter((function(n){return n.name===H.split(" ")[1]}));y(e);var a=S.filter((function(n){return n.name===H.split(" ")[1]}));Y(a)}}),[H,E]),(0,l.useEffect)((function(){var n=null===W||void 0===W?void 0:W.student,t=null===W||void 0===W?void 0:W.clName;""!==t&&T(t),""!==n&&I(n)}),[W]);return(0,x.jsxs)("div",{children:[(0,x.jsx)(u.Z,{students:n.students,userUid:n.userUid,isSubject:n.isSubject,selectStudentHandler:function(n){I(n)},clName:F,passStudent:H,nowClassNameHandler:function(n){T(n)}}),(0,x.jsxs)("ul",{className:h.Z["bottom-content-ul"],children:[(0,x.jsx)("div",{className:h.Z["flex-center"],style:{margin:"-10px 0 15px 0"},children:(0,x.jsx)(o.Z,{name:d?" \ubbf8\uc81c\ucd9c \ubaa9\ub85d \ubcf4\uae30":" \uac1c\ubcc4\uae30\ub85d \ubcf4\uae30",icon:(0,x.jsx)("i",{className:"fa-solid fa-rotate"}),onclick:function(){return g((function(n){return!n}))},className:"save-classItem-button",style:{width:"200px",backgroundColor:"#f3feff"}})}),d?(0,x.jsxs)(x.Fragment,{children:[""!==H&&(0,x.jsxs)("div",{className:"".concat(h.Z["flex-wrap"]),style:{width:"100%"},children:[null===M||void 0===M?void 0:M.map((function(n){return(0,x.jsxs)("li",{id:n.id+n.num,className:h.Z["bottom-content-li"],style:{minWidth:"170px",maxWidth:"400px"},children:[(0,x.jsx)("div",{className:h.Z["flex-ml-10"],children:n.id.slice(0,10)}),(0,x.jsx)("div",{className:h.Z["fs-13"],children:n.title}),(0,x.jsx)("hr",{className:h.Z["margin-15"]}),(0,x.jsx)("div",{className:h.Z["fs-13"],children:n.memo})]},n.id+n.num)})),0===(null===M||void 0===M?void 0:M.length)&&(0,x.jsx)("li",{className:h.Z["bottom-content-li"],children:"* \ud559\uc0dd\uc758 \uac1c\ubcc4\uae30\ub85d \uc815\ubcf4\uac00 \uc5c6\uc5b4\uc694!"})]}),""===H&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h2",{children:"\uc804\uccb4\ud559\uc0dd \uac1c\ubcc4\uae30\ub85d \ubaa8\uc544\ubcf4\uae30"}),(0,x.jsx)("h4",{children:"\uac80\uc0c9 \ud6c4 \uc5ec\ub7ec \uc790\ub8cc\ub97c \uc120\ud0dd(\ud074\ub9ad)\ud558\uc2dc\uba74 \uc120\ud0dd\ud55c \uc790\ub8cc\uac00 \ud55c \ubc88\uc5d0 \ubcf4\uc785\ub2c8\ub2e4."})]})]}):(0,x.jsxs)(x.Fragment,{children:[""!==H&&(0,x.jsxs)("div",{className:"".concat(h.Z["flex-wrap"]),style:{width:"100%"},children:[null===C||void 0===C?void 0:C.map((function(n){return(0,x.jsxs)("li",{id:n.id+n.num,className:h.Z["bottom-content-li"],style:{width:"300px"},children:[(0,x.jsxs)("div",{className:h.Z["flex-ml-10"],children:[n.id.slice(0,10)," | \ubbf8\uc81c\ucd9c"]}),(0,x.jsxs)("div",{className:h.Z["fs-13"],children:[n.title," "]})]},n.id+n.num)})),0===(null===C||void 0===C?void 0:C.length)&&(0,x.jsx)("li",{className:h.Z["bottom-content-li"],children:"* \ud559\uc0dd\uc758 \ubbf8\uc81c\ucd9c \uc815\ubcf4\uac00 \uc5c6\uc5b4\uc694!"})]}),""===H&&""]})]})]})}},2118:function(n,t,e){e.d(t,{Z:function(){return m}});var a=e(885),c=e(7313),s=e(3776),i=e(658),l=e.n(i),u=e(2184),o=e(7692),d=e(7890),r=e(6417),f=function(n){var t=(0,c.useState)(""),e=(0,a.Z)(t,2),s=e[0],i=e[1],l=(0,c.useState)(""),f=(0,a.Z)(l,2),m=f[0],v=f[1],h=(0,c.useState)(""),x=(0,a.Z)(h,2),g=x[0],_=x[1],j=(0,d.s0)();return(0,c.useEffect)((function(){var n=window.location.href.split("/");i(n[n.length-1])}),[window.location.href]),(0,c.useEffect)((function(){""!==n.onStudent&&v(n.onStudent)}),[n.onStudent]),(0,c.useEffect)((function(){""!==n.clName&&_(n.clName)}),[n.clName]),(0,r.jsxs)("div",{className:u.Z["btns-div"],children:[(0,r.jsx)(o.Z,{name:"\uc815\ubcf4",className:"manageStudent"!==s?"manageBtn":"manageBtn-clicked",onclick:function(){return j("/manageStudent",{state:{student:m,clName:g||""}})}}),(0,r.jsx)(o.Z,{name:"\ucd9c\uacb0",className:"manageAttendance"!==s?"manageBtn":"manageBtn-clicked",onclick:function(){return j("/manageAttendance",{state:{student:m,clName:g||""}})}}),(0,r.jsx)(o.Z,{name:"\uc0c1\ub2f4",className:"manageConsult"!==s?"manageBtn":"manageBtn-clicked",onclick:function(){return j("/manageConsult",{state:{student:m,clName:g||""}})}}),(0,r.jsx)(o.Z,{name:"\uc81c\ucd9c/\uac1c\ubcc4",className:"manageCheckListMemo"!==s?"manageBtn":"manageBtn-clicked",onclick:function(){return j("/manageCheckListMemo",{state:{student:m,clName:g||""}})}})]})},m=function(n){var t,e=(0,c.useState)(""),i=(0,a.Z)(e,2),o=i[0],d=i[1],m=(0,c.useState)(""),v=(0,a.Z)(m,2),h=v[0],x=v[1],g=(0,c.useState)([]),_=(0,a.Z)(g,2),j=_[0],S=_[1],Z=(0,c.useState)([]),p=(0,a.Z)(Z,2),N=p[0],E=p[1],b=(0,c.useState)(!1),k=(0,a.Z)(b,2),w=k[0],M=k[1],y=(0,c.useRef)();(0,c.useEffect)((function(){if(""!==o){var n=document.getElementById("std-".concat(o));null===n||void 0===n||n.classList.remove("none"),null===n||void 0===n||n.classList.add("clicked")}}),[o]);var B=function(n){var t=l()(n),e="",a=t.format("MM"),c=t.format("YYYY");return+a>=2?e=c:+a<=1&&(e=String(+c-1)),e};(0,c.useEffect)((function(){var t=function(t){var e,a,c,s;return n.isSubject&&(e=null===(a=n.isSubject)||void 0===a||null===(c=a.filter((function(n){return Object.keys(n)[0]===t})))||void 0===c||null===(s=c[0])||void 0===s?void 0:s[t]),e}(B());M(t)}),[n.isSubject]),(0,c.useEffect)((function(){var t,e,a,c=B(),s=null===n||void 0===n||null===(t=n.students)||void 0===t||null===(e=t.filter((function(n){return Object.keys(n)[0]===c})))||void 0===e||null===(a=e[0])||void 0===a?void 0:a[c];E(s)}),[n.students]);return(0,c.useEffect)((function(){null===N||void 0===N||N.forEach((function(n){Object.keys(n)[0]===h&&S(Object.values(n)[0])})),""===h&&S([]),n.nowClassNameHandler(h)}),[h]),(0,c.useEffect)((function(){n.selectStudentHandler(o)}),[o]),(0,c.useEffect)((function(){x(n.clName),d("")}),[n.clName]),(0,c.useEffect)((function(){""!==n.passStudent&&d(n.passStudent)}),[n.passStudent]),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:w&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("select",{ref:y,onChange:function(){var n=y.current.value;x(n)},className:u.Z["class-select"],value:h,children:[(0,r.jsx)("option",{value:"",children:"--\ud559\uae09--"}),null===N||void 0===N?void 0:N.map((function(n){return(0,r.jsx)("option",{value:Object.keys(n),children:Object.keys(n)},Object.keys(n))}))]}),""===(null===y||void 0===y||null===(t=y.current)||void 0===t?void 0:t.value)&&"* \ud559\uae09\uc744 \uba3c\uc800 \uc120\ud0dd\ud574\uc8fc\uc138\uc694."]})}),(0,r.jsx)("div",{children:(0,r.jsx)(s.Z,{students:w?j:N,showOption:function(n){var t=n.target.innerText;if(d(o===t?"":t),""!==o){var e=document.getElementById("std-".concat(o));null===e||void 0===e||e.classList.remove("clicked"),null===e||void 0===e||e.classList.add("none")}},isSubject:n.isSubject,manageEach:!0,passStudent:n.passStudent})}),(0,r.jsx)(f,{onStudent:o,clName:h}),(0,r.jsx)("div",{})]})}},2184:function(n,t){t.Z={"class-select":"ManageEach_class-select__IlQlu","btns-div":"ManageEach_btns-div__Zivma","padd-5":"ManageEach_padd-5__-MakG","bottom-content-ul":"ManageEach_bottom-content-ul__xXaZv","bottom-content-li":"ManageEach_bottom-content-li__S8Tge","flex-ml-10":"ManageEach_flex-ml-10__whmHW","fs-13":"ManageEach_fs-13__7gMai","fs-11":"ManageEach_fs-11__dIRN5","flex-wrap":"ManageEach_flex-wrap__NnIS9","margin-15":"ManageEach_margin-15__R8DcB","margin-5":"ManageEach_margin-5__IctPu","flex-center":"ManageEach_flex-center__Ent-o","width-max400":"ManageEach_width-max400__8b-OH","a-link":"ManageEach_a-link__oahRi",excelfileUploadBtn:"ManageEach_excelfileUploadBtn__vkRXS"}}}]);