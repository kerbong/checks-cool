"use strict";(self.webpackChunkchecks_cool=self.webpackChunkchecks_cool||[]).push([[690],{3776:function(n,t,e){e.d(t,{Z:function(){return a}});e(7313);var u="Student_div__ROh5A",c=e(7405),i=e(6417),a=function(n){var t;return(0,i.jsx)("div",{className:u,children:n.students&&(null===(t=n.students)||void 0===t?void 0:t.map((function(t){return(0,i.jsx)(c.Z,{className:n.manageEach?"button-student-manageEach":"button-student",name:t.name,num:t.num,onShowOption:function(t){n.showOption(t),t.target+="add"}},t.num)})))})}},7405:function(n,t,e){e.d(t,{Z:function(){return s}});var u=e(885),c=e(7313),i={"button-student":"StudentBtn_button-student__Ck98o","button-student-manageEach":"StudentBtn_button-student-manageEach__Wrput","checklist-student":"StudentBtn_checklist-student__cWFAm",clicked:"StudentBtn_clicked__2mdeL",none:"StudentBtn_none__7z7Dj"},a=e(6417),s=function(n){var t=(0,c.useState)(!1),e=(0,u.Z)(t,2),s=e[0],r=e[1];return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("button",{className:"".concat(i[n.className]," ").concat(s?i.clicked:i.none),onClick:function(t){n.onShowOption(t),r((function(n){return!n}))},children:[n.num," ",n.name]})})}},9247:function(n,t,e){var u=e(885),c=e(7313),i=e(7692),a=e(7890),s=e(2184),r=e(6417);t.Z=function(n){var t=(0,c.useState)(""),e=(0,u.Z)(t,2),o=e[0],l=e[1],d=(0,a.s0)();return(0,c.useEffect)((function(){var n=window.location.href.split("/");l(n[n.length-1]),console.log(o)}),[window.location.href]),(0,r.jsxs)("div",{className:s.Z["btns-div"],children:[(0,r.jsx)(i.Z,{name:"\uc815\ubcf4",className:"manageStudent"!==o?"manageBtn":"manageBtn-clicked",onclick:function(){return d("/manageStudent")}}),(0,r.jsx)(i.Z,{name:"\ucd9c\uacb0",className:"manageAttendance"!==o?"manageBtn":"manageBtn-clicked",onclick:function(){return d("/manageAttendance")}}),(0,r.jsx)(i.Z,{name:"\uc0c1\ub2f4",className:"manageConsult"!==o?"manageBtn":"manageBtn-clicked",onclick:function(){return d("/manageConsult")}}),(0,r.jsx)(i.Z,{name:"\uc81c\ucd9c/\uac1c\ubcc4",className:"manageCheckListMemo"!==o?"manageBtn":"manageBtn-clicked",onclick:function(){return d("/manageCheckListMemo")}})]})}},690:function(n,t,e){e.r(t);var u=e(4165),c=e(1413),i=e(5861),a=e(885),s=e(7313),r=e(556),o=e(9247),l=e(658),d=e.n(l),f=e(650),v=e(573),m=e(6417);t.default=function(n){var t=(0,s.useState)(!0),e=(0,a.Z)(t,2),l=e[0],h=(e[1],(0,s.useState)([])),j=(0,a.Z)(h,2),S=j[0],Z=j[1],g=(0,s.useState)([]),x=(0,a.Z)(g,2),k=x[0],_=x[1],b=(0,s.useState)([]),p=(0,a.Z)(b,2),E=p[0],w=p[1],O=(0,s.useState)([]),B=(0,a.Z)(O,2),Y=(B[0],B[1]),M=(0,s.useState)(""),N=(0,a.Z)(M,2),y=N[0],C=N[1],U=function(){return+d()().format("MM")<=2?String(+d()().format("YYYY")-1):d()().format("YYYY")},L=function(){var t=(0,i.Z)((0,u.Z)().mark((function t(){var e,i,a,s;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Z([]),e=(0,v.JU)(f.wO,"checkLists",n.userUid),t.next=4,(0,v.QT)(e);case 4:return i=t.sent,(0,v.cf)(e,(function(n){if(i.exists()){var t,e,u,a=[];null===(t=n.data())||void 0===t||null===(e=t.checkLists_data)||void 0===e||null===(u=e.filter((function(n){return n.yearGroup===U()})))||void 0===u||u.forEach((function(n){return n.unSubmitStudents.forEach((function(t){var e=(0,c.Z)((0,c.Z)({},t),{},{id:n.id,title:n.title});a.push(e)}))})),Z([].concat(a))}})),_([]),a=(0,v.JU)(f.wO,"listMemo",n.userUid),t.next=10,(0,v.QT)(a);case 10:s=t.sent,(0,v.cf)(a,(function(n){if(s.exists()){var t,e,u,i=[];null===(t=n.data())||void 0===t||null===(e=t.listMemo_data)||void 0===e||null===(u=e.filter((function(n){return n.yearGroup===U()})))||void 0===u||u.forEach((function(n){var t;return null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.forEach((function(t){var e=(0,c.Z)((0,c.Z)({},t),{},{id:n.id,title:n.title});i.push(e)}))})),_([].concat(i))}}));case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,s.useEffect)((function(){L()}),[]),(0,s.useEffect)((function(){if(""!==y){var n=k.filter((function(n){return n.name===y.split(" ")[1]}));w(n);var t=S.filter((function(n){return n.name===y.split(" ")[1]}));Y(t)}}),[y]),(0,m.jsxs)("div",{children:[(0,m.jsx)(r.Z,{students:n.students,userUid:n.userUid,isSubject:n.isSubject,selectStudentHandler:function(n){C(n)}}),(0,m.jsx)(o.Z,{}),l?(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{children:E.map((function(n){return(0,m.jsxs)("div",{children:[n.id,n.memo]},n.id+n.num)}))})}):(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{})})]})}},556:function(n,t,e){var u=e(885),c=e(7313),i=e(3776),a=e(658),s=e.n(a),r=e(2184),o=e(6417);t.Z=function(n){var t,e=(0,c.useState)(""),a=(0,u.Z)(e,2),l=a[0],d=a[1],f=(0,c.useState)(""),v=(0,u.Z)(f,2),m=v[0],h=v[1],j=(0,c.useState)([]),S=(0,u.Z)(j,2),Z=S[0],g=S[1],x=(0,c.useState)([]),k=(0,u.Z)(x,2),_=k[0],b=k[1],p=(0,c.useState)(!1),E=(0,u.Z)(p,2),w=E[0],O=E[1],B=(0,c.useRef)(),Y=function(n){var t=s()(n),e="",u=t.format("MM"),c=t.format("YYYY");return+u>=2?e=c:+u<=1&&(e=String(+c-1)),e};(0,c.useEffect)((function(){var t=function(t){var e,u,c,i;return n.isSubject&&(e=null===(u=n.isSubject)||void 0===u||null===(c=u.filter((function(n){return Object.keys(n)[0]===t})))||void 0===c||null===(i=c[0])||void 0===i?void 0:i[t]),e}(Y());O(t)}),[n.isSubject]),(0,c.useEffect)((function(){var t,e,u,c=Y(),i=null===n||void 0===n||null===(t=n.students)||void 0===t||null===(e=t.filter((function(n){return Object.keys(n)[0]===c})))||void 0===e||null===(u=e[0])||void 0===u?void 0:u[c];b(i)}),[n.students]);return(0,c.useEffect)((function(){null===_||void 0===_||_.forEach((function(n){Object.keys(n)[0]===m&&g(Object.values(n)[0])})),""===m&&g([])}),[m]),(0,c.useEffect)((function(){n.selectStudentHandler(l)}),[l]),(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{children:"* \ud559\uc0dd \uac1c\ubcc4 \uc870\ud68c(\uc815\ud655\ud55c \uba85\uce6d \ubbf8\uc815) \ud0ed \uc2e0\uc124 \ud14c\uc2a4\ud2b8\ud654\uba74"}),w&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("select",{ref:B,onChange:function(){var n=B.current.value;h(n)},className:r.Z["class-select"],value:m,children:[(0,o.jsx)("option",{value:"",children:"--\ud559\uae09--"}),null===_||void 0===_?void 0:_.map((function(n){return(0,o.jsx)("option",{value:Object.keys(n),children:Object.keys(n)},Object.keys(n))}))]}),""===(null===B||void 0===B||null===(t=B.current)||void 0===t?void 0:t.value)&&"* \ud559\uae09\uc744 \uba3c\uc800 \uc120\ud0dd\ud574\uc8fc\uc138\uc694."]})]}),(0,o.jsx)("div",{children:(0,o.jsx)(i.Z,{students:w?Z:_,showOption:function(n){d(n.target.innerText)},isSubject:n.isSubject,manageEach:!0})}),(0,o.jsx)("div",{})]})}},2184:function(n,t){t.Z={"class-select":"ManageEach_class-select__IlQlu","btns-div":"ManageEach_btns-div__Zivma"}}}]);