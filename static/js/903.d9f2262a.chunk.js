"use strict";(self.webpackChunkchecks_cool=self.webpackChunkchecks_cool||[]).push([[903],{7903:function(e,t,a){a.r(t),a.d(t,{default:function(){return E}});var n=a(4165),s=a(5861),c=a(2982),l=a(885),i=a(7313),r=a(571),o="ClassTableBasic_container__j2TCv",u="ClassTableBasic_input-div__VY+0f",d="ClassTableBasic_input__1R1wb",m="ClassTableBasic_time-input__kndwK",f="ClassTableBasic_title-weekday__dv9Fs",v="ClassTableBasic_title-class-container__Y81X+",x="ClassTableBasic_title-class-div__zTxcQ",p="ClassTableBasic_title-class__qmcG5",h="ClassTableBasic_timeRange__KlyFp",_="ClassTableBasic_timeRanges__Xawh-",b="ClassTableBasic_select-p-m__qDtnc",j="ClassTableBasic_select__Ag1Wy",T=a(7692),N=a(7114),C=a.n(N),k=a(6417),Z=function(e){var t,a=(0,i.useRef)(),n=function(t,n,s){t.preventDefault(),e.classStartHandler(a.current.value,n,s)};return(0,k.jsxs)("div",{className:b,children:[(0,k.jsx)(T.Z,{name:"\uc804\uccb4 \ucd08\uae30\ud654",className:"reset-cl-button",onclick:function(){return e.returnBaseHandler()}}),(0,k.jsxs)("form",{onSubmit:n,className:b,children:[(0,k.jsxs)("select",{ref:a,className:j,children:[(0,k.jsx)("option",{defaultChecked:!0,value:"all",children:"\uc804\uccb4"}),null===e||void 0===e||null===(t=e.classTime)||void 0===t?void 0:t.map((function(e,t){return(0,k.jsx)("option",{value:t,children:e},"option-".concat(e))}))]}),(0,k.jsx)(T.Z,{name:"+5",className:"time-pm-button",onclick:function(e){n(e,"plus",5)}}),(0,k.jsx)(T.Z,{name:"-5",className:"time-pm-button",onclick:function(e){n(e,"minus",5)}})]})]})},y=a(650),B=a(573),S=a(658),g=a.n(S),w=["2022-01-13 08:20","2022-01-13 09:00","2022-01-13 09:50","2022-01-13 10:40","2022-01-13 11:30","2022-01-13 13:10","2022-01-13 14:00","2022-01-13 14:50"],H=["\uc544\uce68","1\uad50\uc2dc","2\uad50\uc2dc","3\uad50\uc2dc","4\uad50\uc2dc","5\uad50\uc2dc","6\uad50\uc2dc","\ubc29\uacfc\ud6c4"],E=function(e){var t,a=(0,i.useState)(!1),j=(0,l.Z)(a,2),N=j[0],S=j[1],E=(0,i.useState)(!1),Y=(0,l.Z)(E,2),A=Y[0],q=Y[1],D=(0,i.useState)([]),M=(0,l.Z)(D,2),U=M[0],F=M[1],R=(0,i.useState)([]),V=(0,l.Z)(R,2),W=V[0],G=V[1],J=(0,i.useState)(H),O=(0,l.Z)(J,2),Q=O[0],X=O[1],z=["\uc6d4","\ud654","\uc218","\ubaa9","\uae08"],K=null===(t=(0,c.Z)(Array(40).keys()))||void 0===t?void 0:t.map((function(e){return e}));(0,i.useEffect)((function(){q(null===K||void 0===K?void 0:K.map((function(e,t){return(0,k.jsx)("div",{className:u,children:(0,k.jsx)("input",{className:d,type:"text",id:"table-".concat(e),placeholder:"",defaultValue:U[t]})},"table-".concat(e))})))}),[U]),(0,i.useEffect)((function(){var t=function(){var t=(0,s.Z)((0,n.Z)().mark((function t(){var a,s,l,i,r,o,u;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=(0,B.JU)(y.wO,"classTable",e.userUid),t.next=3,(0,B.QT)(l);case 3:null!==(i=t.sent)&&void 0!==i&&null!==(a=i.data())&&void 0!==a&&a.classStart?(o=[],H.forEach((function(e,t){z.forEach((function(e){var a,n;o.push(null===(a=i.data())||void 0===a||null===(n=a[e])||void 0===n?void 0:n[t])}))})),F([].concat(o)),G((0,c.Z)(null===(r=i.data())||void 0===r?void 0:r.classStart))):(F([]),G([].concat(w))),null!==i&&void 0!==i&&null!==(s=i.data())&&void 0!==s&&s.classTime&&X(null===i||void 0===i||null===(u=i.data())||void 0===u?void 0:u.classTime);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();F([]),t()}),[]);var P=function(){var t=(0,s.Z)((0,n.Z)().mark((function t(){var a,s,l,i,r,o,u,d;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=[],s=[],l=[],i=[],r=[],o=(0,B.JU)(y.wO,"classTable",e.userUid),K.forEach((function(e){if(+e%5===0){var t=document.querySelectorAll('input[id="table-'.concat(e,'"]'))[0].value;a.push(t)}else if(+e%5===1){var n=document.querySelectorAll('input[id="table-'.concat(e,'"]'))[0].value;s.push(n)}else if(+e%5===2){var c=document.querySelectorAll('input[id="table-'.concat(e,'"]'))[0].value;l.push(c)}else if(+e%5===3){var o=document.querySelectorAll('input[id="table-'.concat(e,'"]'))[0].value;i.push(o)}else if(+e%5===4){var u=document.querySelectorAll('input[id="table-'.concat(e,'"]'))[0].value;r.push(u)}})),u=[],H.forEach((function(e,t){var a=document.querySelectorAll('input[id="classTime-'.concat(t,'"]'))[0].value;u.push(a)})),(0,c.Z)(new Set(u)).length===u.length){t.next=13;break}return C().fire({icon:"error",title:"\uc800\uc7a5 \uc2e4\ud328",text:"\uae30\ucd08\uc2dc\uac04\ud45c\uc758 \uad50\uc2dc \uc774\ub984\uc744 \ub2e4\ub974\uac8c \uc124\uc815\ud574\uc8fc\uc138\uc694!",confirmButtonText:"\ud655\uc778",confirmButtonColor:"#85bd82",timer:5e3}),t.abrupt("return");case 13:return t.next=15,(0,B.QT)(o);case 15:if(!((d=t.sent).exists()&&Object.keys(null===d||void 0===d?void 0:d.data()).length>0)){t.next=21;break}return t.next=19,(0,B.r7)(o,{"\uc6d4":[].concat(a),"\ud654":[].concat(s),"\uc218":[].concat(l),"\ubaa9":[].concat(i),"\uae08":[].concat(r),classStart:(0,c.Z)(W),classTime:[].concat(u)});case 19:t.next=23;break;case 21:return t.next=23,(0,B.pl)(o,{"\uc6d4":[].concat(a),"\ud654":[].concat(s),"\uc218":[].concat(l),"\ubaa9":[].concat(i),"\uae08":[].concat(r),classStart:(0,c.Z)(W),classTime:[].concat(u)});case 23:C().fire({icon:"success",title:"\uc800\uc7a5 \uc644\ub8cc",text:"\uae30\ucd08\uc2dc\uac04\ud45c\uac00 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4. 5\ucd08 \ud6c4\uc5d0 \ucc3d\uc774 \uc0ac\ub77c\uc9d1\ub2c8\ub2e4.",confirmButtonText:"\ud655\uc778",confirmButtonColor:"#85bd82",timer:5e3});case 24:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,k.jsxs)(k.Fragment,{children:[N&&(0,k.jsx)(r.Z,{onClose:function(){return S(!1)},imgSrc:"",text:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("p",{style:{fontSize:"1.3em",textAlign:"center",margin:"5px"},children:"=== \uae30\ucd08\uc2dc\uac04\ud45c\uae30\ub85d \uc608\uc2dc ==="}),(0,k.jsx)("p",{style:{margin:"15px"},children:"* \ud654\uba74 \uc67c\ucabd \uc0c1\ub2e8\uc758 \ud604\uc7ac \ud398\uc774\uc9c0 \ud0c0\uc774\ud2c0\uc744 \ud074\ub9ad\ud558\uc2dc\uba74 \ub2e4\uc2dc \ubcf4\uc2e4 \uc218 \uc788\uc5b4\uc694!"})]})}),(0,k.jsx)("div",{id:"title-div",children:(0,k.jsxs)("button",{id:"title-btn",className:"consult",onClick:function(){return S(!0)},children:[(0,k.jsx)("i",{className:"fa-solid fa-table"})," \uae30\ucd08\uc2dc\uac04\ud45c"]})}),(0,k.jsxs)("div",{className:v,children:[(0,k.jsx)("div",{className:p}),(0,k.jsx)("div",{className:f,children:null===z||void 0===z?void 0:z.map((function(e){return(0,k.jsx)("span",{style:{fontWeight:"bold"},children:e},e)}))})]}),(0,k.jsxs)("div",{className:v,children:[(0,k.jsx)("div",{className:p,children:null===Q||void 0===Q?void 0:Q.map((function(e,t){return(0,k.jsxs)("div",{className:x,children:[(0,k.jsx)("div",{style:{fontWeight:"bold"},children:(0,k.jsx)("input",{className:m,type:"text",id:"classTime-".concat(t),placeholder:"",defaultValue:e})}),(0,k.jsxs)("div",{className:_,children:[(0,k.jsx)("div",{className:h,children:"".concat(g()(W[t]).format("HH:mm")," ")}),(0,k.jsx)("div",{className:h,children:" ~ ".concat(g()(W[t]).add(40,"minute").format("HH:mm"))})]})]},e)}))}),(0,k.jsx)("div",{className:o,children:A})]}),(0,k.jsx)("div",{className:b,children:(0,k.jsx)(T.Z,{name:"\uc800\uc7a5",className:"save-classTable-button",onclick:P})}),(0,k.jsx)(Z,{classStartHandler:function(e,t,a){var n=[];W.forEach((function(s,c){"all"===e||+e===c?"plus"===t?n.push(g()(s).add(+a,"minute").format("YYYY-MM-DD HH:mm")):n.push(g()(s).subtract(+a,"minute").format("YYYY-MM-DD HH:mm")):n.push(s)})),G([].concat(n))},classTime:Q,returnBaseHandler:function(){C().fire({icon:"info",title:"\ucd08\uae30\ud654 \ud560\uae4c\uc694?",text:"\uc2dc\uac04\ud45c \uc804\uccb4\uc640 \uad50\uc2dc\ubcc4 \uc2dc\uac04\uc744 \ubaa8\ub450 \ucd08\uae30\ud654 \ud560\uae4c\uc694? (\ucd08\uae30\ud654 \ud6c4 \uc800\uc7a5\ud574\uc8fc\uc138\uc694.)",confirmButtonText:"\ud655\uc778",confirmButtonColor:"#85bd82",showDenyButton:!0,denyButtonText:"\ucde8\uc18c",timer:5e3}).then((function(e){e.isConfirmed&&(G([].concat(w)),F([]),X(H))}))}})]})}},571:function(e,t,a){a.d(t,{Z:function(){return r}});a(7313);var n=a(3451),s="ExampleModal_xmark__aUZiP",c="ExampleModal_img-div__6WVX9",l="ExampleModal_img__oJEG0",i=a(6417),r=function(e){return(0,i.jsxs)(n.Z,{onClose:e.onClose,children:[(0,i.jsx)("span",{onClick:e.onClose,className:s,children:(0,i.jsx)("i",{className:"fa-regular fa-circle-xmark"})}),(0,i.jsx)("div",{children:e.text}),(0,i.jsx)("div",{className:c,children:(0,i.jsx)("img",{src:e.imgSrc,className:l,alt:"exampleGif"})}),(0,i.jsx)("div",{children:e.bottomText})]})}}}]);