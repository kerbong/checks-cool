"use strict";(self.webpackChunkchecks_cool=self.webpackChunkchecks_cool||[]).push([[903],{7903:function(e,t,n){n.r(t),n.d(t,{default:function(){return A}});var a=n(4165),l=n(5861),s=n(2982),i=n(885),c=n(7313),r=n(571),o="ClassTableBasic_container__j2TCv",u="ClassTableBasic_input-div__VY+0f",d="ClassTableBasic_input__1R1wb",m="ClassTableBasic_time-input__kndwK",f="ClassTableBasic_title-weekday__dv9Fs",v="ClassTableBasic_title-class-container__Y81X+",x="ClassTableBasic_title-class-div__zTxcQ",h="ClassTableBasic_title-class__qmcG5",p="ClassTableBasic_timeRange__KlyFp",b="ClassTableBasic_timeRanges__Xawh-",j="ClassTableBasic_select-p-m__qDtnc",_="ClassTableBasic_select__Ag1Wy",T=n(7692),g=n(7114),C=n.n(g),k=n(6417),N=function(e){var t,n=(0,c.useRef)(),a=function(t,a,l){t.preventDefault(),e.classStartHandler(n.current.value,a,l)};return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:j,children:[(0,k.jsx)(T.Z,{name:"\ub9c8\uc9c0\ub9c9 \uad50\uc2dc \uc0ad\uc81c",className:"reset-cl-button",onclick:function(){e.delAddClassTimeHandler("del")}}),(0,k.jsx)(T.Z,{name:"\ub9c8\uc9c0\ub9c9 \uad50\uc2dc \ucd94\uac00",className:"reset-cl-button",onclick:function(){e.delAddClassTimeHandler("add")}})]}),(0,k.jsxs)("div",{className:j,children:[(0,k.jsx)(T.Z,{name:"\uc804\uccb4 \ucd08\uae30\ud654",className:"reset-cl-button",onclick:function(){return e.returnBaseHandler()}}),(0,k.jsxs)("form",{onSubmit:a,className:j,children:[(0,k.jsxs)("select",{ref:n,className:_,children:[(0,k.jsx)("option",{defaultChecked:!0,value:"all",children:"\uc804\uccb4"}),null===e||void 0===e||null===(t=e.classTime)||void 0===t?void 0:t.map((function(e,t){return(0,k.jsx)("option",{value:t,children:e},"option-".concat(e))}))]}),(0,k.jsx)(T.Z,{name:"+5",className:"time-pm-button",onclick:function(e){a(e,"plus",5)}}),(0,k.jsx)(T.Z,{name:"-5",className:"time-pm-button",onclick:function(e){a(e,"minus",5)}})]})]})]})},B=n(650),Z=n(573),y=n(658),S=n.n(y),H=["2022-01-13 08:20","2022-01-13 09:00","2022-01-13 09:50","2022-01-13 10:40","2022-01-13 11:30","2022-01-13 12:10","2022-01-13 13:10","2022-01-13 14:00","2022-01-13 14:50","2022-01-13 15:40"],w=["\uc544\uce68","1\uad50\uc2dc","2\uad50\uc2dc","3\uad50\uc2dc","4\uad50\uc2dc","\uc810\uc2ec","5\uad50\uc2dc","6\uad50\uc2dc","\ubc29\uacfc\ud6c4","\uc900\ube44\ubb3c"],A=function(e){var t=(0,c.useState)(!1),n=(0,i.Z)(t,2),_=n[0],g=n[1],y=(0,c.useState)(!1),A=(0,i.Z)(y,2),E=A[0],Y=A[1],q=(0,c.useState)([]),D=(0,i.Z)(q,2),M=D[0],F=D[1],U=(0,c.useState)([]),R=(0,i.Z)(U,2),V=R[0],W=R[1],G=(0,c.useState)([]),J=(0,i.Z)(G,2),O=J[0],Q=J[1],X=(0,c.useState)([]),z=(0,i.Z)(X,2),K=z[0],P=z[1],I=["\uc6d4","\ud654","\uc218","\ubaa9","\uae08"];(0,c.useEffect)((function(){var e;P(null===(e=(0,s.Z)(Array(5*(null===O||void 0===O?void 0:O.length)).keys()))||void 0===e?void 0:e.map((function(e){return e})))}),[O]),(0,c.useEffect)((function(){Y(null===K||void 0===K?void 0:K.map((function(e,t){return(0,k.jsx)("div",{className:u,children:(0,k.jsx)("input",{className:d,type:"text",id:"table-".concat(e),placeholder:"",defaultValue:M[t]})},"table-".concat(e))})))}),[K]),(0,c.useEffect)((function(){var t=function(){var t=(0,l.Z)((0,a.Z)().mark((function t(){var n,l,i,c,r,o,u;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return F([]),i=(0,Z.JU)(B.wO,"classTable",e.userUid),t.next=4,(0,Z.QT)(i);case 4:null!==(c=t.sent)&&void 0!==c&&null!==(n=c.data())&&void 0!==n&&n.classStart?(o=[],w.forEach((function(e,t){I.forEach((function(e){var n,a;o.push(null===(n=c.data())||void 0===n||null===(a=n[e])||void 0===a?void 0:a[t])}))})),F([].concat(o)),W((0,s.Z)(null===(r=c.data())||void 0===r?void 0:r.classStart))):W([].concat(H)),null!==c&&void 0!==c&&null!==(l=c.data())&&void 0!==l&&l.classTime?Q(null===c||void 0===c||null===(u=c.data())||void 0===u?void 0:u.classTime):Q(w);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]);var L=function(){var t=(0,l.Z)((0,a.Z)().mark((function t(){var n,l,i,c,r,o,u,d,m,f;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=[],l=[],i=[],c=[],r=[],o=(0,Z.JU)(B.wO,"classTable",e.userUid),K.forEach((function(e){if(+e%5===0){var t=document.querySelectorAll('input[id="table-'.concat(e,'"]'))[0].value;n.push(t)}else if(+e%5===1){var a=document.querySelectorAll('input[id="table-'.concat(e,'"]'))[0].value;l.push(a)}else if(+e%5===2){var s=document.querySelectorAll('input[id="table-'.concat(e,'"]'))[0].value;i.push(s)}else if(+e%5===3){var o=document.querySelectorAll('input[id="table-'.concat(e,'"]'))[0].value;c.push(o)}else if(+e%5===4){var u=document.querySelectorAll('input[id="table-'.concat(e,'"]'))[0].value;r.push(u)}})),u=[],d=!1,null===O||void 0===O||O.forEach((function(e,t){var n=document.querySelectorAll('input[id="classTime-'.concat(t,'"]'))[0].value;""===n.trim()&&(d=!0),u.push(n)})),!d){t.next=13;break}return C().fire({icon:"error",title:"\uc800\uc7a5 \uc2e4\ud328",text:"\uae30\ucd08\uc2dc\uac04\ud45c\uc758 \uad50\uc2dc \uc774\ub984\uc5d0 \ube48\uce78\uc774 \uc788\ub294\uc9c0 \ud655\uc778\ud574\uc8fc\uc138\uc694! \uc9c0\uc18d\uc801\uc73c\ub85c \ubb38\uc81c\uac00 \uc0dd\uae38 \uacbd\uc6b0 kerbong@gmail.com\uc73c\ub85c \uc54c\ub824\uc8fc\uc138\uc694!",confirmButtonText:"\ud655\uc778",confirmButtonColor:"#85bd82",timer:5e3}),t.abrupt("return");case 13:if((0,s.Z)(new Set(u)).length===u.length){t.next=17;break}return C().fire({icon:"error",title:"\uc800\uc7a5 \uc2e4\ud328",text:"\uae30\ucd08\uc2dc\uac04\ud45c\uc758 \uad50\uc2dc \uc774\ub984\uc744 \ub2e4\ub974\uac8c \uc124\uc815\ud574\uc8fc\uc138\uc694!",confirmButtonText:"\ud655\uc778",confirmButtonColor:"#85bd82",timer:5e3}),t.abrupt("return");case 17:return m={"\uc6d4":[].concat(n),"\ud654":[].concat(l),"\uc218":[].concat(i),"\ubaa9":[].concat(c),"\uae08":[].concat(r),classStart:(0,s.Z)(V),classTime:[].concat(u)},t.next=20,(0,Z.QT)(o);case 20:if(!((f=t.sent).exists()&&Object.keys(null===f||void 0===f?void 0:f.data()).length>0)){t.next=26;break}return t.next=24,(0,Z.r7)(o,m);case 24:t.next=28;break;case 26:return t.next=28,(0,Z.pl)(o,m);case 28:C().fire({icon:"success",title:"\uc800\uc7a5 \uc644\ub8cc",text:"\uae30\ucd08\uc2dc\uac04\ud45c\uac00 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4. 5\ucd08 \ud6c4\uc5d0 \ucc3d\uc774 \uc0ac\ub77c\uc9d1\ub2c8\ub2e4.",confirmButtonText:"\ud655\uc778",confirmButtonColor:"#85bd82",timer:5e3});case 29:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,k.jsxs)(k.Fragment,{children:[_&&(0,k.jsx)(r.Z,{onClose:function(){return g(!1)},imgSrc:"",text:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("p",{style:{fontSize:"1.3em",textAlign:"center",margin:"5px"},children:"=== \uae30\ucd08\uc2dc\uac04\ud45c\uae30\ub85d \uc608\uc2dc ==="}),(0,k.jsx)("p",{style:{margin:"15px"},children:"* \ud654\uba74 \uc67c\ucabd \uc0c1\ub2e8\uc758 \ud604\uc7ac \ud398\uc774\uc9c0 \ud0c0\uc774\ud2c0\uc744 \ud074\ub9ad\ud558\uc2dc\uba74 \ub2e4\uc2dc \ubcf4\uc2e4 \uc218 \uc788\uc5b4\uc694!"})]})}),(0,k.jsx)("div",{id:"title-div",children:(0,k.jsxs)("button",{id:"title-btn",className:"consult",onClick:function(){return g(!0)},children:[(0,k.jsx)("i",{className:"fa-solid fa-table"})," \uae30\ucd08\uc2dc\uac04\ud45c"]})}),(0,k.jsxs)("div",{className:v,children:[(0,k.jsx)("div",{className:h}),(0,k.jsx)("div",{className:f,children:null===I||void 0===I?void 0:I.map((function(e){return(0,k.jsx)("span",{style:{fontWeight:"bold"},children:e},e)}))})]}),(0,k.jsxs)("div",{className:v,children:[(0,k.jsx)("div",{className:h,children:null===O||void 0===O?void 0:O.map((function(e,t){return(0,k.jsxs)("div",{className:x,children:[(0,k.jsx)("div",{style:{fontWeight:"bold"},children:(0,k.jsx)("input",{className:m,type:"text",id:"classTime-".concat(t),placeholder:"",defaultValue:e})}),(0,k.jsxs)("div",{className:b,children:[(0,k.jsx)("div",{className:p,children:"".concat(S()(V[t]).format("HH:mm")," ")}),(0,k.jsx)("div",{className:p,children:" ~ ".concat(S()(V[t]).add(40,"minute").format("HH:mm"))})]})]},e)}))}),(0,k.jsx)("div",{className:o,children:E})]}),(0,k.jsx)("div",{className:j,children:(0,k.jsx)(T.Z,{name:"\uc800\uc7a5",className:"save-classTable-button",onclick:L})}),(0,k.jsx)(N,{classStartHandler:function(e,t,n){var a=[];V.forEach((function(l,s){"all"===e||+e===s?"plus"===t?a.push(S()(l).add(+n,"minute").format("YYYY-MM-DD HH:mm")):a.push(S()(l).subtract(+n,"minute").format("YYYY-MM-DD HH:mm")):a.push(l)})),W([].concat(a))},classTime:O,returnBaseHandler:function(){C().fire({icon:"info",title:"\ucd08\uae30\ud654 \ud560\uae4c\uc694?",text:"\uc2dc\uac04\ud45c \uc804\uccb4\uc640 \uad50\uc2dc\ubcc4 \uc2dc\uac04\uc744 \ubaa8\ub450 \ucd08\uae30\ud654 \ud560\uae4c\uc694? (\ucd08\uae30\ud654 \ud6c4 \uc800\uc7a5\ud574\uc8fc\uc138\uc694.)",confirmButtonText:"\ud655\uc778",confirmButtonColor:"#85bd82",showDenyButton:!0,denyButtonText:"\ucde8\uc18c",timer:5e3}).then((function(e){e.isConfirmed&&(W([].concat(H)),F([]),Q(w))}))},delAddClassTimeHandler:function(e){if("del"===e){if(K.length<=20)return void C().fire({icon:"error",title:"\uad50\uc2dc \uc0ad\uc81c \uc2e4\ud328",text:"\ucd5c\uc18c 4\uad50\uc2dc\ub294 \uc874\uc7ac\ud574\uc57c \ud569\ub2c8\ub2e4.",confirmButtonText:"\ud655\uc778",confirmButtonColor:"#85bd82",timer:5e3});var t;P(null===(t=(0,s.Z)(Array(K.length-5).keys()))||void 0===t?void 0:t.map((function(e){return e}))),Q((function(e){return e.pop(),e}))}else if("add"===e){if(K.length>=50)return void C().fire({icon:"error",title:"\uad50\uc2dc \ucd94\uac00 \uc2e4\ud328",text:"\ucd5c\ub300 10\uad50\uc2dc(10\uc904)\uae4c\uc9c0 \ucd94\uac00\uac00 \uac00\ub2a5\ud569\ub2c8\ub2e4.",confirmButtonText:"\ud655\uc778",confirmButtonColor:"#85bd82",timer:5e3});var n;P(null===(n=(0,s.Z)(Array(K.length+5).keys()))||void 0===n?void 0:n.map((function(e){return e}))),Q((function(e){var t=String(e.length+1)+"\uad50\uc2dc";return e.includes(t)&&(t=String(e.length+2)+"\uad50\uc2dc"),e.push(t),e}))}}})]})}},571:function(e,t,n){n.d(t,{Z:function(){return r}});n(7313);var a=n(3451),l="ExampleModal_xmark__aUZiP",s="ExampleModal_img-div__6WVX9",i="ExampleModal_img__oJEG0",c=n(6417),r=function(e){return(0,c.jsxs)(a.Z,{onClose:e.onClose,children:[(0,c.jsx)("span",{onClick:e.onClose,className:l,children:(0,c.jsx)("i",{className:"fa-regular fa-circle-xmark"})}),(0,c.jsx)("div",{children:e.text}),(0,c.jsx)("div",{className:s,children:e.imgSrc&&(0,c.jsx)("img",{src:e.imgSrc,className:i,alt:"exampleGif"})}),(0,c.jsx)("div",{children:e.bottomText})]})}}}]);