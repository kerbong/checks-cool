"use strict";(self.webpackChunkchecks_cool=self.webpackChunkchecks_cool||[]).push([[24],{92024:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var a=t(74165),i=t(42982),r=t(15861),o=(t(1413),t(70885)),c=t(47313),s="MobileMain_main__t+rXW",l="MobileMain_img-div__Ab97P",u=t(37692),d=t(97890),m=(t(74521),t(90573)),f=t(80650),v=t(56573),p=t(10658),h=t.n(p),x=t(67114),g=t.n(x),k=t(63038),w=t.n(k),M=t(46146),b=t.n(M),Y=t(46417);h().extend(w()),h().extend(b()),h().locale("ko");var Z=function(e){var n=(0,c.useState)(!1),t=(0,o.Z)(n,2),p=t[0],x=t[1],k=(0,c.useState)(null),w=(0,o.Z)(k,2),M=w[0],b=w[1],Z=(0,c.useState)(!1),_=(0,o.Z)(Z,2),j=_[0],D=_[1],N=(0,c.useState)(""),S=(0,o.Z)(N,2),y=S[0],C=S[1],R=(0,c.useState)(""),T=(0,o.Z)(R,2),F=T[0],W=T[1],O=(0,c.useState)(""),U=(0,o.Z)(O,2),V=U[0],B=U[1],E=(0,c.useRef)(),H=(0,d.s0)(),q=function(e){E.current&&E.current.click();var n=e.target.title;C(n)};var A=function(e){return(0,Y.jsx)(u.Z,{name:e,className:"mobileMain-x",onclick:q,title:e})},J=function(e){return(0,Y.jsx)(u.Z,{name:j&&F===e?"\uc911\uc9c0":e,icon:j&&F===e?(0,Y.jsx)("i",{className:"fa-solid fa-microphone-slash"}):(0,Y.jsx)("i",{className:"fa-solid fa-microphone"}),title:e,className:"mobileMain-x",onclick:function(n){W(e),function(e){if("webkitSpeechRecognition"in window){var n=M||new window.webkitSpeechRecognition;M||(n.lang="ko-KR",n.onresult=function(e){var t=e.results[0][0].transcript;n.stop(),D(!1),B(t)},b(n)),j?(n.stop(),D(!1)):(null===n||void 0===n||n.start(),D(!0))}else alert("\uc74c\uc131 \uc778\uc2dd API\ub97c \uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 \ube0c\ub77c\uc6b0\uc800\uc785\ub2c8\ub2e4.")}()},style:j&&F===e?{color:"red"}:{}})},P=function(e){return g().fire({title:"\uc800\uc7a5\uc644\ub8cc!",html:"".concat(e,"\uc5d0<br/> \ub0b4\uc6a9\uc774 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4!<br/>(3\ucd08\ud6c4 \uc790\ub3d9 \ub2eb\ud798)"),timer:3e3,icon:"success",confirmButtonText:"\ud655\uc778"})},Q=function(){return g().fire("\uc800\uc7a5\uc2e4\ud328!","\ubc18\ubcf5\uc801\uc73c\ub85c \uc800\uc7a5\uc774 \uc2e4\ud328\ud560 \uacbd\uc6b0 kerbong@gmail.com\uc73c\ub85c \uc99d\uc0c1\uc744 \uc124\uba85\ud574\uc8fc\uc138\uc694!","warning")},X=function(){var n=(0,r.Z)((0,a.Z)().mark((function n(t){var r,o,c,s,l,u,d;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=(0,m.JU)(f.wO,"memo",e.userUid),n.next=3,(0,m.QT)(c);case 3:return s=n.sent,l=(0,i.Z)(null===s||void 0===s||null===(r=s.data())||void 0===r?void 0:r.memoTodo),u=null===t||void 0===t||null===(o=t.split(" "))||void 0===o?void 0:o.filter((function(e){return e.includes("\uc911\uc694")||e.includes("\uae34\uae09")})),l.unshift({id:+(l.length+1),text:t,checked:!1,emg:(null===u||void 0===u?void 0:u.length)>0}),n.prev=7,d={memoTodo:l},n.next=11,(0,m.pl)(c,d);case 11:P("\ud560\uc77c \ubaa9\ub85d"),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(7),Q();case 17:B(""),W("");case 19:case"end":return n.stop()}}),n,null,[[7,14]])})));return function(e){return n.apply(this,arguments)}}();var I=function(e){var n,t,a,i,r,o,c=/(\d{1,2})\uad50\uc2dc\uc5d0?/g,s=/\ub2e4\uc74c \ub2ec|\ub2e4\uc74c\ub2ec/g;if(a=/(\d{1,2})\uc6d4 (\d{1,2})\uc77c/g.exec(e))t=h()("".concat(h()().year(),"-").concat(a[1],"-").concat(a[2])),e=e.replace(a[0],"").trim();else if(i=/(\d{1,2})\uc77c/g.exec(e))t=h()().date(i[1]),e=e.replace(i[0],"").trim();else if(o=/(\ub2e4\uc74c \uc8fc|\ub2e4\uc74c\uc8fc|\uc774\ubc88\uc8fc|\uc774\ubc88 \uc8fc|\ub2e4\uc74c \ub2ec|\ub2e4\uc74c\ub2ec|\uc774\ubc88 \ub2ec|\uc774\ubc88\ub2ec) (\S\uc694\uc77c)/g.exec(e)){var l="\ub2e4\uc74c\uc8fc"===o[1]?1:0,u=function(e){return["\uc77c\uc694\uc77c","\uc6d4\uc694\uc77c","\ud654\uc694\uc77c","\uc218\uc694\uc77c","\ubaa9\uc694\uc77c","\uae08\uc694\uc77c","\ud1a0\uc694\uc77c"].indexOf(e)}(o[2]);t=h()().startOf("week").add(l,"week").add(u,"day"),e=e.replace(o[0],"").trim()}else t=h()();s.test(e)&&(t=t.add(1,"month"),e=e.replace(s,"").trim());for(var d="";r=c.exec(e);)d+="".concat(r[1],"\uad50\uc2dc "),e=e.replace(r[0],"").trim();return{new_date:t=t.format("YYYY-MM-DD"),new_text:e.trim(),new_note:(null===(n=d.trim())||void 0===n?void 0:n.length)>0?d.trim()+"@":""}},z=function(){var n=(0,r.Z)((0,a.Z)().mark((function n(t){var i,r,o,c,s,l,u,d,v,p,x,g,k;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=(0,m.JU)(f.wO,"todo",e.userUid),n.next=3,(0,m.QT)(r);case 3:return o=n.sent,c=(null===o||void 0===o||null===(i=o.data())||void 0===i?void 0:i.todo_data)||[],s=null===t||void 0===t?void 0:t.split(" "),u=h()().format("YYYY-MM-DD"),"","2\uc790\uccb4\ud589\uc0ac",v=I(t),p=v.new_date,x=v.new_text,g=v.new_note,u=p,l=x,d=g,null===s||void 0===s||s.forEach((function(e){e.includes("\uc624\ub298")?u=h()().format("YYYY-MM-DD"):e.includes("\ub0b4\uc77c")?u=h()().add(1,"d").format("YYYY-MM-DD"):e.includes("\ubaa8\ub808")&&(u=h()().add(2,"d").format("YYYY-MM-DD"))})),k={id:u+l,eventName:l,note:d,option:"2\uc790\uccb4\ud589\uc0ac"},n.prev=15,c.push(k),n.next=19,(0,m.pl)(r,{todo_data:c});case 19:P("\uba54\ubaa8 \uc77c\uc815"),n.next=25;break;case 22:n.prev=22,n.t0=n.catch(15),Q();case 25:B(""),W("");case 27:case"end":return n.stop()}}),n,null,[[15,22]])})));return function(e){return n.apply(this,arguments)}}();return(0,c.useEffect)((function(){if(""!==V){var e=F,n=V;"\ud560\uc77c"===e?X(n):"\uc77c\uc815"===e&&z(n)}}),[V]),(0,Y.jsxs)("div",{className:s,children:[(0,Y.jsx)("div",{className:l,children:"\ud14c\uc2a4\ud2b8 \uc911\uc785\ub2c8\ub2e4."}),(0,Y.jsx)("input",{type:"file",accept:"image/*;capture=camera",style:{display:"none"},ref:E,onChange:function(n){var t=n.target.files[0];if(t){var a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){!function(n,t){var a;v.Z.post("https://a4929zexaf.apigw.ntruss.com/custom/v1/18557/6d58ba3626b8ecce640f3a4a64775e2dcc85d6813b60f59583d9a3f8f1ce75e7/general",{images:[{format:null===(a=t.type)||void 0===a?void 0:a.split("/")[1],name:y,data:n}],requestId:h()().format("YYYY-MM-DD-HH:mm:ss:SSS")+"*"+e.email,timestamp:0,version:"V2",lang:"ko"},{headers:{"X-OCR-SECRET":"c3FhaHZvTFZJd1dMQkFMT1lWWXBWeHVRa1NmVm5hVVM=","Content-Type":"application/json"}}).then((function(e){200===e.status&&console.log("requestWithBase64 response:",e.data)})).catch((function(e){console.warn("requestWithBase64 error",e.response)}))}(a.result.split(",")[1],t)},C("")}}}),(0,Y.jsx)(u.Z,{name:"PC \uba54\uc778\ud654\uba74",className:"mobileMain-2x",onclick:function(){return H("/main")}}),!p&&(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(u.Z,{name:"\uc67c\ucabd\uc73c\ub85c \uc62e\uae30\uae30 \ud83d\udc48\ud83c\udffc",className:"mobileMain-move",onclick:function(){return x(!0)}}),J("\uc77c\uc815"),J("\ud560\uc77c"),(0,Y.jsx)(u.Z,{name:"",className:"mobileMain-x",style:{backgroundColor:"inherit"}}),A("\uc0c1\ub2f4"),A("\ucd9c\uacb0")]}),p&&(0,Y.jsxs)(Y.Fragment,{children:[J("\ud560\uc77c"),J("\uc77c\uc815"),(0,Y.jsx)(u.Z,{name:"\uc624\ub978\ucabd\uc73c\ub85c \uc62e\uae30\uae30 \ud83d\udc49\ud83c\udffc",className:"mobileMain-move",onclick:function(){return x(!1)}}),A("\ucd9c\uacb0"),A("\uc0c1\ub2f4"),(0,Y.jsx)(u.Z,{name:"",className:"mobileMain-x",style:{backgroundColor:"inherit"}})]})]})}}}]);