"use strict";(self.webpackChunkchecks_cool=self.webpackChunkchecks_cool||[]).push([[176],{3776:function(n,t,e){e.d(t,{Z:function(){return s}});e(7313);var a="Student_div__ROh5A",c=e(7405),i=e(6417),s=function(n){var t;return(0,i.jsx)("div",{className:a,children:n.students&&(null===(t=n.students)||void 0===t?void 0:t.map((function(t){var e;return(0,i.jsx)(c.Z,{className:n.manageEach?"button-student-manageEach":"button-student",classAdd:(null===(e=n.passStudent)||void 0===e?void 0:e.split(" ")[1])===t.name,manageEach:n.manageEach,name:t.name,num:t.num,onShowOption:function(t){n.showOption(t),t.target+="add"}},t.num)})))})}},7405:function(n,t,e){e.d(t,{Z:function(){return i}});e(7313);var a={"button-student":"StudentBtn_button-student__Ck98o","button-student-manageEach":"StudentBtn_button-student-manageEach__Wrput","checklist-student":"StudentBtn_checklist-student__cWFAm"},c=e(6417),i=function(n){return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("button",{className:"".concat(a[n.className]," ").concat(n.classAdd&&"clicked"),id:"std-".concat(n.num," ").concat(n.name),onClick:function(t){n.onShowOption(t)},children:[n.num," ",n.name]})})}},3176:function(n,t,e){e.r(t);var a=e(4165),c=e(2982),i=e(5861),s=e(885),l=e(7313),u=e(2118),o=e(658),d=e.n(o),r=e(650),f=e(573),v=e(7890),m=e(2184),h=e(7692),g=e(6417);t.default=function(n){var t,e=(0,l.useState)(""),o=(0,s.Z)(e,2),_=o[0],x=o[1],j=(0,l.useState)(""),S=(0,s.Z)(j,2),p=S[0],Z=S[1],E=(0,l.useState)([]),b=(0,s.Z)(E,2),k=b[0],N=b[1],w=(0,l.useState)([]),M=(0,s.Z)(w,2),B=M[0],O=M[1],y=(0,l.useState)([]),Y=(0,s.Z)(y,2),C=Y[0],H=Y[1],A=(0,l.useState)([]),I=(0,s.Z)(A,2),L=I[0],R=I[1],U=(0,l.useState)(""),T=(0,s.Z)(U,2),W=T[0],F=T[1],D=(0,v.TH)().state,Q=function(n){var t=n||new Date;return+d()(t).format("MM")<=2?String(+d()(t).format("YYYY")-1):d()(t).format("YYYY")},X=function(t){var e,a,c,i;n.isSubject&&(e=null===(a=n.isSubject)||void 0===a||null===(c=a.filter((function(n){return Object.keys(n)[0]===t})))||void 0===c||null===(i=c[0])||void 0===i?void 0:i[t]);return e}(Q()),G=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){var e,i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return N([]),e=(0,f.JU)(r.wO,"attend",n.userUid),t.next=4,(0,f.QT)(e);case 4:i=t.sent,(0,f.cf)(e,(function(n){if(i.exists()){var t,e,a,s;if(X)t=null===(e=n.data())||void 0===e?void 0:e.attend_data;else t=null===(a=n.data())||void 0===a||null===(s=a.attend_data)||void 0===s?void 0:s.filter((function(n){return Q(n.id.slice(0,10))===Q()}));N((0,c.Z)(t))}}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();(0,l.useEffect)((function(){G()}),[]),(0,l.useEffect)((function(){if(""!==_)if(X){var n,t=(null===k||void 0===k||null===(n=k[p])||void 0===n?void 0:n.filter((function(n){return n.name===_.split(" ")[1]})))||[];O(t),H(t);var e=null===t||void 0===t?void 0:t.map((function(n){return n.option.slice(1)}));R(e)}else{var a=(null===k||void 0===k?void 0:k.filter((function(n){return n.name===_.split(" ")[1]})))||[];O(a),H(a);var c=null===a||void 0===a?void 0:a.map((function(n){return n.option.slice(1)}));R(c)}}),[_]),(0,l.useEffect)((function(){var n=null===D||void 0===D?void 0:D.student,t=null===D||void 0===D?void 0:D.clName;""!==n&&x(n),""!==t&&Z(t)}),[D]);(0,l.useEffect)((function(){var n=null===D||void 0===D?void 0:D.student,t=null===D||void 0===D?void 0:D.clName;""!==n&&x(n),""!==t&&Z(t)}),[D]),(0,l.useEffect)((function(){if(""===W)H(B);else{var n=null===B||void 0===B?void 0:B.filter((function(n){return n.option.slice(1)===W}));H(n)}}),[W]);return(0,g.jsxs)("div",{children:[(0,g.jsx)(u.Z,{students:n.students,userUid:n.userUid,isSubject:n.isSubject,selectStudentHandler:function(n){x(n)},clName:p,passStudent:_,nowClassNameHandler:function(n){Z(n)}}),(0,g.jsx)("ul",{className:"".concat(m.Z["bottom-content-ul"]," ").concat(m.Z["flex-wrap"]),children:_&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("li",{className:m.Z["bottom-content-li"],style:{width:"80%"},children:[_," | \ucd9c\uacb0 \uc694\uc57d",(0,g.jsx)("hr",{className:m.Z["margin-15"]}),0===(null===B||void 0===B?void 0:B.length)?(0,g.jsx)("div",{className:"".concat(m.Z["fs-13"]," ").concat(m.Z["margin-15"]),children:"\uac1c\uadfc\uc785\ub2c8\ub2e4!"}):(0,g.jsxs)("div",{children:[(0,g.jsx)(h.Z,{id:"whole",className:""===W?"sortBtn-clicked":"sortBtn",name:"\uc804\uccb4(".concat(null===L||void 0===L?void 0:L.length,")"),onclick:function(){F("")}},"whole"),null===(t=(0,c.Z)(new Set(L)))||void 0===t?void 0:t.map((function(n){return(0,g.jsx)(h.Z,{id:n,className:W===n?"sortBtn-clicked":"sortBtn",name:"".concat(n," (").concat(null===L||void 0===L?void 0:L.filter((function(t){return t===n})).length,")"),onclick:function(){F(n)}},n)}))]})]}),(0,g.jsx)("div",{className:m.Z["btns-div"],style:{flexWrap:"wrap"},children:null===C||void 0===C?void 0:C.map((function(n){return(0,g.jsxs)("li",{id:n.id,className:m.Z["bottom-content-li"],style:{width:"260px",padding:"25px"},children:[(0,g.jsx)("div",{className:m.Z["flex-ml-10"],children:n.id.slice(0,10)}),(0,g.jsxs)("div",{className:m.Z["fs-13"],children:[n.option.slice(1)," | ",n.note||"(\uba54\ubaa8 \uc5c6\uc74c)"]}),(0,g.jsx)("div",{className:m.Z["fs-13"]})]},n.id)}))}),0===(null===B||void 0===B?void 0:B.length)&&(0,g.jsx)("li",{className:m.Z["bottom-content-li"],children:"* \ud559\uc0dd\uc758 \ucd9c\uacb0\uae30\ub85d\uc774 \uc5c6\uc5b4\uc694!"})]})})]})}},2118:function(n,t,e){e.d(t,{Z:function(){return v}});var a=e(885),c=e(7313),i=e(3776),s=e(658),l=e.n(s),u=e(2184),o=e(7692),d=e(7890),r=e(6417),f=function(n){var t=(0,c.useState)(""),e=(0,a.Z)(t,2),i=e[0],s=e[1],l=(0,c.useState)(""),f=(0,a.Z)(l,2),v=f[0],m=f[1],h=(0,c.useState)(""),g=(0,a.Z)(h,2),_=g[0],x=g[1],j=(0,d.s0)();return(0,c.useEffect)((function(){var n=window.location.href.split("/");s(n[n.length-1])}),[window.location.href]),(0,c.useEffect)((function(){""!==n.onStudent&&m(n.onStudent)}),[n.onStudent]),(0,c.useEffect)((function(){""!==n.clName&&x(n.clName)}),[n.clName]),(0,r.jsxs)("div",{className:u.Z["btns-div"],children:[(0,r.jsx)(o.Z,{name:"\uc815\ubcf4",className:"manageStudent"!==i?"manageBtn":"manageBtn-clicked",onclick:function(){return j("/manageStudent",{state:{student:v,clName:_||""}})}}),(0,r.jsx)(o.Z,{name:"\ucd9c\uacb0",className:"manageAttendance"!==i?"manageBtn":"manageBtn-clicked",onclick:function(){return j("/manageAttendance",{state:{student:v,clName:_||""}})}}),(0,r.jsx)(o.Z,{name:"\uc0c1\ub2f4",className:"manageConsult"!==i?"manageBtn":"manageBtn-clicked",onclick:function(){return j("/manageConsult",{state:{student:v,clName:_||""}})}}),(0,r.jsx)(o.Z,{name:"\uc81c\ucd9c/\uac1c\ubcc4",className:"manageCheckListMemo"!==i?"manageBtn":"manageBtn-clicked",onclick:function(){return j("/manageCheckListMemo",{state:{student:v,clName:_||""}})}})]})},v=function(n){var t,e=(0,c.useState)(""),s=(0,a.Z)(e,2),o=s[0],d=s[1],v=(0,c.useState)(""),m=(0,a.Z)(v,2),h=m[0],g=m[1],_=(0,c.useState)([]),x=(0,a.Z)(_,2),j=x[0],S=x[1],p=(0,c.useState)([]),Z=(0,a.Z)(p,2),E=Z[0],b=Z[1],k=(0,c.useState)(!1),N=(0,a.Z)(k,2),w=N[0],M=N[1],B=(0,c.useRef)();(0,c.useEffect)((function(){if(""!==o){var n=document.getElementById("std-".concat(o));null===n||void 0===n||n.classList.remove("none"),null===n||void 0===n||n.classList.add("clicked")}}),[o]);var O=function(n){var t=l()(n),e="",a=t.format("MM"),c=t.format("YYYY");return+a>=2?e=c:+a<=1&&(e=String(+c-1)),e};(0,c.useEffect)((function(){var t=function(t){var e,a,c,i;return n.isSubject&&(e=null===(a=n.isSubject)||void 0===a||null===(c=a.filter((function(n){return Object.keys(n)[0]===t})))||void 0===c||null===(i=c[0])||void 0===i?void 0:i[t]),e}(O());M(t)}),[n.isSubject]),(0,c.useEffect)((function(){var t,e,a,c=O(),i=null===n||void 0===n||null===(t=n.students)||void 0===t||null===(e=t.filter((function(n){return Object.keys(n)[0]===c})))||void 0===e||null===(a=e[0])||void 0===a?void 0:a[c];b(i)}),[n.students]);return(0,c.useEffect)((function(){null===E||void 0===E||E.forEach((function(n){Object.keys(n)[0]===h&&S(Object.values(n)[0])})),""===h&&S([]),n.nowClassNameHandler(h)}),[h]),(0,c.useEffect)((function(){n.selectStudentHandler(o)}),[o]),(0,c.useEffect)((function(){g(n.clName)}),[n.clName]),(0,c.useEffect)((function(){""!==n.passStudent&&d(n.passStudent)}),[n.passStudent]),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"* \ud559\uc0dd \uac1c\ubcc4 \uc870\ud68c(\uc815\ud655\ud55c \uba85\uce6d \ubbf8\uc815) \ud0ed \uc2e0\uc124 \ud14c\uc2a4\ud2b8\ud654\uba74"}),w&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("select",{ref:B,onChange:function(){var n=B.current.value;g(n)},className:u.Z["class-select"],value:h,children:[(0,r.jsx)("option",{value:"",children:"--\ud559\uae09--"}),null===E||void 0===E?void 0:E.map((function(n){return(0,r.jsx)("option",{value:Object.keys(n),children:Object.keys(n)},Object.keys(n))}))]}),""===(null===B||void 0===B||null===(t=B.current)||void 0===t?void 0:t.value)&&"* \ud559\uae09\uc744 \uba3c\uc800 \uc120\ud0dd\ud574\uc8fc\uc138\uc694."]})]}),(0,r.jsx)("div",{children:(0,r.jsx)(i.Z,{students:w?j:E,showOption:function(n){var t=n.target.innerText;if(d(o===t?"":t),""!==o){var e=document.getElementById("std-".concat(o));null===e||void 0===e||e.classList.remove("clicked"),null===e||void 0===e||e.classList.add("none")}},isSubject:n.isSubject,manageEach:!0,passStudent:n.passStudent})}),(0,r.jsx)(f,{onStudent:o,clName:h}),(0,r.jsx)("div",{})]})}},2184:function(n,t){t.Z={"class-select":"ManageEach_class-select__IlQlu","btns-div":"ManageEach_btns-div__Zivma","padd-5":"ManageEach_padd-5__-MakG","bottom-content-ul":"ManageEach_bottom-content-ul__xXaZv","bottom-content-li":"ManageEach_bottom-content-li__S8Tge","flex-ml-10":"ManageEach_flex-ml-10__whmHW","fs-13":"ManageEach_fs-13__7gMai","fs-11":"ManageEach_fs-11__dIRN5","flex-wrap":"ManageEach_flex-wrap__NnIS9","margin-15":"ManageEach_margin-15__R8DcB","margin-5":"ManageEach_margin-5__IctPu","flex-center":"ManageEach_flex-center__Ent-o","width-max400":"ManageEach_width-max400__8b-OH","a-link":"ManageEach_a-link__oahRi",excelfileUploadBtn:"ManageEach_excelfileUploadBtn__vkRXS"}}}]);