"use strict";(self.webpackChunkchecks_cool=self.webpackChunkchecks_cool||[]).push([[755],{5729:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(885),s=n(7313),a="FileArea_fileArea__MQmcW",r="FileArea_previewImg__+SvF8",l=n(7785),o=n(6417),c=function(e){var t=(0,s.useState)(e.file||""),n=(0,i.Z)(t,2),c=n[0],u=n[1];return(0,o.jsxs)("div",{className:a,children:[c&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("img",{src:c,className:r,alt:"filePreview"})}),"attendance"!==e.about&&(0,o.jsx)(l.Z,{attachedFileHandler:function(t){e.attachedFileHandler(t),u(t)},src:c,about:e.about})]})}},7785:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(4165),s=n(5861),a=n(885),r=n(7313),l="FileForm_fileUploadBtn__r9msD",o=n(2964),c=n(6417),u=function(e){var t=(0,r.useState)(e.src||""),n=(0,a.Z)(t,2),u=n[0],d=n[1],m=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={maxSizeMb:1,maxWidthOrHeight:900},e.next=4,(0,o.Z)(t,n);case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var t=(0,s.Z)((0,i.Z)().mark((function t(n){var s,a,r;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(s=n.target.files[0])){t.next=8;break}return t.next=4,m(s);case 4:a=t.sent,(r=new FileReader).onloadend=function(t){d(t.currentTarget.result),e.attachedFileHandler(t.currentTarget.result)},r.readAsDataURL(a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("label",{id:"attachedFile",htmlFor:"attachFile",className:l,onClick:function(){u&&d("")},style:"padIt"===e.about?{backgroundColor:"#687f7f"}:{},children:u?"\ucd08\uae30\ud654 & \uc774\ubbf8\uc9c0 \ubcc0\uacbd":"\uc774\ubbf8\uc9c0 \ucd94\uac00"}),(0,c.jsx)("input",{type:"file",accept:"image/*",onChange:f,style:{display:"none"},id:"attachFile"})]})}},4484:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(1413),s=n(885),a=n(7313),r={"class-subject":"Input_class-subject__E+qGy","rowcolumn-input":"Input_rowcolumn-input__MzKWZ","simsim-Text":"Input_simsim-Text__7+u+1","meetSum-Text":"Input_meetSum-Text__0ijY3","class-memo":"Input_class-memo__eXBTy","attendForm-input":"Input_attendForm-input__KLvku","memo-section":"Input_memo-section__CGRYR","simsimMain-input":"Input_simsimMain-input__TVHos","board-input":"Input_board-input__2xPzk","board-input-half":"Input_board-input-half__Lu9st","fs-80px":"Input_fs-80px__t0quj","fs-70px":"Input_fs-70px__ZcOO7","fs-60px":"Input_fs-60px__QNEgw","fs-50px":"Input_fs-50px__GEaU0","fs-40px":"Input_fs-40px__OICBO","memoAdd-textarea":"Input_memoAdd-textarea__dssNI"},l=n(6417),o=void 0,c=a.forwardRef((function(e,t){var n=(0,a.useRef)(null),c=(0,a.useState)(""),u=(0,s.Z)(c,2),d=u[0],m=u[1],f=(0,a.useState)(""),p=(0,s.Z)(f,2),_=p[0],x=p[1];(0,a.useEffect)((function(){m("")}),[]),(0,a.useEffect)((function(){m(e.defaultValue)}),[e.defaultValue]);var v=function(){var t;return"40px"===e.fontSize?t="10-900":"50px"===e.fontSize?t="9-310":"60px"===e.fontSize?t="8-190":"70px"===e.fontSize?t="7-150":"80px"===e.fontSize&&(t="6-120"),/iPhone|iPad|iPod|Android/i.test(window.navigator.userAgent)&&(t="25-400"),t},h=function(t){m(n.current.value),e.getValue&&e.getValueHandler(t)};(0,a.useEffect)((function(){!0===e.showOn?x("1"):!1===e.showOn?x("0"):x(e.showOn)}),[e.showOn]),(0,a.useEffect)((function(){"textarea"===e.input.type&&j()}),[_]),(0,a.useEffect)((function(){n.current.style.height=e.startheight}),[e.startheight]);var g=function(){var t,i,s,a,r=null===(t=v())||void 0===t||null===(i=t.split("-"))||void 0===i?void 0:i[0],l=null===(s=v())||void 0===s||null===(a=s.split("-"))||void 0===a?void 0:a[1],o=n.current.value.split("\n"),c=Math.ceil((n.current.clientWidth-50)/(+e.fontSize.slice(0,2)+2)),u=o.length;o.forEach((function(e){var t=Math.floor(e.length/c);t>1&&(u+=t)})),+u>+r?e.maxRowAlert("enter"):n.current.value.length>+l&&e.maxRowAlert("length")};(0,a.useEffect)((function(){""!==e.fontSize&&void 0!==e.fontSize&&g()}),[e.fontSize]);var j=function(t){if(null!==n&&null!==n.current){if(e.alarm)return window.scrollTo(0,n.current.scrollHeight),void g();n.current.style.height="10px",n.current.style.height=n.current.scrollHeight-13+"px"}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("label",{htmlFor:e.input.id}),"textarea"===e.input.type?(0,l.jsx)("textarea",(0,i.Z)((0,i.Z)({id:e.id,ref:n},e.input),{},{className:r[e.className],onKeyDown:function(){return j(o)},onKeyUp:function(){return j(o)},onClick:function(){return j(o)},value:d||"",onInput:e.onInput,required:!!e.required,onChange:h,placeholder:e.placeholder||""}),"textArea"+e.myKey):(0,l.jsx)("input",(0,i.Z)((0,i.Z)({id:e.input.id,type:e.input.type,required:!!e.required,className:r[e.className],onInput:e.onInput,ref:n},e.input),{},{value:d||"",onChange:h,placeholder:e.placeholder||""}),e.myKey)]})}))},7696:function(e,t,n){n(7313);var i=n(271),s=n(6417);t.Z=function(e){return(0,s.jsxs)("span",{className:i.Z["memo-headerBtn"],onClick:function(){e.setShowWhatMemo()},children:[e.icon,(0,s.jsx)("span",{className:i.Z["headerBtn-text"],dangerouslySetInnerHTML:{__html:e.menu_name.split("<br/>")[0]}})]})}},7639:function(e,t,n){n(7313);var i=n(7692),s=n(3702),a=n(7114),r=n.n(a),l=n(6417);t.Z=function(e){return(0,l.jsxs)("li",{id:e.student.num,className:s.Z.inputStudentLi,style:{justifyContent:e.noEdit?"center":"flex-start"},children:[(0,l.jsx)("span",{className:"".concat(s.Z.studentNumName).concat(e.student.woman?" ".concat(s.Z.womanBg):" "),onClick:function(){var t=e.student.woman||!1;e.studentFixHandler({num:e.student.num,name:e.student.name,woman:t})},children:e.student.num+" "+e.student.name}),!e.noEdit&&(0,l.jsx)(i.Z,{className:"student-remove",name:(0,l.jsx)("i",{className:"fa-solid fa-minus"}),onclick:function(){var t;t=e.student,r().fire({icon:"question",title:"\uc0ad\uc81c\ud560\uae4c\uc694?",html:'"'.concat(t.name,'" \ud559\uc0dd\uc815\ubcf4\ub97c \uc0ad\uc81c\ud560\uae4c\uc694? <br/><br/>** \uc804\ucd9c \ud559\uc0dd\uc740 \ud654\uba74 \ud558\ub2e8\uc758"\uc804\ucd9c\ud559\uc0dd \uad00\ub9ac"\ub97c<br/>  \ud65c\uc6a9\ud574\uc8fc\uc138\uc694!'),showDenyButton:!0,confirmButtonText:"\uc0ad\uc81c",confirmButtonColor:"#db100cf2",denyButtonColor:"#85bd82",denyButtonText:"\ucde8\uc18c"}).then((function(t){t.isConfirmed&&e.deleteStudentHandler(e.student)}))}})]},e.myKey)}},9755:function(e,t,n){n.r(t),n.d(t,{default:function(){return _e}});var i=n(885),s=n(7313),a=n(7692),r=n(7231),l=n(2982),o=n(4165),c=n(5861),u={"container-div":"Simsim_container-div__x4TxI","image-div":"Simsim_image-div__q--t8","user-like-div":"Simsim_user-like-div__y8m-q","user-div":"Simsim_user-div__uxWLS","like-div":"Simsim_like-div__Dg1SU","text-div":"Simsim_text-div__cT35A","userImage-div":"Simsim_userImage-div__dhfye","insteadText-div":"Simsim_insteadText-div__GrXEb","simsimAdd-btn":"Simsim_simsimAdd-btn__2QyOK","text-span":"Simsim_text-span__mU5Y8",previewImg:"Simsim_previewImg__giO0M","image-next":"Simsim_image-next__rI59L","image-prev":"Simsim_image-prev__xc-2x",p:"Simsim_p__7PTi7","p-active":"Simsim_p-active__0besg","p-hide":"Simsim_p-hide__9qGiL","nickName-div":"Simsim_nickName-div__3FHK7","explain-icon":"Simsim_explain-icon__sHfqI","explain-span":"Simsim_explain-span__+8hvs"},d=n(658),m=n.n(d),f=n(650),p=n(6797),_=n(5162),x=n(573),v=n(7114),h=n.n(v),g=n(7890),j=n(5729),S={"ImgTextChange-btn":"SimsimAdd_ImgTextChange-btn__PtrId","image-div":"SimsimAdd_image-div__ZniDK","imageTitle-div":"SimsimAdd_imageTitle-div__-SU2v","title-p":"SimsimAdd_title-p__VQ6++",p:"SimsimAdd_p__T6ydj","addImage-span":"SimsimAdd_addImage-span__OycgV","saveSimsim-div":"SimsimAdd_saveSimsim-div__VsIeZ"},w=n(4484),b=n(6417),N=function(e){var t=(0,s.useState)(""),n=(0,i.Z)(t,2),r=n[0],l=n[1],o=(0,s.useState)(!1),c=(0,i.Z)(o,2),u=c[0],d=c[1],m=function(e,t){h().fire({icon:"error",title:e,text:t,confirmButtonText:"\ud655\uc778",confirmButtonColor:"#85bd82",timer:5e3})},f=function(e,t){e.target.value.length>t&&(e.target.value=e.target.value.substr(0,t),m("\uc785\ub825 \ubd88\uac00","\uae00\uc790\uc218\ub97c \ucd08\uacfc\ud588\uc5b4\uc694! \ub0b4\uc6a9\uc744 ".concat(t,"\uc790 \uc774\ub0b4\ub85c \uc904\uc5ec\uc8fc\uc138\uc694.")))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("p",{className:S["title-p"],style:{marginTop:"-20px"},children:[" ","\ucd94\ucc9c \uae00 \uc791\uc131\ud558\uae30 \ud83d\ude04"," "]}),(0,b.jsxs)("p",{className:S.p,children:[" ","* \uccb5\uc2a4\ucfe8\uc774 \uac00\uc9c4 \uc7a5,\ub2e8\uc810\uc744 \uacf5\uc720\ud574\uc8fc\uc138\uc694! ",(0,b.jsx)("br",{})," * \ucd94\ucc9c/\uc790\uc8fc\uc4f0\ub294 \uae30\ub2a5, \ud65c\uc6a9\ubc29\ubc95 \ub4f1\uc744 \uacf5\uc720\ud574\uc8fc\uc138\uc694!"," "]}),(0,b.jsxs)("form",{children:[(0,b.jsxs)("div",{className:S["image-div"],children:[(0,b.jsxs)("div",{className:S["imageTitle-div"],children:[(0,b.jsx)("p",{className:S["title-p"],children:" \uc8fc\uc694\uc124\uba85 "}),(0,b.jsxs)("button",{className:S["ImgTextChange-btn"],onClick:function(e){e.preventDefault(),d((function(e){return!e})),l("")},children:[(0,b.jsx)("i",{className:"fa-solid fa-arrows-rotate"}),(0,b.jsx)("span",{className:S["addImage-span"],children:u?"\uae00\ub85c \uc4f0\uae30":"\uc774\ubbf8\uc9c0 \ucca8\ubd80\ud558\uae30"})]})]}),(0,b.jsx)("div",{children:u?(0,b.jsx)(j.Z,{about:e.about,attachedFileHandler:function(e){l(e)}}):(0,b.jsx)(w.Z,{id:"insteadText-input",myKey:"insteadText-input",className:"simsim-Text",label:"insteadText",input:{type:"textarea"},onInput:function(e){return f(e,300)},required:!0,placeholder:"\ud654\uba74 \uac00\uc6b4\ub370\uc5d0 \ubcf4\uc77c \uc8fc\uc694\uc124\uba85 (300\uc790 \uc774\ub0b4) "})})]}),(0,b.jsxs)("div",{className:S["descText-div"],children:[(0,b.jsx)("p",{className:S["title-p"],children:" \ucd94\uac00\uc124\uba85 "}),(0,b.jsx)(w.Z,{input:{id:"descText-input"},className:"simsim-Text",type:"text",required:!0,onInput:function(e){return f(e,100)},placeholder:"\ud504\ub85c\ud544 \uc544\ub798\ucabd\uc5d0 \ubcf4\uc77c \ucd94\uac00\uc124\uba85 (100\uc790 \uc774\ub0b4)"})]}),(0,b.jsx)("div",{className:S["saveSimsim-div"],children:(0,b.jsx)(a.Z,{className:"saveSimsim-btn2",onclick:function(t){(t.preventDefault(),0!==(u?r:document.getElementById("insteadText-input").value).trim().length)?0!==document.getElementById("descText-input").value.trim().length?e.addSimsimHandler(r):m("\uc800\uc7a5 \uc2e4\ud328","\ucd94\uac00 \uc124\uba85\uc744 \ub4f1\ub85d\ud574\uc8fc\uc138\uc694!"):m("\uc800\uc7a5 \uc2e4\ud328","\uba54\uc778 \ud14d\uc2a4\ud2b8/\uc774\ubbf8\uc9c0\ub97c \ub4f1\ub85d\ud574\uc8fc\uc138\uc694!")},icon:(0,b.jsx)(b.Fragment,{children:"\uc800\uc7a5"})})})]})]})},Z="LikeBtn_like-btn__DqUoR",y=function(e){var t=(0,s.useState)(!0),n=(0,i.Z)(t,2),a=n[0],r=n[1],l=(0,s.useState)(e.like||!1),o=(0,i.Z)(l,2),c=o[0],u=o[1];return(0,s.useEffect)((function(){u(e.like)}),[null===e||void 0===e?void 0:e.like]),(0,b.jsx)("button",{className:Z,onClick:function(){if(!e.likeNonClick){if(!a)return;r(!1),setTimeout((function(){r(!0)}),"4000"),e.changeLike()}},children:c?(0,b.jsx)("i",{className:"fa-solid fa-heart"}):(0,b.jsx)("i",{className:"fa-regular fa-heart"})})},k=function(e){var t,n,i,s,a,r,l,o,c;return(0,b.jsxs)("div",{children:[" ",(0,b.jsxs)("div",{className:u["image-div"],children:[(0,b.jsx)("div",{className:u["image-prev"],onClick:function(){return e.prev()},title:"\uc774\uc804",children:(0,b.jsx)("i",{className:"fa-solid fa-chevron-left fa-lg"})}),e.nowOnRecommend&&""===(null===(t=e.nowOnRecommend)||void 0===t?void 0:t.image)&&(0,b.jsx)("div",{className:u["insteadText-div"],children:null===(n=e.nowOnRecommend)||void 0===n?void 0:n.insteadText}),e.nowOnRecommend&&""!==(null===(i=e.nowOnRecommend)||void 0===i?void 0:i.image)&&(0,b.jsx)("img",{alt:"",src:null===(s=e.nowOnRecommend)||void 0===s?void 0:s.image,className:u.previewImg}),!e.nowOnRecommend&&(0,b.jsxs)(b.Fragment,{children:["\uc544\uc9c1 \uc774\ubc88\ub2ec \uc790\ub8cc\uac00 \uc5c6\uc5b4\uc694! ",(0,b.jsx)("br",{})," ",(0,b.jsx)("br",{})," \uae00\uc744 \uc791\uc131\ud574\uc8fc\uc138\uc694!"]}),(0,b.jsx)("div",{className:u["image-next"],onClick:function(){return e.next()},title:"\ub2e4\uc74c",children:(0,b.jsx)("i",{className:"fa-solid fa-chevron-right  fa-lg"})})]}),(0,b.jsxs)("div",{className:u["user-like-div"],children:[(0,b.jsx)("div",{className:u["userImage-div"],children:(0,b.jsx)("img",{className:u["userImage-img"],alt:"",src:e.image})}),(0,b.jsxs)("div",{className:u["user-div"],children:[(0,b.jsxs)("div",{className:u["nickName-div"],children:[null===(a=e.nowOnRecommend)||void 0===a?void 0:a.nickName,!e.nowOnRecommend&&"\uc800\uae30\uc694!"]}),(0,b.jsxs)("div",{className:u["stateMessage-div"],children:[null===(r=e.nowOnRecommend)||void 0===r?void 0:r.stateMessage,!e.nowOnRecommend&&"\uac70\uae30 \ub204\uad6c \uacc4\uc2e0\uac00\uc694??"]})]}),(0,b.jsxs)("div",{className:u["like-div"],children:[(0,b.jsx)(y,{like:e.nowOnRecommend&&e.like,changeLike:function(){return e.nowOnRecommend&&e.changeLikeHandler()}}),(0,b.jsx)("div",{children:null===(l=e.nowOnRecommend)||void 0===l||null===(o=l.like)||void 0===o?void 0:o.length})]})]}),(0,b.jsx)("div",{className:u["text-div"],children:(0,b.jsx)("span",{className:u["text-span"],children:null===(c=e.nowOnRecommend)||void 0===c?void 0:c.descText})})]})},M=function(e){var t=(0,s.useState)([]),n=(0,i.Z)(t,2),a=n[0],r=n[1],d=(0,s.useState)({}),v=(0,i.Z)(d,2),j=v[0],S=v[1],w=(0,s.useState)({}),Z=(0,i.Z)(w,2),y=Z[0],M=Z[1],B=(0,s.useState)(!1),C=(0,i.Z)(B,2),D=C[0],T=C[1],I=(0,s.useState)(!1),U=(0,i.Z)(I,2),L=U[0],E=U[1],H=(0,s.useState)(!1),A=(0,i.Z)(H,2),F=A[0],O=A[1],Y=(0,s.useState)(0),W=(0,i.Z)(Y,2),R=W[0],q=W[1],Q=(0,s.useState)(0),z=(0,i.Z)(Q,2),J=z[0],G=z[1],P=(0,s.useState)(!1),K=(0,i.Z)(P,2),V=K[0],X=K[1],$=(0,g.s0)(),ee=function(){var t=(0,c.Z)((0,o.Z)().mark((function t(){var n,i;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,x.JU)(f.wO,"user",e.userUid),t.next=3,(0,x.QT)(n);case 3:(i=t.sent).exists()?(M({nickName:i.data().nickName,stateMessage:i.data().stateMessage}),O(!0)):O(!1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();(0,s.useEffect)((function(){!function(){var e=(0,x.JU)(f.wO,"recommend","all");r([]),(0,x.cf)(e,(function(e){var t,n,i=[];null!==e&&void 0!==e&&null!==(t=e.data())&&void 0!==t&&t.datas&&(i=null===e||void 0===e||null===(n=e.data())||void 0===n?void 0:n.datas),r(i)}))}(),ee()}),[]),(0,s.useEffect)((function(){G(a.length),S(a[R])}),[a]),(0,s.useEffect)((function(){ae()}),[j]),(0,s.useEffect)((function(){R<J&&R>=0&&S(a[R]),0!==J&&R>=J&&q(J-1),R<=-1&&q(0)}),[R]),(0,s.useEffect)((function(){var e=document.getElementById("container-div");null===e||void 0===e||e.addEventListener("touchstart",oe),null===e||void 0===e||e.addEventListener("touchend",ce)}),[]);var te,ne,ie,se,ae=function(){var t,n=null===j||void 0===j||null===(t=j.like)||void 0===t?void 0:t.filter((function(t){return t===e.userUid})).length;E(n>0)},re=function(){q((function(e){return e-1}))},le=function(){q((function(e){return e+1}))},oe=function(e){te=e.touches[0].pageX,ie=e.touches[0].pageY},ce=function(e){ne=e.changedTouches[0].pageX,se=e.changedTouches[0].pageY,Math.abs(ie-se)<Math.abs(te-ne)&&(te>ne?le():re())},ue=function(){var t=(0,c.Z)((0,o.Z)().mark((function t(){var n,i,s,a,r,c;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,x.JU)(f.wO,"recommend","all"),E((function(e){return!e})),t.next=4,(0,x.QT)(n);case 4:return i=t.sent,s=0,(a=(0,l.Z)(i.data().datas)).forEach((function(e,t){e.writtenId+e.id===j.writtenId+j.id&&(s=t)})),r=a[s],c=r.like,L?a[s].like=null===c||void 0===c?void 0:c.filter((function(t){return t!==e.userUid})):c.push(e.userUid),t.next=13,(0,x.r7)(n,{datas:a});case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),de=function(){var t=(0,c.Z)((0,o.Z)().mark((function t(n){var i,s,a,r,l,c,u,d,v,g,j,S,w;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l=null===(i=document.getElementById("descText-input"))||void 0===i?void 0:i.value,void 0===(c=null===(s=document.getElementById("insteadText-input"))||void 0===s?void 0:s.value)&&(c=""),u="",(null===n||void 0===n?void 0:n.length)>0&&(u=n),0===(null===(a=c)||void 0===a?void 0:a.trim().length)&&0===(null===n||void 0===n?void 0:n.length)&&h().fire({icon:"error",title:"\uc791\uc131 \ubd88\uac00",text:"\uba54\uc778\ub0b4\uc6a9/\uc774\ubbf8\uc9c0\ub294 \uaf2d \ud544\uc694\ud569\ub2c8\ub2e4.",confirmButtonText:"\ud655\uc778",confirmButtonColor:"#85bd82",showDenyButton:!1,timer:5e3}),!((null===(r=u)||void 0===r?void 0:r.length)>0)){t.next=13;break}return t.next=9,(0,p.sf)((0,p.iH)(f.Hw,"".concat(e.userUid,"/").concat((0,_.Z)())),u,"data_url");case 9:return d=t.sent,t.next=12,(0,p.Jt)(d.ref);case 12:u=t.sent;case 13:return v={id:m()().format("DD-HH:mm:ss"),descText:l,insteadText:c,image:u,like:[],nickName:y.nickName,stateMessage:y.stateMessage||"",writtenId:e.userUid},h().fire({icon:"success",title:"\uc791\uc131 \uc131\uacf5",text:"\ucd94\ucc9c\ud574\uc694\uc5d0 \uae00\uc774 \uc131\uacf5\uc801\uc73c\ub85c \uc791\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",confirmButtonText:"\ud655\uc778",confirmButtonColor:"#85bd82",showDenyButton:!1,timer:5e3}),g=(0,x.JU)(f.wO,"recommend","all"),j=[v],t.next=19,(0,x.QT)(g);case 19:return(S=t.sent).exists()&&(null===S||void 0===S||null===(w=S.data())||void 0===w||w.datas.forEach((function(e){return j.push(e)}))),t.next=23,(0,x.pl)(g,{datas:j});case 23:c="",l="",T(!1);case 26:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{children:(0,b.jsx)("button",{className:u["simsimAdd-btn"],onClick:function(){T((function(e){return!e}))},children:D?(0,b.jsx)("i",{className:"fa-solid fa-xmark"}):(0,b.jsx)("i",{className:"fa-solid fa-plus"})})}),(0,b.jsxs)("div",{className:u["container-div"],id:"container-div",children:[D?(0,b.jsx)(b.Fragment,{children:F?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(N,{addSimsimHandler:de})}):void h().fire({icon:"error",title:"\uc791\uc131 \ubd88\uac00",text:"\ud504\ub85c\ud544\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc544\uc11c \uae00 \uc791\uc131\uc774 \ubd88\uac00\ub2a5\ud569\ub2c8\ub2e4. [\ud655\uc778] \ubc84\ud2bc\uc744 \ub20c\ub7ec \ud504\ub85c\ud544 \ud654\uba74\uc73c\ub85c \uc774\ub3d9\ud574\uc8fc\uc138\uc694.",confirmButtonText:"\ud655\uc778",confirmButtonColor:"#85bd82",showDenyButton:!1}).then((function(e){e.isConfirmed&&$("/profile")}))}):(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(k,{changeLikeHandler:ue,like:L,nowOnRecommend:j,prev:re,next:le},null===j||void 0===j?void 0:j.id)}),(0,b.jsx)("div",{children:(0,b.jsx)("hr",{})}),(0,b.jsxs)("span",{className:u["explain-span"],onClick:function(){return X((function(e){return!e}))},children:["\ud83d\udccb \ucd94\ucc9c\ud574\uc694 \ud65c\uc6a9 \uc548\ub0b4",(0,b.jsxs)("span",{className:u["explain-icon"],children:[V?(0,b.jsx)("i",{className:"fa-solid fa-chevron-up"}):(0,b.jsx)("i",{className:"fa-solid fa-chevron-down"})," "]})]}),(0,b.jsx)("div",{children:(0,b.jsxs)("div",{className:V?u["p-active"]:u["p-hide"],children:[(0,b.jsx)("p",{className:u.p,children:"* \ud654\uba74 \uc911\uc559\uc758 \uc6b0\uce21, \ud639\uc740 \uc88c\uce21 \ubd80\ubd84\uc744 \ud074\ub9ad / \uc67c\ucabd\uc774\ub098 \uc624\ub978\ucabd\uc73c\ub85c \uc2ac\ub77c\uc774\ub4dc \ud558\uc2dc\uba74 \ub2e4\uc74c, \uc774\uc804 \ub0b4\uc6a9\uc73c\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4."}),(0,b.jsx)("p",{className:u.p,children:"* \"\ucd94\ucc9c\ud574\uc694\" \uae00\uc5d0\ub294 '\uc88b\uc544\uc694'\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4."}),(0,b.jsx)("p",{className:u.p,children:"* '\uc88b\uc544\uc694' \ubc84\ud2bc\uc740 3\ucd08\uc5d0 \ud55c \ubc88\ub9cc \uc0c1\ud0dc \ubcc0\uacbd\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4."})]})})]})]})},B=n(1413),C={listArea:"Mission_listArea__8ziLX","flex-center":"Mission_flex-center__c8iH2","flex-between":"Mission_flex-between__V69xu",nameArea:"Mission_nameArea__2nFO2",fileArea:"Mission_fileArea__9uT1c",textArea:"Mission_textArea__3y48M",titleSpan:"Mission_titleSpan__tk7oJ",nameIcon:"Mission_nameIcon__qQGt+",editDeleteArea:"Mission_editDeleteArea__Yrysp",input:"Mission_input__i9RhC",selectArea:"Mission_selectArea__z1sIW",consultDate:"Mission_consultDate__WaNbe","text-span":"Mission_text-span__CKWsq",sortBtnArea:"Mission_sortBtnArea__kipx1","select-area":"Mission_select-area__qjePQ","student-select":"Mission_student-select__DAmEH",h1:"Mission_h1__vAssn",h1Span:"Mission_h1Span__lpIWs",explainDiv:"Mission_explainDiv__2E7MC",explainP:"Mission_explainP__dK8mX",likeReplyDiv:"Mission_likeReplyDiv__GV-PQ",replyDiv:"Mission_replyDiv__TcDPo",replySpan:"Mission_replySpan__UcHLa",replyIcon:"Mission_replyIcon__qQI+x","reply-input":"Mission_reply-input__VS4yw","reply-form":"Mission_reply-form__B1yGn","replyTitle-input":"Mission_replyTitle-input__J9HKW","replyText-input":"Mission_replyText-input__9OqkL","missionInput-div":"Mission_missionInput-div__MLGir","reply-li":"Mission_reply-li__QTMU+","reply-nickName":"Mission_reply-nickName__yOjfw",titleNickName:"Mission_titleNickName__3JYbk","replyNameText-div":"Mission_replyNameText-div__0W-jn","replyBtn-div":"Mission_replyBtn-div__OlQmf","inputGroup-div":"Mission_inputGroup-div__xHeOM",explainDivHide:"Mission_explainDivHide__ujGtV","p-active":"Mission_p-active__SXGYK","p-hide":"Mission_p-hide__Z+6h9"},D=function(e){var t,n,a,r=(0,s.useState)(!1),u=(0,i.Z)(r,2),d=u[0],m=u[1],p=(0,s.useState)(e.userUid||""),_=(0,i.Z)(p,2),v=_[0],h=_[1],g=(0,s.useState)({}),j=(0,i.Z)(g,2),S=j[0],w=j[1];(0,s.useEffect)((function(){h(e.userUid)}),[e.userUid]),(0,s.useEffect)((function(){w(e.mission)}),[e.mission]);(0,s.useEffect)((function(){!function(e){var t,n=null===e||void 0===e||null===(t=e.like)||void 0===t?void 0:t.filter((function(e){return e===v})).length;m(n>0)}(S)}),[S]);var N=function(){var t=(0,c.Z)((0,o.Z)().mark((function t(){var n,i,s,a,r,c;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.likeNonClick){t.next=2;break}return t.abrupt("return");case 2:return n=(0,x.JU)(f.wO,"mission",e.dataDate),t.next=5,(0,x.QT)(n);case 5:return i=t.sent,s=0,(a=(0,l.Z)(i.data().mission_data)).forEach((function(e,t){e.writtenId===S.writtenId&&(s=t)})),r=a[s],c=r.like,d?a[s].like=null===c||void 0===c?void 0:c.filter((function(t){return t!==e.userUid})):c.push(e.userUid),m((function(e){return!e})),t.next=15,(0,x.r7)(n,{mission_data:a});case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,b.jsxs)("li",{className:C.listArea,id:S.nickName,onClick:function(){null===e||void 0===e||e.itemClickHandler(S)},children:[(0,b.jsx)("div",{children:(0,b.jsxs)("div",{className:C.nameArea,children:[(0,b.jsx)("span",{className:C.nameIcon,children:"\u2615"}),(0,b.jsxs)("span",{id:"1"+S.nickName,children:[(0,b.jsxs)("span",{className:C.titleSpan,style:{fontWeight:"bold"},children:[" ",S.nickName]})," "]}),(0,b.jsx)("span",{className:C.titleNickName,children:"".concat(S.title)})]})},S.nickName+"item"),e.onPopup&&(0,b.jsx)("div",{className:C.textArea,children:(0,b.jsx)("span",{className:C["text-span"],id:"note"+S.nickName,children:S.text})}),(0,b.jsxs)("div",{className:C.editDeleteArea,children:[(0,b.jsx)("div",{}),(0,b.jsxs)("div",{className:C.likeReplyDiv,children:[(0,b.jsx)(y,{like:d,changeLike:N,likeNonClick:e.likeNonClick}),null===(t=e.mission)||void 0===t||null===(n=t.like)||void 0===n?void 0:n.length,(0,b.jsxs)("div",{className:C.replyDiv,children:[(0,b.jsx)("span",{className:C.replyIcon,children:(0,b.jsx)("i",{className:"fa-solid fa-reply"})}),(0,b.jsx)("span",{className:C.replySpan,children:null===S||void 0===S||null===(a=S.reply)||void 0===a?void 0:a.length})]})]})]})]},S.nickName)},T=n(3451),I=function(e){var t,n=(0,s.useState)(!1),r=(0,i.Z)(n,2),l=r[0],o=r[1],c=(0,s.useRef)();return(0,b.jsxs)(b.Fragment,{children:[e.isBase&&(0,b.jsxs)("form",{className:C["reply-form"],onSubmit:function(t){t.preventDefault();var n=c.current.value;if(""===n.trim())return!1;e.replyAddHandler(n,"add",e.reply)},children:[(0,b.jsx)("input",{ref:c,id:"replyText-input",type:"text",placeholder:"\ub313\uae00\uc744 \uc785\ub825\ud558\uc138\uc694.",className:C["reply-input"],defaultValue:(null===e||void 0===e||null===(t=e.reply)||void 0===t?void 0:t.text)||""}),(0,b.jsx)(a.Z,{icon:(0,b.jsx)("i",{className:"fa-solid fa-circle-arrow-right"}),onclick:function(){var t=c.current.value;if(""===t.trim())return!1;e.replyAddHandler(t,"add",e.reply)},className:"replyAddBtn"})]}),!e.isBase&&(0,b.jsx)(b.Fragment,{children:l?(0,b.jsxs)("form",{className:C["reply-form"],onSubmit:function(t){t.preventDefault();var n=c.current.value;if(""===n.trim())return!1;e.replyAddHandler(n,"update",e.reply)},children:[(0,b.jsx)("input",{ref:c,id:"replyText-input",type:"text",placeholder:"\ub313\uae00\uc744 \uc785\ub825\ud558\uc138\uc694.",className:C["reply-input"],defaultValue:e.reply.text||""}),(0,b.jsx)(b.Fragment,{children:e.reply.writtenId===e.userUid&&(0,b.jsxs)("div",{className:C["replyBtn-div"],children:[(0,b.jsx)(a.Z,{className:"missionEditBtn",onclick:function(t){t.preventDefault();var n=c.current.value;""!==n&&(e.replyAddHandler(n,"update",e.reply),o(!1))},icon:(0,b.jsx)("i",{className:"fa-solid fa-circle-arrow-right"})}),(0,b.jsx)(a.Z,{className:"missionEditBtn",onclick:function(e){e.preventDefault(),o(!1)},icon:(0,b.jsx)("i",{className:"fa-regular fa-circle-xmark"})})]})})]}):(0,b.jsxs)("div",{className:C["flex-between"],children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:C["reply-nickName"],children:e.reply.nickName}),(0,b.jsx)("span",{className:C["reply-text"],children:e.reply.text})]}),e.reply.writtenId===e.userUid&&(0,b.jsxs)("div",{className:C["replyBtn-div"],children:[(0,b.jsx)(a.Z,{className:"missionEditBtn",onclick:function(){o(!0)},icon:(0,b.jsx)("i",{className:"fa-solid fa-pen-to-square"})}),(0,b.jsx)(a.Z,{className:"missionEditBtn",onclick:function(){e.replyAddHandler("none","delete",e.reply)},icon:(0,b.jsx)("i",{className:"fa-solid fa-trash"})})]})]})})]})},U=function(e){var t=(0,s.useState)([]),n=(0,i.Z)(t,2),a=n[0],r=n[1],u=(0,s.useState)([]),d=(0,i.Z)(u,2),p=d[0],_=d[1],v=(0,g.s0)(),j=function(){var t=(0,c.Z)((0,o.Z)().mark((function t(n){var i;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=(0,x.JU)(f.wO,"mission",e.dataDate),(0,x.cf)(i,(function(e){e.data().mission_data.forEach((function(e){e.writtenId===n.writtenId&&(r((0,B.Z)({},e)),_((0,l.Z)(e.reply)))}))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();(0,s.useEffect)((function(){j(e.mission)}),[e.mission]);var S=function(){var t=(0,c.Z)((0,o.Z)().mark((function t(n,i,s){var r,c,u,d,p,_,g,j;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0!==e.userState&&null!==(r=e.userState)&&void 0!==r&&r.hasOwnProperty("nickName")||h().fire({icon:"error",title:"\uc791\uc131 \ubd88\uac00",text:"\ud504\ub85c\ud544\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc544\uc11c \uae00 \uc791\uc131\uc774 \ubd88\uac00\ub2a5\ud569\ub2c8\ub2e4. [\ud655\uc778] \ubc84\ud2bc\uc744 \ub20c\ub7ec \ud504\ub85c\ud544 \ud654\uba74\uc73c\ub85c \uc774\ub3d9\ud574\uc8fc\uc138\uc694. \uc7bc\uc7bc-\uc544\uce68\ubbf8\uc158 \uc73c\ub85c \ub2e4\uc2dc \uc624\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",confirmButtonText:"\ud655\uc778",confirmButtonColor:"#85bd82",showDenyButton:!1}).then((function(e){e.isConfirmed&&v("/profile")})),c=(0,x.JU)(f.wO,"mission",e.dataDate),t.next=4,(0,x.QT)(c);case 4:return u=t.sent,d=(0,l.Z)(u.data().mission_data),p={},g=[],d.forEach((function(e,t){e.writtenId===a.writtenId&&(g=(0,l.Z)(e.reply),p=(0,B.Z)({},e),_=t)})),j=(0,l.Z)(g),"add"===i?j.push({text:n,id:m()().format("HH:mm:ss"),writtenId:e.userUid,nickName:e.userState.nickName}):"update"===i?j=j.map((function(t){var i=t;return t.writtenId===e.userUid&&(null===t||void 0===t?void 0:t.id)===(null===s||void 0===s?void 0:s.id)&&(i={text:n,id:t.id,writtenId:t.writtenId,nickName:e.userState.nickName}),i})):"delete"===i&&(j=j.filter((function(t){return!(t.writtenId===e.userUid&&(null===t||void 0===t?void 0:t.id)===(null===s||void 0===s?void 0:s.id))}))),p.reply=(0,l.Z)(j),d[_]=(0,B.Z)({},p),t.next=15,(0,x.r7)(c,{mission_data:d});case 15:case"end":return t.stop()}}),t)})));return function(e,n,i){return t.apply(this,arguments)}}();return(0,b.jsxs)("div",{children:[(0,b.jsx)(I,{isBase:!0,replyAddHandler:S}),(0,b.jsx)("div",{children:null===p||void 0===p?void 0:p.map((function(t,n){return(0,b.jsx)("li",{className:C["reply-li"],children:(0,b.jsx)("div",{className:C["replyNameText-div"],children:(0,b.jsx)(I,{replyAddHandler:S,reply:t,userUid:e.userUid})})},"reply_".concat(n))}))})]})},L=["\uc624\ub298 \ub530\ub77c \ub9d0\uc37d\uc778 \uce5c\uad6c\uac00 \uc788\ub098\uc694?","\ucee8\ub514\uc158\uc740 \uc5b4\ub5a0\uc138\uc694?","\uad50\uc2e4\uacfc \ud654\uc7a5\uc2e4\uc758 \uac70\ub9ac\ub294 \uc5bc\ub9c8\ub098 \ub418\uc2dc\ub098\uc694?","\uc810\uc2ec\uc2dc\uac04\uc740 \ucda9\ubd84\ud558\uc2e0\uac00\uc694?","\uc544\uce68\uc740 \ub4dc\uc168\ub098\uc694? \ub4dc\uc168\ub2e4\uba74 \uba54\ub274\ub294? / \uba39\uace0\uc2f6\uc5c8\ub358 \uba54\ub274\ub294?","\uc624\ub298 \uae09\uc2dd\ud45c\ub294 \ud655\uc778\ud558\uc168\ub098\uc694?","\uc624\ub298 \uac00\uc7a5 \ud798\ub4e0 \uc218\uc5c5\uc740?","\uc624\ub298 \uac00\uc7a5 \uae30\ub300\ub418\ub294 \uc218\uc5c5\uc740?","\uc624\ub298 \uac00\uc7a5 \ud558\uae30\uc2eb\uc740 \uc218\uc5c5\uc740?","\ud559\uad50\uc5d0\uc11c \uc2ec\uc2ec\ud560 \ub54c\ub294 \ubb34\uc5bc\ud558\uc2dc\ub098\uc694?","\uc624\ub298 \uc800\ub141 \uba54\ub274\ub294 \uc815\ud558\uc168\ub098\uc694?","\uc774\ubc88 \uc26c\ub294\uc2dc\uac04\uc5d0\ub294 \ubb34\uc5bc\ud558\uc168\uc5b4\uc694?","\uc2e0\ubc1c \uc0ac\uc774\uc988\uac00 \uc5b4\ub5bb\uac8c \ub418\uc138\uc694?","\uba87\uad50\uc2dc\uac00 \uac00\uc7a5 \uc88b\uc73c\uc138\uc694?","\uba87\uad50\uc2dc\uac00 \uac00\uc7a5 \uc2eb\uc73c\uc138\uc694?","\uc544\uce68\uc2dc\uac04\uc5d0\ub294 \ubb34\uc5bc\ud558\uc138\uc694?","\ucd9c\uadfc \ud6c4 \ub8e8\ud2f4\uc774 \uc788\uc73c\uc2e0\uac00\uc694?","\ucd9c\uadfc \uae38\uc740 \uad1c\ucc2e\uc73c\uc168\ub098\uc694?","\ucd5c\uadfc \uaf42\ud600\uc788\ub294 \uc74c\uc545\uc740?","\uc26c\ub294\uc2dc\uac04\uc5d0 \uc74c\uc545 \ud2c0\uc5b4\uc8fc\uc2dc\ub098\uc694?","\ud1f4\uadfc\ud558\uace0 \uc2f6\ub2e4\ub294 \uc0dd\uac01\uc774 \uac04\uc808\ud55c \ub54c\ub294?","\uc190\uc774 \ud06c\uc2e0 \ud3b8\uc778\uac00\uc694?","\uc190\uae08 \uc798 \ubcf4\uc2dc\ub098\uc694?","\uc9c0\uac11\uc744 \ub4e4\uace0\ub2e4\ub2c8\uc2dc\ub098\uc694?","\uc790\uc8fc \uc0ac\uc6a9\ud558\ub294 \uce74\ub4dc\ub294?"],E=function(e){var t=(0,s.useState)(!0),n=(0,i.Z)(t,2),r=n[0],l=n[1];(0,s.useEffect)((function(){l(Math.floor(Math.random()*L.length))}),[]);var o=(0,s.useRef)(),c=(0,s.useRef)(),u=function(t){t.preventDefault();var n=o.current.value,i=c.current.value;if(""===n.trim()||""===i.trim())return h().fire({icon:"error",title:"\uc791\uc131 \ubd88\uac00",text:"\uc81c\ubaa9\uacfc \ub0b4\uc6a9\uc744 \ubaa8\ub450 \uc785\ub825\ud574\uc8fc\uc138\uc694!",confirmButtonText:"\ud655\uc778",confirmButtonColor:"#85bd82",showDenyButton:!1,timer:5e3}),!1;e.missionAddHandler(n,i)},d=function(e,t){e.target.value.length>t&&(e.target.value=e.target.value.substr(0,t),h().fire({icon:"error",title:"\uc785\ub825 \ubd88\uac00",text:"\uae00\uc790\uc218\ub97c \ucd08\uacfc\ud588\uc5b4\uc694! \ub0b4\uc6a9\uc744 ".concat(t,"\uc790 \uc774\ub0b4\ub85c \uc904\uc5ec\uc8fc\uc138\uc694."),confirmButtonText:"\ud655\uc778",confirmButtonColor:"#85bd82",timer:5e3}))};return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("form",{className:C["reply-form"],onSubmit:u,children:[(0,b.jsxs)("div",{className:C["missionInput-div"],children:[(0,b.jsxs)("div",{className:C["inputGroup-div"],children:[(0,b.jsx)("span",{children:"\uc81c\ubaa9"}),(0,b.jsx)("input",{ref:o,id:"missionTitle-input",type:"text",placeholder:"",className:C["replyTitle-input"],onInput:function(e){return d(e,20)}})]}),(0,b.jsxs)("div",{className:C["inputGroup-div"],children:[(0,b.jsx)("span",{children:"\ub0b4\uc6a9"}),(0,b.jsx)("input",{ref:c,id:"missionText-input",type:"text",placeholder:L[r],className:C["replyText-input"],onInput:function(e){return d(e,50)}})]})]}),(0,b.jsx)(a.Z,{name:" \uc791\uc131",icon:(0,b.jsx)("i",{className:"fa-solid fa-circle-arrow-right"}),onclick:u,className:"replyAddBtn"})]})})},H=["* \uc624\ub298 \uc791\uc131\ud55c \uae00\ub9cc \ubcf4\uc5ec\uc694.","* \ud558\ub8e8 \ud55c \uac1c\uc758 \uae00\ub9cc \uc62c\ub9b4 \uc218 \uc788\uc5b4\uc694.","* \ub313\uae00, \uc88b\uc544\uc694\ub294 \uc5ec\ub7ec \uac1c\uac00 \uac00\ub2a5\ud574\uc694!","* \uc791\uc131\ud55c \uae00\uc740 \uc218\uc815, \uc0ad\uc81c\uac00 \ubd88\uac00\ub2a5\ud574\uc694!"],A=new Intl.DateTimeFormat("fr-CA",{year:"numeric",month:"2-digit",day:"2-digit"}).format(Date.now()),F=function(e){var t=(0,s.useState)([]),n=(0,i.Z)(t,2),a=n[0],r=n[1],l=(0,s.useState)([]),u=(0,i.Z)(l,2),d=(u[0],u[1]),m=(0,s.useState)(!1),p=(0,i.Z)(m,2),_=p[0],v=p[1],j=(0,s.useState)(""),S=(0,i.Z)(j,2),w=S[0],N=S[1],Z=(0,s.useState)(!1),y=(0,i.Z)(Z,2),k=y[0],M=y[1],I=(0,s.useState)({}),L=(0,i.Z)(I,2),F=L[0],O=L[1],Y=(0,g.s0)();(0,s.useEffect)((function(){!function(){var e=(0,x.JU)(f.wO,"mission",A);(0,x.cf)(e,(function(e){var t,n,i=[];null===e||void 0===e||null===(t=e.data())||void 0===t||null===(n=t.mission_data)||void 0===n||n.forEach((function(e){i.push(e)})),r([].concat(i))}))}()}),[]);var W=function(){var t=(0,c.Z)((0,o.Z)().mark((function t(){var n,i;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,x.JU)(f.wO,"user",e.userUid),t.next=3,(0,x.QT)(n);case 3:i=t.sent,N((0,B.Z)({},i.data()));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();(0,s.useEffect)((function(){W()}),[]);var R=function(){var t=(0,c.Z)((0,o.Z)().mark((function t(n,i){var s,a,r,l,u;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==w&&null!==w&&void 0!==w&&w.hasOwnProperty("nickName")){t.next=3;break}return h().fire({icon:"error",title:"\uc791\uc131 \ubd88\uac00",text:"\ud504\ub85c\ud544\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc544\uc11c \uae00 \uc791\uc131\uc774 \ubd88\uac00\ub2a5\ud569\ub2c8\ub2e4. [\ud655\uc778] \ubc84\ud2bc\uc744 \ub20c\ub7ec \ud504\ub85c\ud544 \ud654\uba74\uc73c\ub85c \uc774\ub3d9\ud574\uc8fc\uc138\uc694. \uc7bc\uc7bc-\uc544\uce68\ud55c\ub9c8\ub514 \ub85c \ub2e4\uc2dc \uc624\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",confirmButtonText:"\ud655\uc778",confirmButtonColor:"#85bd82",showDenyButton:!1}).then((function(e){e.isConfirmed&&Y("/profile")})),t.abrupt("return");case 3:return t.next=5,(0,x.QT)((0,x.JU)(f.wO,"mission",A));case 5:if(r=t.sent,l=function(){var t=(0,c.Z)((0,o.Z)().mark((function t(){var s,a,l;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={title:n,text:i,writtenId:e.userUid,like:[],nickName:w.nickName,reply:[]},a=[s],r.exists()&&(null===r||void 0===r||null===(l=r.data())||void 0===l||l.mission_data.forEach((function(e){return a.push(e)}))),t.next=5,(0,x.pl)((0,x.JU)(f.wO,"mission",A),{mission_data:a});case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=!1,null===r||void 0===r||null===(s=r.data())||void 0===s||null===(a=s.mission_data)||void 0===a||a.forEach((function(t){t.writtenId===e.userUid&&(u=!0)})),!u){t.next=12;break}return h().fire({icon:"error",title:"\uc800\uc7a5\ubd88\uac00",text:"\uc774\ubbf8 \uc624\ub298 \uc544\uce68\ud55c\ub9c8\ub514\ub97c \ub4f1\ub85d\ud558\uc168\ub124\uc694!",showDenyButton:!1,confirmButtonText:"\ud655\uc778",confirmButtonColor:"#db100cf2",timer:5e3}),t.abrupt("return",!1);case 12:h().fire({icon:"question",title:"\uc800\uc7a5\ud560\uae4c\uc694?",text:"\ud55c \ubc88 \uc800\uc7a5\ud558\uba74 \uc624\ub298 \ubbf8\uc158\uc744 \uc218\uc815, \uc0ad\uc81c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4!",showDenyButton:!0,confirmButtonText:"\uc800\uc7a5",confirmButtonColor:"#db100cf2",denyButtonColor:"#85bd82",denyButtonText:"\ucde8\uc18c"}).then((function(e){e.isConfirmed&&(h().fire({icon:"success",title:"\uc800\uc7a5\uc644\ub8cc",text:"\uc544\uce68\ud55c\ub9c8\ub514\uac00 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",confirmButtonText:"\ud655\uc778",confirmButtonColor:"#85bd82",timer:5e3}),l(),localStorage.setItem("isWritten",!0))}));case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return(0,b.jsx)("div",{className:C["flex-center"],children:(0,b.jsxs)("div",{style:{width:"90vw",maxWidth:"800px"},children:[k&&(0,b.jsxs)(T.Z,{onClose:function(){M(!1),O({}),d([])},children:[(0,b.jsx)(D,{userUid:e.userUid,mission:F,itemClickHandler:function(){},onPopup:!0,likeNonClick:!1,dataDate:A}),(0,b.jsx)(U,{userState:w,mission:F,userUid:e.userUid,dataDate:A})]}),(0,b.jsx)("h1",{className:C.h1,children:"\ud83c\udf1e \uc624\ub298\uc758 \uc544\uce68\ud55c\ub9c8\ub514 "}),(0,b.jsxs)("span",{onClick:function(){return v((function(e){return!e}))},children:["* \uc0ac\uc6a9\uc124\uba85\uc11c",(0,b.jsxs)("span",{className:C.h1Span,children:[_?(0,b.jsx)("i",{className:"fa-solid fa-chevron-up"}):(0,b.jsx)("i",{className:"fa-solid fa-chevron-down"})," "]})]}),(0,b.jsx)("div",{className:C["flex-center"],children:(0,b.jsx)("div",{className:_?C.explainDiv:C.explainDivHide,children:null===H||void 0===H?void 0:H.map((function(e,t){return(0,b.jsx)("span",{className:C.explainP,children:e},"explain-".concat(t))}))})}),(0,b.jsx)(E,{missionAddHandler:function(e,t){R(e,t)}}),null===a||void 0===a?void 0:a.map((function(t){return(0,b.jsx)(D,{likeNonClick:!0,mission:t,itemClickHandler:function(e){M(!0),O(e),d(e.reply)},userUid:e.userUid},t.nickName)}))]})})},O="Doit_li__ErTrN",Y="Doit_li-my__0uqiI",W="Doit_li-title__HweB+",R="Doit_list__0AZWw",q="Doit_list-my__FPGJg",Q="Doit_title__rM2+U",z="Doit_m-20-5__It1eZ",J="Doit_input-div__Nsgks",G=function(e){var t=(0,s.useState)(""),n=(0,i.Z)(t,2),r=n[0],l=n[1],o=function(e,t){h().fire({icon:"error",title:e,text:t,confirmButtonText:"\ud655\uc778",confirmButtonColor:"#85bd82",timer:5e3})},c=function(e,t){e.target.value.length>t&&(e.target.value=e.target.value.substr(0,t),o("\uc785\ub825 \ubd88\uac00","\uae00\uc790\uc218\ub97c \ucd08\uacfc\ud588\uc5b4\uc694! \ub0b4\uc6a9\uc744 ".concat(t,"\uc790 \uc774\ub0b4\ub85c \uc904\uc5ec\uc8fc\uc138\uc694.")))};return(0,b.jsxs)("div",{className:J,children:[(0,b.jsx)("h1",{style:{fontSize:"1.8rem"},children:"\uac74\uc758 / \ubd88\ud3b8 \uae00 \ubcf4\ub0b4\uae30"}),(0,b.jsx)("br",{}),(0,b.jsx)("div",{className:Q,children:(0,b.jsx)("h2",{children:"\uae00 \uc81c\ubaa9"})}),(0,b.jsx)("div",{className:z,children:(0,b.jsx)(w.Z,{input:{id:"title-input"},className:"meetSum-Text",type:"text",required:!0,onInput:function(e){return c(e,30)},placeholder:"30\uc790 \ub0b4\ub85c \uc791\uc131\ud574\uc8fc\uc138\uc694."})}),(0,b.jsx)("div",{className:Q,children:(0,b.jsx)("h2",{children:"\uac74\uc758 / \ubd88\ud3b8\uc0ac\ud56d \uc124\uba85"})}),(0,b.jsxs)("div",{className:z,children:[(0,b.jsx)(w.Z,{id:"text-input",myKey:"text-input",className:"meetSum-Text",label:"insteadText",input:{type:"textarea"},onInput:function(e){return c(e,300)},required:!0,placeholder:"\ubd88\ud3b8\ud55c \ubd80\ubd84\uc5d0 \uc218\uc815, \ucd94\uac00\ud558\uace0 \uc2f6\uc740 \uae30\ub2a5\uc744 \uc124\uba85\ud574\uc8fc\uc138\uc694 / \ubb38\uc81c\uac00 \ubc1c\uc0dd\ub41c \ubd80\ubd84\uacfc \uacfc\uc815\uc744 \uc790\uc138\ud788 \uc124\uba85\ud574\uc8fc\uc138\uc694.  ** \ud544\uc694\ud55c \uacbd\uc6b0 \uac00\uc785\ud558\uc2e0 \uc774\uba54\uc77c \uc8fc\uc18c\ub85c \uc5f0\ub77d\ub4dc\ub9bd\ub2c8\ub2e4. ** "}),(0,b.jsxs)("div",{className:Q,children:[(0,b.jsx)(j.Z,{about:e.about,attachedFileHandler:function(e){l(e)}}),(0,b.jsx)(a.Z,{id:"saveMeetSum-btn",className:"saveSimsim-btn",style:{backgroundColor:"#36c260",padding:"17px 12px",height:"auto"},onclick:function(t){t.preventDefault();var n=document.getElementById("title-input").value.trim(),i=document.getElementById("text-input").value.trim();if(0!==n.length&&0!==i.length){var s={id:m()().format("YYYY-MM-DD HH:mm"),title:n,text:i,file:r};e.addDoitHandler(s)}else o("\uc785\ub825 \ud56d\ubaa9 \ud655\uc778","\uc81c\ubaa9\uacfc \ub0b4\uc6a9\uc744 \ubaa8\ub450 \uc785\ub825\ud588\ub294\uc9c0 \ud655\uc778\ud574\uc8fc\uc138\uc694")},icon:(0,b.jsx)(b.Fragment,{children:"\uc800\uc7a5"})})]})]})]})},P=function(e){var t,n;return(0,b.jsxs)("div",{className:R,children:[(0,b.jsx)("h1",{style:{fontSize:"1.8rem"},children:"\ud574\uacb0 \uc911\uc778 \uc694\uccad\ub4e4 \ud83d\udee0\ufe0f"}),(0,b.jsx)("h4",{children:"* \ucd5c\uadfc \ub450 \ub2ec \uc694\uccad\ud55c \ubd88\ud3b8, \uac74\uc758 \uc0ac\ud56d\ub4e4 \uc785\ub2c8\ub2e4."}),(0,b.jsxs)("li",{className:W,style:{margin:"-25px 0"},children:[(0,b.jsx)("h3",{children:" (\ub2c9\ub124\uc784) \uc81c\ubaa9 - \ub0b4\uc6a9 "}),(0,b.jsx)("h3",{children:" \uc0c1\ud0dc "})]}),(0,b.jsx)("hr",{style:{margin:"15px"}}),null===(t=e.lists)||void 0===t?void 0:t.map((function(e){return(0,b.jsxs)("li",{className:O,children:[(0,b.jsxs)("span",{children:["(",e.nickName,") ",e.title,(0,b.jsx)("br",{}),(0,b.jsxs)("span",{children:["- ",e.text]})]}),(0,b.jsx)("span",{children:"0"===e.result?"\ub300\uae30\uc911":"1"===e.result?"\ud655\uc778\uc911":"2"===e.result?"\uac1c\ubc1c\uc911":"3"===e.result?"\ud574\uacb0":"\uba54\uc77c\uc804\uc1a1"})]},e.id+e.title)})),0===(null===(n=e.lists)||void 0===n?void 0:n.length)&&"* \ucd5c\uadfc 2\ub2ec \ub0b4\uc5d0 \uac74\uc758/\ubd88\ud3b8\uc0ac\ud56d \uc790\ub8cc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."]})},K=function(e){var t,n;return(0,b.jsx)("div",{children:(0,b.jsxs)("div",{className:q,children:[(0,b.jsx)("h1",{style:{fontSize:"1.8rem"},children:"\ub0b4\uac00 \uc791\uc131\ud55c \uac74\uc758/\ubd88\ud3b8\uc0ac\ud56d"}),(0,b.jsxs)("li",{className:Y,children:[(0,b.jsx)("h3",{children:" \uc791\uc131\ub0a0\uc9dc "}),(0,b.jsx)("h3",{children:" \uc81c\ubaa9 : \ub0b4\uc6a9 "}),(0,b.jsx)("h3",{children:" \uc0c1\ud0dc "}),null===(t=e.lists)||void 0===t?void 0:t.map((function(e){return(0,b.jsxs)("li",{className:O,children:[(0,b.jsxs)("span",{children:[e.id.slice(2,10)," "]}),(0,b.jsxs)("span",{children:[e.title," : ",e.text]}),(0,b.jsx)("span",{children:"0"===e.result?"\ub300\uae30\uc911":"1"===e.result?"\ud655\uc778\uc911":"2"===e.result?"\uac1c\ubc1c\uc911":"3"===e.result?"\ud574\uacb0":"\uba54\uc77c\uc804\uc1a1"})]},e.id)})),0===(null===(n=e.lists)||void 0===n?void 0:n.length)&&(0,b.jsx)("span",{style:{gridColumn:"1/4"},children:"* \uc790\ub8cc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})]})]})})},V=n(43),X=function(e){var t=(0,s.useState)([]),n=(0,i.Z)(t,2),a=n[0],r=n[1],u=(0,s.useState)([]),d=(0,i.Z)(u,2),v=(d[0],d[1],function(){var e=(0,c.Z)((0,o.Z)().mark((function e(){var t,n,i,s,a,c,u,d,p,_;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m()().format("YY-MM"),n=m()().subtract(1,"month").format("YY-MM"),i=(0,x.JU)(f.wO,"doit",t),s=(0,x.JU)(f.wO,"doit",n),e.next=6,(0,x.QT)(i);case 6:return a=e.sent,e.next=9,(0,x.QT)(s);case 9:c=e.sent,u=[],a.exists()&&a.data().doit_data&&(u=(0,l.Z)(null===a||void 0===a||null===(d=a.data())||void 0===d?void 0:d.doit_data)),c.exists()&&c.data().doit_data&&(null===c||void 0===c||null===(p=c.data())||void 0===p||null===(_=p.doit_data)||void 0===_||_.forEach((function(e){var t;null===(t=u)||void 0===t||t.push(e)}))),r(u);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());(0,s.useEffect)((function(){v()}),[]);var g=function(){var t=(0,c.Z)((0,o.Z)().mark((function t(n){var i,s,a,r,l,c,u,d,v,g,j,S,w;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=m()().format("YY-MM-DD"),s=localStorage.getItem("doitWrite"),a=!1,null!==s?i===s.split("***")[0]&&(+s.split("***")[1]>4?a=!0:(r=+s.split("***")[1]+1,localStorage.setItem("doitWrite",i+"***"+r))):localStorage.setItem("doitWrite",i+"***1"),!a){t.next=7;break}return h().fire({icon:"error",title:"\uc800\uc7a5\ubd88\uac00",text:"\ud558\ub8e8\uc5d0 5\uac1c \uae4c\uc9c0\ub9cc \uac74\uc758/\ubd88\ud3b8 \uc811\uc218\uac00 \uac00\ub2a5\ud569\ub2c8\ub2e4! \uae09\ud558\uc2e0 \ub0b4\uc6a9\uc774 \uc788\ub2e4\uba74 kerbong@gmail.com\uc73c\ub85c \uc54c\ub824\uc8fc\uc138\uc694!",confirmButtonText:"\ud655\uc778",confirmButtonColor:"#85bd82",timer:5e3}),t.abrupt("return");case 7:if(h().fire({icon:"success",title:"\uc800\uc7a5 \uc131\uacf5",text:"\ub354 \ub098\uc740 \uc11c\ube44\uc2a4\ub97c \uc704\ud55c \uc758\uacac / \ub3c4\uc6c0\uc8fc\uc154\uc11c \uac10\uc0ac\ud569\ub2c8\ub2e4. \uc0c8\ub85c\uace0\uce68, \ud639\uc740 \ub2e4\ub978 \ud0ed\uc5d0\uc11c \ub2e4\uc2dc \ub4e4\uc5b4\uc624\uc2dc\uba74 \ub0b4\uc6a9\uc744 \ud655\uc778\ud558\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\ud83e\udd70",confirmButtonText:"\ud655\uc778",confirmButtonColor:"#85bd82",showDenyButton:!1,timer:5e3}),!((l=n.file).length>0)){t.next=16;break}return t.next=12,(0,p.sf)((0,p.iH)(f.Hw,"".concat(e.userUid,"/").concat((0,_.Z)())),l,"data_url");case 12:return c=t.sent,t.next=15,(0,p.Jt)(c.ref);case 15:l=t.sent;case 16:return u=(0,B.Z)((0,B.Z)({},n),{},{file:l,user:e.userUid,nickName:e.nickName,result:"0"}),d=(0,x.JU)(f.wO,"doit",m()().format("YY-MM")),v=[u],t.next=21,(0,x.QT)(d);case 21:return(g=t.sent).exists()&&(null===g||void 0===g||null===(j=g.data())||void 0===j||null===(S=j.doit_data)||void 0===S||S.forEach((function(e){return v.push(e)}))),t.next=25,(0,x.pl)(d,{doit_data:v});case 25:return w={from_name:e.nickName+")"+e.email,to_name:"\ub9d0\ub791\ud55c \uac70\ubd09 \uc6b4\uc601\uc790\ub2d8",message:n.text,title:n.title},t.next=28,(0,V.lW)("service_hehqkls","template_su19avq",w,"zmiKsAoIgU2wmfq7h");case 28:document.getElementById("title-input").value="",document.getElementById("text-input").value="";case 30:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,b.jsxs)("div",{children:[(0,b.jsx)(P,{lists:a}),(0,b.jsx)("br",{}),(0,b.jsx)(K,{lists:null===a||void 0===a?void 0:a.filter((function(t){return t.user===e.userUid}))}),(0,b.jsx)("br",{}),(0,b.jsx)("hr",{}),(0,b.jsx)("br",{}),(0,b.jsx)(G,{addDoitHandler:g})]})},$=n(7696),ee=n(5038),te=n(1028),ne=n.n(te),ie=n(3326),se=n.n(ie),ae=n(8925),re=n.n(ae),le=n(1095),oe=n(5772),ce=function(e){var t=(0,s.useState)(e.selectedGrade||""),n=(0,i.Z)(t,2),a=n[0],r=n[1],l=(0,s.useState)(e.className||""),o=(0,i.Z)(l,2),c=o[0],u=o[1];return(0,b.jsx)(b.Fragment,{children:e.show?(0,b.jsxs)("div",{className:oe.Z.card,children:[(0,b.jsxs)("div",{className:oe.Z["flex-row-center"],children:[(0,b.jsxs)("div",{style:{marginRight:"30px"},children:[(0,b.jsx)("label",{htmlFor:"grade",className:oe.Z.fs14,children:"\ud559\ub144"}),(0,b.jsxs)("select",{id:"grade",value:a,onChange:function(e){var t=e.target.value;null!==t&&void 0!==t&&t.includes("*")?h().fire("\uc785\ub825 \ubd88\uac00","\ud559\uae09\uba85\uc5d0 *\ub97c \ub123\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","warning"):(r(t),u(""))},className:oe.Z["grade-select"],children:[(0,b.jsx)("option",{value:"",children:"-- \uc120\ud0dd --"}),(0,b.jsx)("option",{value:"1\ud559\ub144",children:"1\ud559\ub144"}),(0,b.jsx)("option",{value:"2\ud559\ub144",children:"2\ud559\ub144"}),(0,b.jsx)("option",{value:"3\ud559\ub144",children:"3\ud559\ub144"}),(0,b.jsx)("option",{value:"4\ud559\ub144",children:"4\ud559\ub144"}),(0,b.jsx)("option",{value:"5\ud559\ub144",children:"5\ud559\ub144"}),(0,b.jsx)("option",{value:"6\ud559\ub144",children:"6\ud559\ub144"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"className",className:oe.Z.fs14,children:"\ud559\uae09\uba85"}),(0,b.jsx)("input",{type:"text",id:"className",value:c,onChange:function(e){var t=e.target.value;null!==t&&void 0!==t&&t.includes("*")?h().fire("\uc785\ub825 \ubd88\uac00","\ud559\uae09\uba85\uc5d0 *\ub97c \ub123\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","warning"):u(t)},className:oe.Z.input,style:{margin:"0 10px 0  20px"}}),(0,b.jsx)("span",{className:oe.Z.fs12,children:"\ubc18"})]})]}),a&&0!==(null===c||void 0===c?void 0:c.length)&&(0,b.jsx)("button",{onClick:function(){e.confirmClassHandler(a+c+"\ubc18")},className:oe.Z.btn,style:{width:"300px"},children:"\ud655\uc778"})]}):(0,b.jsxs)("div",{className:oe.Z.card,children:[(0,b.jsx)("div",{children:(0,b.jsxs)("span",{children:[(0,b.jsxs)("span",{className:oe.Z.fs14,children:[" ",a]}),(0,b.jsxs)("span",{className:"".concat(oe.Z["m-l20"]," ").concat(oe.Z.fs14),children:[c,"\ubc18"]})]})}),(0,b.jsx)("button",{onClick:function(){r(""),u(""),e.confirmClassHandler("")},className:oe.Z.btn,style:{width:"300px"},children:"\ud559\ub144\ubc18 \ubcc0\uacbd"})]})})},ue=n(7639),de=["atAdd","atReport","absence"],me=function(e){var t=(0,s.useState)(null),n=(0,i.Z)(t,2),a=n[0],r=n[1],l=(0,s.useState)(null),u=(0,i.Z)(l,2),d=u[0],_=u[1],v=(0,s.useState)(null),g=(0,i.Z)(v,2),j=g[0],S=g[1],w=(0,s.useState)([]),N=(0,i.Z)(w,2),Z=N[0],y=N[1],k=(0,s.useState)([]),M=(0,i.Z)(k,2),B=M[0],C=M[1],D=(0,s.useState)([]),I=(0,i.Z)(D,2),U=I[0],L=I[1],E=(0,s.useState)([]),H=(0,i.Z)(E,2),A=H[0],F=H[1],O=(0,s.useState)([]),Y=(0,i.Z)(O,2),W=Y[0],R=Y[1],q=(0,s.useState)(""),Q=(0,i.Z)(q,2),z=Q[0],J=Q[1],G=(0,s.useState)(""),P=(0,i.Z)(G,2),K=P[0],X=P[1],$=(0,s.useState)(!0),ee=(0,i.Z)($,2),te=ee[0],ie=ee[1],ae=function(){var t=(0,c.Z)((0,o.Z)().mark((function t(){var n,i,s,a,r,l;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=(0,x.JU)(f.wO,"attendCheck","00formUploaded"),t.next=3,(0,x.QT)(s);case 3:a=t.sent,r=null===a||void 0===a||null===(n=a.data())||void 0===n||null===(i=n.lists)||void 0===i?void 0:i[e.school],X(r),"done"===r?(l=(0,p.iH)(f.Hw,"".concat(e.school,"/attendCheck/")),(0,p.aF)(l).then((function(e){var t=[];e.prefixes.forEach((function(e){t.push(e.name)})),R(t)}))):"uploaded"===r?console.log("\uac1c\ubc1c\uc790 \uc2b9\uc778 \uc694\uccad\uc911..."):console.log("\uc0c8\ub85c\uc6b4 \ud559\uad50");case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();(0,s.useEffect)((function(){e.lastStep&&ae()}),[e.lastStep]);(0,s.useEffect)((function(){0!==(null===B||void 0===B?void 0:B.length)&&console.log(B)}),[B]),(0,s.useEffect)((function(){0!==(null===U||void 0===U?void 0:U.length)&&console.log(U)}),[U]),(0,s.useEffect)((function(){0!==(null===A||void 0===A?void 0:A.length)&&console.log(A)}),[A]);var le=function(){var t=(0,c.Z)((0,o.Z)().mark((function t(n,i){var s;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=m()().format("YYYY-MM-DD HH:MM"),t.next=3,(0,p.KV)((0,p.iH)(f.Hw,"".concat(e.school,"/attendCheck/").concat(s,"/").concat(i,".hwpx")),n).then((function(){var e=null===Z||void 0===Z?void 0:Z.filter((function(e){return e!==i}));e.push(i),y(e)})).catch((function(e){h().fire("\uc5c5\ub85c\ub4dc \uc2e4\ud328","\ud30c\uc77c \uc5c5\ub85c\ub4dc\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4. \uc0c8\ub85c\uace0\uce68 \ud6c4 \uc9c4\ud589\ud574\ubcf4\uc138\uc694. \ubb38\uc81c\uac00 \uc9c0\uc18d\ub418\uc2dc\uba74 kerbong@gmail.com\uc73c\ub85c \uc54c\ub824\uc8fc\uc138\uc694.","error")}));case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),ce=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(t,n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""!==K&&h().fire({title:"\uc5c5\ub85c\ub4dc \ud560\uae4c\uc694?",text:"\uc774\ubbf8 \ud574\ub2f9 \ud559\uad50\uc5d0 \uc591\uc2dd\uc744 \uc5c5\ub85c\ub4dc\ud558\uace0 \uc2e0\uccad\ud55c \uae30\ub85d\uc774 \uc788\uc5b4\uc694! \uc591\uc2dd \ubcc0\uacbd\uc5d0\ub294 2~3\uc77c\uc774 \uc18c\uc694\ub429\ub2c8\ub2e4. \uacc4\uc18d \uc5c5\ub85c\ub4dc \ud560\uae4c\uc694?",showDenyButton:!0,confirmButtonText:"\uacc4\uc18d",confirmButtonColor:"#db100cf2",denyButtonColor:"#85bd82",denyButtonText:"\ucde8\uc18c"}).then((function(e){if(e.isConfirmed){var i=t.target.files[0];if(void 0!==i){var s=new FileReader;s.onloadend=function(e){var t=new Uint8Array(e.currentTarget.result);le(t,n)},s.readAsArrayBuffer(i)}}}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function ue(e){return Array.from(new Set(e))}var me=function(){var t=(0,c.Z)((0,o.Z)().mark((function t(n,i){var s,a,l,c,u,d,m;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s=(0,p.iH)(f.Hw,"".concat(e.school,"/attendCheck/").concat(n,"/").concat(i,".docx")),t.next=4,(0,p.Jt)(s);case 4:if(a=t.sent){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,fetch(a);case 9:return l=t.sent,t.next=12,l.arrayBuffer();case 12:c=t.sent,u=new Blob([c]),d=new File([u],"attendForm.docx",{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),i===de[0]?r(d):i===de[1]?_(d):i===de[2]&&S(d),(m=new FileReader(d)).onerror=function(e){console.error("\ud30c\uc77c \uc77d\uae30 \uc624\ub958:",e.target.error)},m.onloadend=function(e){var t=e.target.result;console.log(t);var n=new(se())(t),s=[],a={parser:function(e){s.push(e)}};new(ne())(n,a),i===de[0]?C(ue(s)):i===de[1]?L(ue(s)):i===de[2]&&F(ue(s))},m.readAsArrayBuffer(d),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(0),console.log(t.t0);case 25:case"end":return t.stop()}}),t,null,[[0,22]])})));return function(e,n){return t.apply(this,arguments)}}(),fe=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(t,n){var i,s,r,l;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n===de[0]?a:n===de[1]?d:j,s=new FileReader(i),r=new Promise((function(e,t){s.onerror=function(e){console.error("\ud30c\uc77c \uc77d\uae30 \uc624\ub958:",e.target.error),t(e.target.error)},s.onloadend=function(t){var n=t.target.result;console.log(n);var i=new(se())(n),s=new(ne())(i).getZip().generate({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});console.log(s),e(s)},s.readAsArrayBuffer(i)})),e.prev=3,e.next=6,r;case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n){return e.apply(this,arguments)}}(),pe=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(t,n,i){var s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=n===de[0]?"\ud604\uc7a5\uccb4\ud5d8\ud559\uc2b5 \uc2e0\uccad\uc11c(".concat(i,").docx"):n===de[1]?"\ud604\uc7a5\uccb4\ud5d8\ud559\uc2b5 \ubcf4\uace0\uc11c(".concat(i,").docx"):"\uacb0\uc11d\uacc4(".concat(i,").docx"),me(i,de[0]).then((0,c.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe(t,n).then((function(e){re()(e,s)}));case 2:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}(),_e=function(){var t=(0,c.Z)((0,o.Z)().mark((function t(){var n,i,s,a;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((null===Z||void 0===Z?void 0:Z.length)<2)){t.next=4;break}h().fire("\uc2e0\uccad \uc2e4\ud328","\ud604\uc7a5\uccb4\ud5d8\ud559\uc2b5 \uc2e0\uccad\uc11c\ubcf4\uace0\uc11c / \uacb0\uc11d\uacc4 \ud30c\uc77c \ubaa8\ub450 \uc5c5\ub85c\ub4dc \ub418\uc5b4\uc57c \ud569\ub2c8\ub2e4! \uc624\ub958\uac00 \uc9c0\uc18d\ub420 \uacbd\uc6b0 kerbong@gmail.com\uc73c\ub85c \ud30c\uc77c\uc744 \uc9c1\uc811 \ubcf4\ub0b4\uc8fc\uc138\uc694!","warning"),t.next=27;break;case 4:if(localStorage.getItem("formUpload")!==m()().format("YYYY-MM-DD")){t.next=8;break}return h().fire("\uc2e0\uccad \uc2e4\ud328","\uc591\uc2dd \ud30c\uc77c \ubcc0\uacbd\uc774 \uc774\ubbf8 \uc2e0\uccad\ub418\uc5c8\uc2b5\ub2c8\ub2e4! \ubb38\uc81c\uac00 \uc9c0\uc18d\ub420 \uacbd\uc6b0 kerbong@gmail.com\uc73c\ub85c \ud30c\uc77c\uc744 \uc9c1\uc811 \ubcf4\ub0b4\uc8fc\uc138\uc694!","warning"),t.abrupt("return");case 8:return n=(0,x.JU)(f.wO,"attendCheck","00formUploaded"),t.next=11,(0,x.QT)(n);case 11:return i=t.sent,(s=i.data().lists)[e.school]="uploaded",t.next=16,(0,x.pl)(n,{lists:s});case 16:return t.prev=16,a={from_name:e.userUid+")"+e.email,to_name:"\ub9d0\ub791\ud55c \uac70\ubd09 \uc6b4\uc601\uc790\ub2d8",message:"\ud604\uc7a5\uccb4\ud5d8\ud559\uc2b5 \uc591\uc2dd \uc5c5\ub85c\ub4dc",title:e.school},t.next=20,(0,V.lW)("service_hehqkls","template_su19avq",a,"zmiKsAoIgU2wmfq7h");case 20:h().fire("\uc2e0\uccad \uc131\uacf5!","\uc5c5\ub85c\ub4dc\ub41c \uc591\uc2dd\uc744 \ub370\uc774\ud130 \ucc98\ub9ac\uc5d0 \uc54c\ub9de\uac8c \uc218\uc815\ud558\ub294 \ub370\uc5d0 2~3\uc77c\uc774 \uc18c\uc694\ub429\ub2c8\ub2e4. \uc9c4\ud589 \uc0c1\ud669\uc744 \uac00\uc785\ud558\uc2e0 email\ub85c \uc54c\ub824\ub4dc\ub9b4\uac8c\uc694!","success"),localStorage.setItem("formUpload",m()().format("YYYY-MM-DD")),t.next=27;break;case 24:t.prev=24,t.t0=t.catch(16),h().fire("\uc2e0\uccad \uc2e4\ud328","\ubb38\uc11c \uc218\uc815 \ubc0f \uc5c5\ub85c\ub4dc\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4. \uc624\ub958\uac00 \uc9c0\uc18d\ub420 \uacbd\uc6b0 kerbong@gmail.com\uc73c\ub85c \ud30c\uc77c\uc744 \uc9c1\uc811 \ubcf4\ub0b4\uc8fc\uc138\uc694!","warning");case 27:case"end":return t.stop()}}),t,null,[[16,24]])})));return function(){return t.apply(this,arguments)}}();return(0,b.jsxs)(b.Fragment,{children:[0!==(null===W||void 0===W?void 0:W.length)&&te&&(0,b.jsx)(T.Z,{onClose:function(){return ie(!1)},children:(0,b.jsxs)("div",{className:"".concat(oe.Z["flex-column"]),children:[(0,b.jsx)("h2",{className:oe.Z.m20,style:{textAlign:"center",fontSize:"1.7rem"},children:"\uc800\uc7a5\ub41c \ud559\uad50 \uc790\ub8cc \ubaa9\ub85d"}),(0,b.jsx)("h3",{style:{fontWeight:"300"},children:"* \ud559\uad50\uc758 \ub2e4\ub978 \uc120\uc0dd\ub2d8\uc774 \uc5c5\ub85c\ub4dc\ud558\uc2e0 \ub0a0\uc9dc \ubaa9\ub85d\uc785\ub2c8\ub2e4."}),(0,b.jsx)("h3",{style:{fontWeight:"300"},children:"* \ud074\ub9ad\ud558\uc2dc\uba74 \ud574\ub2f9\ub0a0\uc9dc\uc758 \uc591\uc2dd\uc774 \ub2e4\uc6b4, \uc124\uc815\ub429\ub2c8\ub2e4."}),(0,b.jsx)("div",{children:0!==(null===W||void 0===W?void 0:W.length)?null===W||void 0===W?void 0:W.map((function(e,t){return(0,b.jsx)("button",{className:oe.Z.btn,style:{margin:"20px 8px",backgroundColor:z===e?"#073832":"#006b5f"},onClick:function(){return J(t=e),me(t,de[0]),me(t,de[1]),void me(t,de[2]);var t},children:e},t)})):"\uc800\uc7a5\ub41c \ud559\uad50 \uc790\ub8cc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})]})}),(0,b.jsx)("h2",{className:oe.Z.h2,children:"\ud30c\uc77c \uc591\uc2dd \uc124\uc815\ud558\uae30(3/3)"}),(0,b.jsxs)("div",{className:oe.Z["flex-wrap"],children:[(0,b.jsx)("button",{onClick:function(){return e.beforeLastStep()},className:oe.Z.btn,style:{width:"300px",margin:"0 0 20px 0"},children:"\uc774\uc804\ub2e8\uacc4"}),(0,b.jsx)("button",{onClick:function(){return ie(!0)},className:oe.Z.btn,style:{width:"300px",margin:"0 0 20px 0"},children:"\uc800\uc7a5\ub41c \ud559\uad50 \uc790\ub8cc"}),(0,b.jsx)("button",{onClick:function(){return _e()},className:oe.Z.btn,style:{width:"300px",margin:"0 0 20px 0"},children:"\uc591\uc2dd \ubcc0\uacbd \uc2e0\uccad"})]}),""!==z&&(0,b.jsxs)("div",{children:["* \ud604\uc7ac ",z," \uc591\uc2dd\uc744 \uc0ac\uc6a9\uc911 \uc785\ub2c8\ub2e4."]}),(0,b.jsx)("div",{className:oe.Z["flex-wrap"],children:null===de||void 0===de?void 0:de.map((function(e){if(0===(null===W||void 0===W?void 0:W.length)&&"atReport"===e)return null;var t="atAdd"===e?a:"atReport"===e?d:j,n="atAdd"===e?"\ud604\uc7a5\uccb4\ud5d8\ud559\uc2b5 \uc2e0\uccad\uc11c":"atReport"===e?"\ud604\uc7a5\uccb4\ud5d8\ud559\uc2b5 \ubcf4\uace0\uc11c":"\uacb0\uc11d\uacc4";return 0===(null===W||void 0===W?void 0:W.length)&&"atAdd"===e&&(n="\ud604\uc7a5\uccb4\ud5d8\ud559\uc2b5 \uc2e0\uccad\uc11c \ubcf4\uace0\uc11c"),(0,b.jsxs)("div",{className:oe.Z.card,children:[(0,b.jsx)("span",{style:{margin:"10px 0 20px 0"},children:n}),(0,b.jsxs)("div",{style:{margin:"10px"},children:[t&&(0,b.jsxs)("button",{onClick:function(){return pe({},e,z)},className:oe.Z.fileUpLabel,title:"\ud604\uc7ac \ud30c\uc77c \ub2e4\uc6b4",children:["\ub2e4\uc6b4\ub85c\ub4dc ",(0,b.jsx)("i",{className:"fa-solid fa-download"})]}),(0,b.jsxs)("label",{className:oe.Z.fileUpLabel,title:"\uc0c8 \ud30c\uc77c \uc5c5\ub85c\ub4dc",children:["\uc5c5\ub85c\ub4dc ",(0,b.jsx)("i",{className:"fa-solid fa-upload"}),(0,b.jsx)("input",{type:"file",style:{display:"none"},accept:"application/vnd.hancom.hwp,\r application/haansofthwp,\r application/x-hwp,\r application/vnd.hancom.hwpx,\r application/haansofthwpx,",onChange:function(t){return ce(t,e)}})]})]})]},e)}))})]})},fe=function(e){var t,n,a,r,l=(0,s.useState)(!1),u=(0,i.Z)(l,2),d=u[0],f=u[1],p=(0,s.useState)(!1),_=(0,i.Z)(p,2),x=_[0],v=_[1],j=(0,s.useState)(!1),S=(0,i.Z)(j,2),w=S[0],N=S[1],Z=(0,s.useState)(""),y=(0,i.Z)(Z,2),k=y[0],M=y[1],B=(0,s.useState)(""),C=(0,i.Z)(B,2),D=C[0],T=C[1],I=(0,s.useState)(""),U=(0,i.Z)(I,2),L=U[0],E=U[1],H=(0,s.useState)([]),A=(0,i.Z)(H,2),F=A[0],O=A[1],Y=(0,s.useState)([]),W=(0,i.Z)(Y,2),R=W[0],q=W[1],Q=(0,s.useState)(20),z=(0,i.Z)(Q,2),J=z[0],G=z[1],P=(0,g.s0)();(0,s.useEffect)((function(){e.dataExisted&&(f(!0),v(!0))}),[e.dataExisted]),(0,s.useEffect)((function(){var t,n,i,s=+m()().format("MM")<=1?String(+m()().format("YYYY")-1):m()().format("YYYY"),a=null===e||void 0===e||null===(t=e.students)||void 0===t||null===(n=t.filter((function(e){return String(Object.keys(e)[0])===s})))||void 0===n||null===(i=n[0])||void 0===i?void 0:i[s];e.isSubject?h().fire("\uc0ac\uc6a9\ubd88\uac00","\uad50\uc678\ud604\uc7a5\uccb4\ud5d8\ud559\uc2b5 \uc5f0\ub3d9 \uae30\ub2a5\uc740 \ub2f4\uc784\uad50\uc0ac\ub9cc \uc0ac\uc6a9\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4.","info"):q(a)}),[e.isSubject]);var K=function(e){(e.preventDefault(),""!==L)&&(f(!1),function(e){var t=function(){var t=(0,c.Z)((0,o.Z)().mark((function t(){var n,i;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://open.neis.go.kr/hub/schoolInfo?Type=json&pIndex=1&pSize=1000&SCHUL_KND_SC_NM=\ucd08\ub4f1\ud559\uad50&KEY=9be75b74ef234e9cbd3974882caea449"+e);case 2:return n=t.sent,i=n.json(),t.abrupt("return",i);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t().then((function(e){var t,n;null!==e&&void 0!==e&&e.schoolInfo?O(null===e||void 0===e||null===(t=e.schoolInfo)||void 0===t||null===(n=t[1])||void 0===n?void 0:n.row):(h().fire("\uac80\uc0c9\uc624\ub958","\ud559\uad50\uba85\uc744 \ud655\uc778\ud574\uc8fc\uc138\uc694","info"),O([]))}))}("&SCHUL_NM="+L+"\ucd08\ub4f1\ud559\uad50"))};return(0,b.jsxs)("div",{children:[" ",x?!w&&(0,b.jsxs)(b.Fragment,{children:[!e.dataExisted&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h2",{className:oe.Z.h2,children:"\ud559\uad50 \uc815\ubcf4 \uc124\uc815\ud558\uae30(2/3)"}),(0,b.jsx)("button",{className:"".concat(oe.Z.btn," ").concat(oe.Z["m-l20"]),onClick:function(){return v(!1)},style:{width:"300px"},children:"\uc774\uc804 (\ud559\uc0dd\uba85\ubd80 \uc218\uc815)"})]}),(0,b.jsxs)("div",{className:oe.Z["flex-wrap"],children:[d?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:e.dataExisted?"":oe.Z.card,children:[(0,b.jsxs)("span",{className:oe.Z.fs14,children:[" ",k]}),(0,b.jsx)("button",{onClick:function(){f(!1),T(""),e.dataExisted&&e.dataEditHandler()},className:oe.Z.btn,style:{width:"300px"},children:e.dataExisted?"\uc124\uc815 \ubcc0\uacbd":"\ud559\uad50 \ubcc0\uacbd"})]}),"kerbong@gmail.com"===e.email&&(0,b.jsx)("button",{onClick:function(){return P("/admin")},children:"\uac1c\ubc1c\uc790 \ud654\uba74 \uc774\ub3d9"})]}):(0,b.jsxs)("form",{onSubmit:function(e){return K(e)},className:oe.Z.m20,children:[(0,b.jsx)("input",{type:"text",placeholder:"\ud559\uad50\uc774\ub984",onChange:function(e){return E(e.target.value)},value:L,className:oe.Z.input})," ",(0,b.jsx)("span",{children:"\ucd08\ub4f1\ud559\uad50"}),(0,b.jsx)("button",{className:"".concat(oe.Z.btn," ").concat(oe.Z["m-l20"]),onClick:K,children:"\ucc3e\uae30"})]}),!d&&(0===(null===F||void 0===F?void 0:F.length)?(0,b.jsx)("span",{children:"\ud559\uad50 \uc774\ub984\uc744 \ud655\uc778\ud574\uc8fc\uc138\uc694!"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:oe.Z["flex-column"],style:{alignItems:"flex-start"},children:null===F||void 0===F?void 0:F.map((function(e,t){var n,i,s,a;return(0,b.jsxs)("label",{className:oe.Z["school-list"],children:[(0,b.jsx)("input",{type:"radio",name:"school",value:"".concat(null===(n=e.JU_ORG_NM)||void 0===n||null===(i=n.split("\uad50\uc721\uc9c0\uc6d0\uccad"))||void 0===i?void 0:i[0],"*").concat(e.SCHUL_NM),checked:1===(null===F||void 0===F?void 0:F.length)||k==="".concat(null===(s=e.JU_ORG_NM)||void 0===s||null===(a=s.split("\uad50\uc721\uc9c0\uc6d0\uccad"))||void 0===a?void 0:a[0],"*").concat(e.SCHUL_NM),onChange:function(e){M(e.target.value)}}),"\uc8fc\uc18c : ",e.ORG_RDNMA]},t)}))}),(0,b.jsx)("button",{onClick:function(){return f(!0)},className:oe.Z.btn,style:{width:"300px"},children:"\ud655\uc778"})]})),""!==k&&d&&(0,b.jsx)(ce,{confirmClassHandler:function(e){return T(e)},selectedGrade:(null===D||void 0===D||null===(t=D.split("\ud559\ub144"))||void 0===t?void 0:t[0])+"\ud559\ub144",className:null===D||void 0===D||null===(n=D.split("\ud559\ub144"))||void 0===n||null===(a=n[1])||void 0===a||null===(r=a.split("\ubc18"))||void 0===r?void 0:r[0],show:""===D}),""!==D&&(0,b.jsxs)("div",{className:oe.Z.card,children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:oe.Z.fs14,children:" \uccb4\ud5d8\ud559\uc2b5 \uc5f0\uac04\uc778\uc815 "}),(0,b.jsx)("input",{type:"text",placeholder:"\uc5f0\uac04\uccb4\ud5d8\ud559\uc2b5\uc77c",onChange:function(e){var t,n=null===(t=e.target.value)||void 0===t?void 0:t.replace(/[^0-9]/g,"");G(n)},value:J,className:oe.Z.input,style:{width:"50px",height:"25px"}}),(0,b.jsx)("span",{className:oe.Z.fs14,children:" \uc77c"})]}),(0,b.jsx)("button",{onClick:function(){0===(null===k||void 0===k?void 0:k.length)||0===(null===D||void 0===D?void 0:D.length)||+J<1||(N(!0),e.doneHandler(k+"*"+D,R,J))},className:oe.Z.btn,style:{width:"300px"},children:"\uae30\ucd08\uc790\ub8cc \uc800\uc7a5"})]})]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h2",{className:oe.Z.h2,children:"\ud559\uc0dd \uba85\ubd80 \uc124\uc815\ud558\uae30(1/3)"}),(0,b.jsx)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center"},children:null===R||void 0===R?void 0:R.map((function(e){return(0,b.jsx)(ue.Z,{myKey:e.num+e.name,student:e,noEdit:!0},e.num+e.name)}))}),(0,b.jsxs)("div",{className:oe.Z["flex-row"],children:[(0,b.jsxs)("button",{className:oe.Z.btn,onClick:function(){return P("/student-manage")},children:[" ","\ud559\uc0dd\uba85\ubd80 \uc218\uc815\ud558\ub7ec \uac00\uae30"," "]}),(0,b.jsx)("button",{className:oe.Z.btn,onClick:function(){var e=0,t=0;null===R||void 0===R||R.forEach((function(n){n.woman?t+=1:e+=1})),h().fire({title:"\ud559\uc0dd\uba85\ubd80 \ud655\uc815",html:"\ud559\uc0dd\uba85\ubd80\ub97c \ud655\uc815\ud558\uc2dc\uaca0\uc5b4\uc694?<br/> \ub0a8\uc790 ".concat(e,"\uba85, \uc5ec\uc790 ").concat(t,"\uba85, \ucd1d ").concat(null===R||void 0===R?void 0:R.length,"\uba85"),icon:"question",showDenyButton:"true",denyButtonText:"\ucde8\uc18c",confirmButtonText:"\ud655\uc778",confirmButtonColor:"#006B5F"}).then((function(e){e.isConfirmed&&v(!0)}))},children:"\ud655\uc778"})]})]}),w&&(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(me,{lastStep:w,school:k,gradeClass:D,beforeLastStep:function(){return N(!1)},userUid:e.userUid,email:e.email})})]})},pe=function(e){var t=(0,s.useState)(null),n=(0,i.Z)(t,2),a=(n[0],n[1],(0,s.useState)(null)),r=(0,i.Z)(a,2),l=(r[0],r[1],(0,s.useState)(null)),u=(0,i.Z)(l,2),d=(u[0],u[1],(0,s.useState)(!1)),m=(0,i.Z)(d,2),p=(m[0],m[1],(0,s.useState)(!1)),_=(0,i.Z)(p,2),v=_[0],g=_[1],j=(0,s.useState)(!1),S=(0,i.Z)(j,2),w=S[0],N=S[1],Z=(0,s.useState)(!1),y=(0,i.Z)(Z,2),k=y[0],M=y[1],B=(0,s.useState)({}),C=(0,i.Z)(B,2),D=(C[0],C[1],(0,s.useState)([{name:"\ud64d\uae38\ub3d9",date:"2023\ub144 7\uc6d4 10\uc77c"}])),T=(0,i.Z)(D,2);T[0],T[1];(0,s.useEffect)((function(){}),[]);var I=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(t){var n,i,s,a,r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,x.JU)(f.wO,"attendCheck","00formUploaded"),e.next=3,(0,x.QT)(s);case 3:a=e.sent,r=t.split("*"),console.log(r[1]+"*"+r[2]),"done"===(null===a||void 0===a||null===(n=a.data())||void 0===n||null===(i=n.lists)||void 0===i?void 0:i[r[1]+"*"+r[2]])&&g(!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var t=(0,c.Z)((0,o.Z)().mark((function t(){var n,i,s,a,r,l;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=(0,x.JU)(f.wO,"attendCheck","teacherLists"),t.next=3,(0,x.QT)(s);case 3:a=t.sent,r=!1,l="",null===a||void 0===a||null===(n=a.data())||void 0===n||null===(i=n.lists)||void 0===i||i.forEach((function(t){null!==t&&void 0!==t&&t.includes(e.userUid)&&(r=!0,l=t)})),r&&(M(l),N(!0),I(l));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();(0,s.useEffect)((function(){U()}),[]);var L=function(){var t=(0,c.Z)((0,o.Z)().mark((function t(n,i,s){var a,r,l,u;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,x.JU)(f.wO,"attendCheck","teacherLists"),t.next=3,(0,x.QT)(r);case 3:if(l=t.sent,u=[],(u=(u=null===l||void 0===l||null===(a=l.data())||void 0===a?void 0:a.lists).filter((function(t){return!(null!==t&&void 0!==t&&t.includes(e.userUid))}))).push(e.userUid+"*"+n),!l.exists()){t.next=13;break}return t.next=11,(0,x.r7)(r,{lists:u});case 11:t.next=15;break;case 13:return t.next=15,(0,x.pl)(r,{lists:u});case 15:try{null===i||void 0===i||i.forEach(function(){var e=(0,c.Z)((0,o.Z)().mark((function e(t){var i,a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n+"*"+t.name,a=(0,x.JU)(f.wO,"attendCheck",i),e.next=4,(0,x.QT)(a);case 4:if(e.sent.exists()){e.next=8;break}return e.next=8,(0,x.pl)(a,{info:{num:+t.num,woman:t.woman},possibleDate:+s,parents:[]});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),M(n)}catch(d){console.log(d),h().fire("\uc800\uc7a5 \uc624\ub958","\uc800\uc7a5 \uacfc\uc815\uc5d0 \uc624\ub958\uac00 \uc0dd\uacbc\uc5b4\uc694. \uc624\ub958\uac00 \uc9c0\uc18d\ub418\uba74 \uac1c\ubc1c\uc790 \uba54\uc77c\ub85c \uc54c\ub824\uc8fc\uc138\uc694. kerbong@gmail.com","error")}case 16:case"end":return t.stop()}}),t)})));return function(e,n,i){return t.apply(this,arguments)}}(),E=function(){var e=document.getElementById("scQr");e&&(h().fire("qr\uc800\uc7a5\uc911..","5\ucd08 \uc774\ub0b4\uc5d0 \uc800\uc7a5\uc774 \uc644\ub8cc\ub429\ub2c8\ub2e4. \uc7a0\uc2dc \uae30\ub2e4\ub824 \uc8fc\uc138\uc694.","info"),(0,ee.saveSvgAsPng)(e,"(\ud559\ubd80\ubaa8\uc6a9)\ud604\uc7a5\uccb4\ud5d8\ud559\uc2b5 \uac00\uc785 qr\ucf54\ub4dc.png",{scale:3}))};return(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{children:"\uad50\uc678\ud604\uc7a5\uccb4\ud5d8\ud559\uc2b5 \uc2e0\uccad \uae30\ub2a5 \uac1c\ubc1c\uc911\ud83d\udd25\ud83d\udd25(\uc5bc\ub9c8\ub098 \uac78\ub9b4\uc9c0\ub294..\ud83d\ude23)"}),v&&(0,b.jsxs)("div",{className:oe.Z["flex-col-center"],children:[(0,b.jsxs)("p",{style:{fontSize:"1.6rem"},children:["\ud83c\udfeb ",null===k||void 0===k?void 0:k.split("*")[2]," ",null===k||void 0===k?void 0:k.split("*")[3]]}),(0,b.jsx)("p",{children:(0,b.jsxs)("a",{onClick:E,className:oe.Z["download-link"],title:"QR\ucf54\ub4dc \ub2e4\uc6b4\ub85c\ub4dc",children:[" ","\ud83d\ude42 (\ud559\ubd80\ubaa8\uc6a9) \ud604\uc7a5\uccb4\ud5d8\ud559\uc2b5 \uac00\uc785 Qr\ucf54\ub4dc"," ",(0,b.jsx)("i",{className:"fa-solid fa-download"})]})}),(0,b.jsx)(le.tv,{value:"".concat(k),size:"200px",bgColor:"#ffffff",fgColor:"#000000",level:"L",id:"scQr",includeMargin:!0,onClick:E})]}),!v&&w&&(0,b.jsx)("p",{style:{fontSize:"1.6rem"},children:"\uc544\uc9c1 \uc591\uc2dd \ubcc0\uacbd\uc774 \uc644\ub8cc\ub418\uc9c0 \uc54a\uc558\uc5b4\uc694!(2~3\uc77c \uc18c\uc694)"}),(0,b.jsx)(fe,{students:e.students,isSubject:e.isSubject,doneHandler:function(e,t,n){return L(e,t,n)},dataExisted:w,dataEditHandler:function(){N(!1),g(!1)},userUid:e.userUid,email:e.email})]})},_e=function(e){var t,n,l,o=(0,g.TH)().state,c=(0,s.useState)(""),u=(0,i.Z)(c,2),d=u[0],f=u[1],p=["simsim","mission","doThis","ai"],_=["\ucd94\ucc9c<br/>\ud574\uc694","\uc544\uce68<br/>\ud55c\ub9c8\ub514","\uc774\uac70<br/>\ud574\uc694","\ud604\uc7a5<br/>\uccb4\ud5d8"],x=[(0,b.jsx)("i",{className:"fa-solid fa-star",style:{fontSize:"1em",color:"#000000bd"}}),(0,b.jsx)("i",{className:"fa-solid fa-mug-saucer",style:{fontSize:"1em",color:"#000000bd"}}),(0,b.jsx)("i",{className:"fa-solid fa-thumbs-up",style:{fontSize:"1em",color:"#000000bd"}}),(0,b.jsx)("i",{className:"fa-solid fa-robot",style:{fontSize:"1em",color:"#00000033"}})],v=[(0,b.jsx)("div",{className:r.Z.iconLeft,children:(0,b.jsx)("i",{className:"fa-solid fa-star",style:{fontSize:"1em",color:"#f2ffd8"}})}),(0,b.jsxs)("div",{className:r.Z.iconLeft,children:[(0,b.jsx)("i",{className:"fa-solid fa-mug-saucer",style:{fontSize:"1em",color:"#f2ffd8"}})," "]}),(0,b.jsxs)("div",{className:r.Z.iconLeft,children:[(0,b.jsx)("i",{className:"fa-solid fa-thumbs-up",style:{fontSize:"1em",color:"#f2ffd8"}})," "]}),(0,b.jsxs)("div",{className:r.Z.iconLeft,children:[(0,b.jsx)("i",{className:"fa-solid fa-robot",style:{fontSize:"1em",color:"#f2ffd8"}})," "]}),(0,b.jsxs)("div",{className:r.Z.iconLeft,children:[(0,b.jsx)("i",{className:"fa-solid fa-people-arrows",style:{fontSize:"1em",color:"#f2ffd8"}})," "]})];(0,s.useEffect)((function(){"main"===o?f("simsim"):"morning"===o&&f("mission")}),[o]);var h=function(){return+m()().format("MM")<=1?String(+m()().format("YYYY")-1):m()().format("YYYY")};return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{id:"title-div",children:[(0,b.jsxs)("button",{id:"title-btn",className:"",children:[""===d&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("i",{className:"fa-solid fa-cookie-bite",style:{fontSize:"1em"}})," ","\uad50\uc0ac\ub791"]}),"simsim"===d&&(0,b.jsxs)(b.Fragment,{children:[x[0]," \ucd94\ucc9c\ud574\uc694"]}),"mission"===d&&(0,b.jsxs)(b.Fragment,{children:[x[1]," \uc544\uce68\ud55c\ub9c8\ub514"]}),"doThis"===d&&(0,b.jsxs)(b.Fragment,{children:[x[2]," \uc774\uac70\ud574\uc694 "]}),"ai"===d&&(0,b.jsxs)(b.Fragment,{children:[x[3]," \ud604\uc7a5\uccb4\ud5d8 "]})]}),(0,b.jsx)("div",{className:r.Z["title-btns"],style:""===d?{visibility:"hidden"}:{},children:null===p||void 0===p?void 0:p.map((function(e,t){return(0,b.jsx)($.Z,{setShowWhatMemo:function(){f(e)},icon:x[t],what:e,menu_name:_[t]},e)}))})]}),""===d&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:r.Z["gameMenu-btn"],children:[(0,b.jsx)(a.Z,{name:"\ucd94\ucc9c\ud574\uc694",className:"settingSeatSelect",onclick:function(){return f("simsim")},icon:v[0]}),(0,b.jsx)(a.Z,{name:"\uc544\uce68\ud55c\ub9c8\ub514",className:"settingSeatSelect",onclick:function(){return f("mission")},icon:v[1]}),(0,b.jsx)(a.Z,{name:"\uc774\uac70\ud574\uc694",className:"settingSeatSelect",onclick:function(){return f("doThis")},icon:v[2]}),(0,b.jsx)(a.Z,{name:"\ud604\uc7a5\uccb4\ud5d8",className:"settingSeatSelect",onclick:function(){return f("ai")},icon:v[3]}),(0,b.jsx)(a.Z,{name:"\ubd84\ubc18\ud574\uc694",className:"settingSeatSelect",onclick:function(){return window.open("https://bit.ly/%EB%B6%84%EB%B0%98%ED%95%B4%EC%9A%94")},icon:v[4]})]}),(0,b.jsx)("p",{children:"\ubd84\ubc18\ud574\uc694 \uc8fc\uc18c \ud83d\udc49 bit.ly/\ubd84\ubc18\ud574\uc694"})," "]}),(0,b.jsxs)("div",{className:r.Z["container-div"],style:{marginTop:"-5px"},children:["simsim"===d&&(0,b.jsx)(M,{userUid:e.userUid}),"mission"===d&&(0,b.jsx)(F,{userUid:e.userUid}),"doThis"===d&&(0,b.jsx)(X,{userUid:e.userUid,nickName:e.nickName,email:e.email}),"ai"===d&&(0,b.jsx)(pe,{userUid:e.userUid,students:e.students,isSubject:null===e||void 0===e||null===(t=e.isSubject)||void 0===t||null===(n=t.filter((function(e){return Object.keys(e)[0]===h()})))||void 0===n||null===(l=n[0])||void 0===l?void 0:l[h()],email:e.email})]})]})})}},5772:function(e,t){t.Z={btn:"HwpControl_btn__wTrVq","mini-btn":"HwpControl_mini-btn__NeaWC",typeTitle:"HwpControl_typeTitle__o1wpy",typeBtn:"HwpControl_typeBtn__uotco","flex-row":"HwpControl_flex-row__kTA7a","flex-row-center":"HwpControl_flex-row-center__EQbDC",card:"HwpControl_card__28Vd+","flex-wrap":"HwpControl_flex-wrap__9pSRP",h2:"HwpControl_h2__b0Z8U",input:"HwpControl_input__-dm8A",keySpan:"HwpControl_keySpan__0LPac",m20:"HwpControl_m20__FYBip",fileUpLabel:"HwpControl_fileUpLabel__GDJYm","m-l20":"HwpControl_m-l20__F8kAq","flex-column":"HwpControl_flex-column__rnW3C","school-list":"HwpControl_school-list__oLIBw",fs14:"HwpControl_fs14__Ym4eS",fs12:"HwpControl_fs12__bH5zH","grade-select":"HwpControl_grade-select__eIQO9","download-link":"HwpControl_download-link__CFmNP"}},7231:function(e,t){t.Z={"input-div":"SettingSeat_input-div__updNB",item:"SettingSeat_item__SAxAY","items-container":"SettingSeat_items-container__8uApn","input-span":"SettingSeat_input-span__0ui0C",blackboard:"SettingSeat_blackboard__pZlG8","blackboard-area":"SettingSeat_blackboard-area__9PXoC","title-div":"SettingSeat_title-div__7rd6z","contentChangeBtn-div":"SettingSeat_contentChangeBtn-div__toVuj","num-input":"SettingSeat_num-input__D-7RW","remain-student":"SettingSeat_remain-student__W7UXK","remain-student-div":"SettingSeat_remain-student-div__xbERf","gameMenu-btn":"SettingSeat_gameMenu-btn__eSrtb",iconLeft:"SettingSeat_iconLeft__hHJcq",gameMenu:"SettingSeat_gameMenu__sw39q","list-li":"SettingSeat_list-li__5SWIj","list-date":"SettingSeat_list-date__YyuC8","container-div":"SettingSeat_container-div__GJeDu",select:"SettingSeat_select__2v2Or","temp-name":"SettingSeat_temp-name__v7-X7","listSpace-div":"SettingSeat_listSpace-div__MGT3B","title-input":"SettingSeat_title-input__XqJ4c","seatsAdd-btn":"SettingSeat_seatsAdd-btn__0aW3V","listShow-btn":"SettingSeat_listShow-btn__QAfIu",settingSeat:"SettingSeat_settingSeat__Ic1R0",simsim:"SettingSeat_simsim__b3kSS","mt--25":"SettingSeat_mt--25__nKlfI","clname-span":"SettingSeat_clname-span__-iq2b","randomPickBtn-div":"SettingSeat_randomPickBtn-div__cwtC5","margin-div":"SettingSeat_margin-div__efBal","class-select":"SettingSeat_class-select__RjBPH",existWoman:"SettingSeat_existWoman__3WcrT","title-btns":"SettingSeat_title-btns__FCoo9",explainDiv:"SettingSeat_explainDiv__NnLPC",explainDivHide:"SettingSeat_explainDivHide__ziZX-",secret:"SettingSeat_secret__26n+D",op1:"SettingSeat_op1__bz82+",op2:"SettingSeat_op2__rdU-O",op3:"SettingSeat_op3__-hgDc","div-bg-gray":"SettingSeat_div-bg-gray__GLr06","dropdown-li":"SettingSeat_dropdown-li__IYA4b","dropdown-li-nonehover":"SettingSeat_dropdown-li-nonehover__NyEoa",toggleSwitch:"SettingSeat_toggleSwitch__OL7Sy",toggleButton:"SettingSeat_toggleButton__Q6ERK",active:"SettingSeat_active__syQ-4","newSeat-div":"SettingSeat_newSeat-div__cpeW4","justLists-div":"SettingSeat_justLists-div__bhN9j"}},271:function(e,t){t.Z={div:"Memo_div__0wSdP","div-left":"Memo_div-left__C61wK",closeBtn:"Memo_closeBtn__EZA5i",checkTitle:"Memo_checkTitle__0d2PE",h3:"Memo_h3__eYBSM",h2:"Memo_h2__YblbG",checkLi:"Memo_checkLi__JQ7rY",unsubmitArea:"Memo_unsubmitArea__2mAYU",checkP:"Memo_checkP__ktoo0","memo-headerBtn":"Memo_memo-headerBtn__OEerU","listMemo-date":"Memo_listMemo-date__75VlC","listMemo-title":"Memo_listMemo-title__tJVUm","listMemo-title-sub":"Memo_listMemo-title-sub__RJwe-","headerBtn-text":"Memo_headerBtn-text__q0r5p",hr:"Memo_hr__GaWsc",upDownDiv:"Memo_upDownDiv__8PfeX",upDownDivHr:"Memo_upDownDivHr__Rfru2","listMemo-select":"Memo_listMemo-select__bt6C3","listMemoBtn-div":"Memo_listMemoBtn-div__nWZYc","listMemoBtn2-div":"Memo_listMemoBtn2-div__6LB1j","listMemoSelect-div":"Memo_listMemoSelect-div__ZF2et","budgetList-ul":"Memo_budgetList-ul__SxW7B","budgetList-li":"Memo_budgetList-li__BO4RI","budgetList-date":"Memo_budgetList-date__4OW6h","budgetList-title":"Memo_budgetList-title__TYsFG","budget-select":"Memo_budget-select__WhZUw","year-select":"Memo_year-select__LJoFq","flex-center":"Memo_flex-center__dYTkG","budgetList-desc":"Memo_budgetList-desc__56J2g","flex-space-center-95":"Memo_flex-space-center-95__Q+NpP","budgetList-note":"Memo_budgetList-note__FhjdD","budgetList-sum":"Memo_budgetList-sum__hQHIV","budget-add":"Memo_budget-add__lMZg9","budget-save":"Memo_budget-save__SV+Eu","budgetEdit-save":"Memo_budgetEdit-save__uuh1L","budgetEdit-cancle":"Memo_budgetEdit-cancle__gMo8o","budget-del":"Memo_budget-del__Exe0V","budgetList-save":"Memo_budgetList-save__52vKO","budgetEdit-btns":"Memo_budgetEdit-btns__UZ0qG","budgetMenu-div":"Memo_budgetMenu-div__jt70g","newBudget-title":"Memo_newBudget-title__tymfB","newBudget-site":"Memo_newBudget-site__2SvGG","newBudget-each":"Memo_newBudget-each__iiMKt","newBudget-amount":"Memo_newBudget-amount__8hgN-","newBudget-count":"Memo_newBudget-count__snB57","newBudget-note":"Memo_newBudget-note__iWjrm",holidayData:"Memo_holidayData__FJDfb","budgetList-newdiv":"Memo_budgetList-newdiv__QZIeM","budgetList-dateNote":"Memo_budgetList-dateNote__PMRou","budgetList-buttonDiv":"Memo_budgetList-buttonDiv__q3ECN","budgetList-upDiv":"Memo_budgetList-upDiv__dzNxS","remain-p":"Memo_remain-p__e3y1y","budgetList-edit":"Memo_budgetList-edit__7k4Nv","budgetList-delete":"Memo_budgetList-delete__cXFtd","budgetListEdit-div":"Memo_budgetListEdit-div__h676F","newBudget-date":"Memo_newBudget-date__FeKwo","class-select":"Memo_class-select__BT6Mp","searchYear-select":"Memo_searchYear-select__FWS3X","newBudget-active":"Memo_newBudget-active__Ae1oI","slide-down":"Memo_slide-down__bhd3I","budget-span":"Memo_budget-span__sEGAt","excelBudget-border":"Memo_excelBudget-border__1DA2M","budgetExcelCardChange-btn":"Memo_budgetExcelCardChange-btn__8WCze"}},3702:function(e,t){t.Z={inputStudentLi:"StudentLiWithDelete_inputStudentLi__1xkN1",studentNumName:"StudentLiWithDelete_studentNumName__hwai1","span-expain":"StudentLiWithDelete_span-expain__KfjZF","image-upload-btn":"StudentLiWithDelete_image-upload-btn__ytRIT","span-highlight":"StudentLiWithDelete_span-highlight__vEjj1",studentListArea:"StudentLiWithDelete_studentListArea__y6roQ","span-small":"StudentLiWithDelete_span-small__lyx66",hr:"StudentLiWithDelete_hr__LcYoE",excelUploadArea:"StudentLiWithDelete_excelUploadArea__HhpRJ",exampleImg:"StudentLiWithDelete_exampleImg__Tj62-",example:"StudentLiWithDelete_example__gQu1o",excelUploadTop:"StudentLiWithDelete_excelUploadTop__5VVml",accent:"StudentLiWithDelete_accent__USa2r",fileUploadBtn:"StudentLiWithDelete_fileUploadBtn__TaRGQ",excelfileUploadBtn:"StudentLiWithDelete_excelfileUploadBtn__i2u8I",excelfileUploadBtnUploaded:"StudentLiWithDelete_excelfileUploadBtnUploaded__GKz3s","a-link":"StudentLiWithDelete_a-link__gOfnt","span-title":"StudentLiWithDelete_span-title__YL5H9",explain:"StudentLiWithDelete_explain__Ium3B",womanBg:"StudentLiWithDelete_womanBg__-rkC5","btn-div":"StudentLiWithDelete_btn-div__ADrYS"}}}]);