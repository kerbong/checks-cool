"use strict";(self.webpackChunkchecks_cool=self.webpackChunkchecks_cool||[]).push([[690],{3776:function(n,t,e){e.d(t,{Z:function(){return s}});e(7313);var a="Student_div__ROh5A",c=e(7405),u=e(6417),s=function(n){var t;return(0,u.jsx)("div",{className:a,children:n.students&&(null===(t=n.students)||void 0===t?void 0:t.map((function(t){return(0,u.jsx)(c.Z,{className:n.manageEach?"button-student-manageEach":"button-student",manageEach:n.manageEach,name:t.name,num:t.num,onShowOption:function(t){n.showOption(t),t.target+="add"}},t.num)})))})}},7405:function(n,t,e){e.d(t,{Z:function(){return u}});e(7313);var a={"button-student":"StudentBtn_button-student__Ck98o","button-student-manageEach":"StudentBtn_button-student-manageEach__Wrput","checklist-student":"StudentBtn_checklist-student__cWFAm"},c=e(6417),u=function(n){return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("button",{className:"".concat(a[n.className]," "),id:"std-".concat(n.num," ").concat(n.name),onClick:function(t){n.onShowOption(t)},children:[n.num," ",n.name]})})}},9247:function(n,t,e){var a=e(885),c=e(7313),u=e(7692),s=e(7890),i=e(2184),o=e(6417);t.Z=function(n){var t=(0,c.useState)(""),e=(0,a.Z)(t,2),l=e[0],r=e[1],d=(0,c.useState)(""),f=(0,a.Z)(d,2),m=f[0],v=f[1],h=(0,s.s0)();return(0,c.useEffect)((function(){var n=window.location.href.split("/");r(n[n.length-1]),console.log(l)}),[window.location.href]),(0,c.useEffect)((function(){""!==n.onStudent&&v(n.onStudent)}),[n.onStudent]),(0,o.jsxs)("div",{className:i.Z["btns-div"],children:[(0,o.jsx)(u.Z,{name:"\uc815\ubcf4",className:"manageStudent"!==l?"manageBtn":"manageBtn-clicked",onclick:function(){return h("/manageStudent",{state:m})}}),(0,o.jsx)(u.Z,{name:"\ucd9c\uacb0",className:"manageAttendance"!==l?"manageBtn":"manageBtn-clicked",onclick:function(){return h("/manageAttendance",{state:n.onStudent})}}),(0,o.jsx)(u.Z,{name:"\uc0c1\ub2f4",className:"manageConsult"!==l?"manageBtn":"manageBtn-clicked",onclick:function(){return h("/manageConsult",{state:n.onStudent})}}),(0,o.jsx)(u.Z,{name:"\uc81c\ucd9c/\uac1c\ubcc4",className:"manageCheckListMemo"!==l?"manageBtn":"manageBtn-clicked",onclick:function(){return h("/manageCheckListMemo",{state:n.onStudent})}})]})}},690:function(n,t,e){e.r(t);var a=e(4165),c=e(1413),u=e(5861),s=e(885),i=e(7313),o=e(556),l=e(9247),r=e(658),d=e.n(r),f=e(650),m=e(573),v=e(7890),h=e(2184),g=e(6417);t.default=function(n){var t=(0,i.useState)(!0),e=(0,s.Z)(t,2),r=e[0],j=(e[1],(0,i.useState)([])),S=(0,s.Z)(j,2),Z=S[0],x=S[1],b=(0,i.useState)([]),_=(0,s.Z)(b,2),k=_[0],E=_[1],p=(0,i.useState)([]),w=(0,s.Z)(p,2),M=w[0],N=w[1],O=(0,i.useState)([]),B=(0,s.Z)(O,2),Y=(B[0],B[1]),y=(0,i.useState)(""),C=(0,s.Z)(y,2),L=C[0],U=C[1],T=(0,v.TH)().state;(0,i.useEffect)((function(){console.log(T)}),[T]);var A=function(){return+d()().format("MM")<=2?String(+d()().format("YYYY")-1):d()().format("YYYY")},F=function(){var t=(0,u.Z)((0,a.Z)().mark((function t(){var e,u,s,i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x([]),e=(0,m.JU)(f.wO,"checkLists",n.userUid),t.next=4,(0,m.QT)(e);case 4:return u=t.sent,(0,m.cf)(e,(function(n){if(u.exists()){var t,e,a,s=[];null===(t=n.data())||void 0===t||null===(e=t.checkLists_data)||void 0===e||null===(a=e.filter((function(n){return n.yearGroup===A()})))||void 0===a||a.forEach((function(n){return n.unSubmitStudents.forEach((function(t){var e=(0,c.Z)((0,c.Z)({},t),{},{id:n.id,title:n.title});s.push(e)}))})),x([].concat(s))}})),E([]),s=(0,m.JU)(f.wO,"listMemo",n.userUid),t.next=10,(0,m.QT)(s);case 10:i=t.sent,(0,m.cf)(s,(function(n){if(i.exists()){var t,e,a,u=[];null===(t=n.data())||void 0===t||null===(e=t.listMemo_data)||void 0===e||null===(a=e.filter((function(n){return n.yearGroup===A()})))||void 0===a||a.forEach((function(n){var t;return null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.forEach((function(t){var e=(0,c.Z)((0,c.Z)({},t),{},{id:n.id,title:n.title});u.push(e)}))})),E([].concat(u))}}));case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,i.useEffect)((function(){F()}),[]),(0,i.useEffect)((function(){if(""!==L){var n=k.filter((function(n){return n.name===L.split(" ")[1]}));N(n);var t=Z.filter((function(n){return n.name===L.split(" ")[1]}));Y(t)}}),[L]),(0,g.jsxs)("div",{children:[(0,g.jsx)(o.Z,{students:n.students,userUid:n.userUid,isSubject:n.isSubject,selectStudentHandler:function(n){U(n)}}),(0,g.jsx)(l.Z,{onStudent:L}),r?(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("ul",{className:h.Z["bottom-content-ul"],children:[null===M||void 0===M?void 0:M.map((function(n){return(0,g.jsxs)("li",{id:n.id+n.num,className:h.Z["bottom-content-li"],children:[(0,g.jsx)("div",{className:h.Z["flex-ml-10"],children:n.id.slice(0,10)}),(0,g.jsx)("div",{className:h.Z["fs-13"],children:n.memo})]},n.id+n.num)})),0===(null===M||void 0===M?void 0:M.length)&&(0,g.jsx)("li",{className:h.Z["bottom-content-li"],children:"* \uc800\uc7a5\ub41c \ud559\uc0dd\uad00\ub828 \uc815\ubcf4\uac00 \uc5c6\uc5b4\uc694!"})]})}):(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("div",{})})]})}},556:function(n,t,e){var a=e(885),c=e(7313),u=e(3776),s=e(658),i=e.n(s),o=e(2184),l=e(6417);t.Z=function(n){var t,e=(0,c.useState)(""),s=(0,a.Z)(e,2),r=s[0],d=s[1],f=(0,c.useState)(""),m=(0,a.Z)(f,2),v=m[0],h=m[1],g=(0,c.useState)([]),j=(0,a.Z)(g,2),S=j[0],Z=j[1],x=(0,c.useState)([]),b=(0,a.Z)(x,2),_=b[0],k=b[1],E=(0,c.useState)(!1),p=(0,a.Z)(E,2),w=p[0],M=p[1],N=(0,c.useRef)();(0,c.useEffect)((function(){if(""!==r){var n=document.getElementById("std-".concat(r));n.classList.remove("none"),n.classList.add("clicked")}}),[r]);var O=function(n){var t=i()(n),e="",a=t.format("MM"),c=t.format("YYYY");return+a>=2?e=c:+a<=1&&(e=String(+c-1)),e};(0,c.useEffect)((function(){var t=function(t){var e,a,c,u;return n.isSubject&&(e=null===(a=n.isSubject)||void 0===a||null===(c=a.filter((function(n){return Object.keys(n)[0]===t})))||void 0===c||null===(u=c[0])||void 0===u?void 0:u[t]),e}(O());M(t)}),[n.isSubject]),(0,c.useEffect)((function(){var t,e,a,c=O(),u=null===n||void 0===n||null===(t=n.students)||void 0===t||null===(e=t.filter((function(n){return Object.keys(n)[0]===c})))||void 0===e||null===(a=e[0])||void 0===a?void 0:a[c];k(u)}),[n.students]);return(0,c.useEffect)((function(){null===_||void 0===_||_.forEach((function(n){Object.keys(n)[0]===v&&Z(Object.values(n)[0])})),""===v&&Z([])}),[v]),(0,c.useEffect)((function(){n.selectStudentHandler(r)}),[r]),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{children:"* \ud559\uc0dd \uac1c\ubcc4 \uc870\ud68c(\uc815\ud655\ud55c \uba85\uce6d \ubbf8\uc815) \ud0ed \uc2e0\uc124 \ud14c\uc2a4\ud2b8\ud654\uba74"}),w&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("select",{ref:N,onChange:function(){var n=N.current.value;h(n)},className:o.Z["class-select"],value:v,children:[(0,l.jsx)("option",{value:"",children:"--\ud559\uae09--"}),null===_||void 0===_?void 0:_.map((function(n){return(0,l.jsx)("option",{value:Object.keys(n),children:Object.keys(n)},Object.keys(n))}))]}),""===(null===N||void 0===N||null===(t=N.current)||void 0===t?void 0:t.value)&&"* \ud559\uae09\uc744 \uba3c\uc800 \uc120\ud0dd\ud574\uc8fc\uc138\uc694."]})]}),(0,l.jsx)("div",{children:(0,l.jsx)(u.Z,{students:w?S:_,showOption:function(n){if(d(n.target.innerText),""!==r){var t=document.getElementById("std-".concat(r));t.classList.remove("clicked"),t.classList.add("none")}},isSubject:n.isSubject,manageEach:!0})}),(0,l.jsx)("div",{})]})}},2184:function(n,t){t.Z={"class-select":"ManageEach_class-select__IlQlu","btns-div":"ManageEach_btns-div__Zivma","bottom-content-ul":"ManageEach_bottom-content-ul__xXaZv","bottom-content-li":"ManageEach_bottom-content-li__S8Tge","flex-ml-10":"ManageEach_flex-ml-10__whmHW","fs-13":"ManageEach_fs-13__7gMai"}}}]);