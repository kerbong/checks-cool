"use strict";(self.webpackChunkchecks_cool=self.webpackChunkchecks_cool||[]).push([[422],{3776:function(n,e,t){t.d(e,{Z:function(){return i}});t(7313);var a="Student_div__ROh5A",c=t(7405),s=t(6417),i=function(n){var e;return(0,s.jsx)("div",{className:a,children:n.students&&(null===(e=n.students)||void 0===e?void 0:e.map((function(e){var t;return(0,s.jsx)(c.Z,{className:n.manageEach?"button-student-manageEach":"button-student",classAdd:(null===(t=n.passStudent)||void 0===t?void 0:t.split(" ")[1])===e.name,manageEach:n.manageEach,name:e.name,num:e.num,onShowOption:function(e){n.showOption(e),e.target+="add"}},e.num)})))})}},7405:function(n,e,t){t.d(e,{Z:function(){return s}});t(7313);var a={"button-student":"StudentBtn_button-student__Ck98o","button-student-manageEach":"StudentBtn_button-student-manageEach__Wrput","checklist-student":"StudentBtn_checklist-student__cWFAm"},c=t(6417),s=function(n){return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("button",{className:"".concat(a[n.className]," ").concat(n.classAdd&&"clicked"),id:"std-".concat(n.num," ").concat(n.name),onClick:function(e){n.onShowOption(e)},children:[n.num," ",n.name]})})}},7422:function(n,e,t){t.r(e);var a=t(4165),c=t(2982),s=t(5861),i=t(885),l=t(7313),u=t(2118),o=t(7890),d=t(658),r=t.n(d),f=t(650),m=t(573),v=t(2184),h=t(6417);e.default=function(n){var e=(0,l.useState)(""),t=(0,i.Z)(e,2),d=t[0],_=t[1],g=(0,l.useState)([]),x=(0,i.Z)(g,2),E=x[0],j=x[1],S=(0,l.useState)([]),Z=(0,i.Z)(S,2),p=Z[0],k=Z[1],b=(0,l.useState)(""),N=(0,i.Z)(b,2),M=N[0],w=N[1],B=(0,o.TH)().state,y=function(n){var e=n||new Date;return+r()(e).format("MM")<=2?String(+r()(e).format("YYYY")-1):r()(e).format("YYYY")},O=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var t,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j([]),t=(0,m.JU)(f.wO,"consult",n.userUid),e.next=4,(0,m.QT)(t);case 4:s=e.sent,(0,m.cf)(t,(function(n){if(s.exists()){var e,t,a=null===(e=n.data())||void 0===e||null===(t=e.consult_data)||void 0===t?void 0:t.filter((function(n){return y(n.id.slice(0,10))===y()}));j((0,c.Z)(a))}}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){O()}),[]),(0,l.useEffect)((function(){var n;""!==d&&(n=""===M?null===E||void 0===E?void 0:E.filter((function(n){return n.name===d.split(" ")[1]})):null===E||void 0===E?void 0:E.filter((function(n){return n.clName===M&&n.name===d.split(" ")[1]})),k(n))}),[d,E]);var Y=function(n){n.currentTarget.style.display="none"};return(0,l.useEffect)((function(){var n=null===B||void 0===B?void 0:B.student,e=null===B||void 0===B?void 0:B.clName;""!==e&&w(e),""!==n&&_(n)}),[B]),(0,h.jsxs)("div",{children:[(0,h.jsx)(u.Z,{students:n.students,userUid:n.userUid,isSubject:n.isSubject,selectStudentHandler:function(n){_(n)},clName:M,passStudent:d,nowClassNameHandler:function(n){w(n)}}),(0,h.jsx)("ul",{className:v.Z["bottom-content-ul"],children:(0,h.jsxs)("div",{className:"".concat(v.Z["flex-wrap"]),style:{width:"100%"},children:[null===p||void 0===p?void 0:p.map((function(n){return(0,h.jsxs)("li",{id:n.id,className:v.Z["bottom-content-li"],style:{minWidth:"240px",maxWidth:"540px"},children:[(0,h.jsx)("div",{className:v.Z["flex-ml-10"],children:"".concat(n.id.slice(0,10)," ").concat(n.id.slice(10,15))}),(0,h.jsx)("div",{className:v.Z["fs-13"],children:n.option.slice(1)}),(0,h.jsx)("hr",{className:v.Z["margin-15"]}),(0,h.jsx)("div",{className:v.Z["fs-13"],children:n.note}),n.attachedFileUrl&&(0,h.jsxs)("div",{className:v.Z["margin-15"],children:[(0,h.jsx)("img",{className:v.Z["width-max400"],src:n.attachedFileUrl,height:"auto",alt:"filePreview",onError:Y}),(0,h.jsx)("audio",{controls:!0,className:v.Z["width-max400"],src:n.attachedFileUrl,onError:Y})]})]},n.id)})),0===(null===p||void 0===p?void 0:p.length)&&(0,h.jsx)("li",{className:v.Z["bottom-content-li"],children:"* \ud559\uc0dd\uc758 \uc0c1\ub2f4\uae30\ub85d\uc774 \uc5c6\uc5b4\uc694!"})]})})]})}},2118:function(n,e,t){t.d(e,{Z:function(){return m}});var a=t(885),c=t(7313),s=t(3776),i=t(658),l=t.n(i),u=t(2184),o=t(7692),d=t(7890),r=t(6417),f=function(n){var e=(0,c.useState)(""),t=(0,a.Z)(e,2),s=t[0],i=t[1],l=(0,c.useState)(""),f=(0,a.Z)(l,2),m=f[0],v=f[1],h=(0,c.useState)(""),_=(0,a.Z)(h,2),g=_[0],x=_[1],E=(0,d.s0)();return(0,c.useEffect)((function(){var n=window.location.href.split("/");i(n[n.length-1])}),[window.location.href]),(0,c.useEffect)((function(){""!==n.onStudent&&v(n.onStudent)}),[n.onStudent]),(0,c.useEffect)((function(){""!==n.clName&&x(n.clName)}),[n.clName]),(0,r.jsxs)("div",{className:u.Z["btns-div"],children:[(0,r.jsx)(o.Z,{name:"\uc815\ubcf4",className:"manageStudent"!==s?"manageBtn":"manageBtn-clicked",onclick:function(){return E("/manageStudent",{state:{student:m,clName:g||""}})}}),(0,r.jsx)(o.Z,{name:"\ucd9c\uacb0",className:"manageAttendance"!==s?"manageBtn":"manageBtn-clicked",onclick:function(){return E("/manageAttendance",{state:{student:m,clName:g||""}})}}),(0,r.jsx)(o.Z,{name:"\uc0c1\ub2f4",className:"manageConsult"!==s?"manageBtn":"manageBtn-clicked",onclick:function(){return E("/manageConsult",{state:{student:m,clName:g||""}})}}),(0,r.jsx)(o.Z,{name:"\uc81c\ucd9c/\uac1c\ubcc4",className:"manageCheckListMemo"!==s?"manageBtn":"manageBtn-clicked",onclick:function(){return E("/manageCheckListMemo",{state:{student:m,clName:g||""}})}})]})},m=function(n){var e,t=(0,c.useState)(""),i=(0,a.Z)(t,2),o=i[0],d=i[1],m=(0,c.useState)(""),v=(0,a.Z)(m,2),h=v[0],_=v[1],g=(0,c.useState)([]),x=(0,a.Z)(g,2),E=x[0],j=x[1],S=(0,c.useState)([]),Z=(0,a.Z)(S,2),p=Z[0],k=Z[1],b=(0,c.useState)(!1),N=(0,a.Z)(b,2),M=N[0],w=N[1],B=(0,c.useRef)();(0,c.useEffect)((function(){if(""!==o){var n=document.getElementById("std-".concat(o));null===n||void 0===n||n.classList.remove("none"),null===n||void 0===n||n.classList.add("clicked")}}),[o]);var y=function(n){var e=l()(n),t="",a=e.format("MM"),c=e.format("YYYY");return+a>=2?t=c:+a<=1&&(t=String(+c-1)),t};(0,c.useEffect)((function(){var e=function(e){var t,a,c,s;return n.isSubject&&(t=null===(a=n.isSubject)||void 0===a||null===(c=a.filter((function(n){return Object.keys(n)[0]===e})))||void 0===c||null===(s=c[0])||void 0===s?void 0:s[e]),t}(y());w(e)}),[n.isSubject]),(0,c.useEffect)((function(){var e,t,a,c=y(),s=null===n||void 0===n||null===(e=n.students)||void 0===e||null===(t=e.filter((function(n){return Object.keys(n)[0]===c})))||void 0===t||null===(a=t[0])||void 0===a?void 0:a[c];k(s)}),[n.students]);return(0,c.useEffect)((function(){null===p||void 0===p||p.forEach((function(n){Object.keys(n)[0]===h&&j(Object.values(n)[0])})),""===h&&j([]),n.nowClassNameHandler(h)}),[h]),(0,c.useEffect)((function(){n.selectStudentHandler(o)}),[o]),(0,c.useEffect)((function(){_(n.clName),d("")}),[n.clName]),(0,c.useEffect)((function(){""!==n.passStudent&&d(n.passStudent)}),[n.passStudent]),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:M&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("select",{ref:B,onChange:function(){var n=B.current.value;_(n)},className:u.Z["class-select"],value:h,children:[(0,r.jsx)("option",{value:"",children:"--\ud559\uae09--"}),null===p||void 0===p?void 0:p.map((function(n){return(0,r.jsx)("option",{value:Object.keys(n),children:Object.keys(n)},Object.keys(n))}))]}),""===(null===B||void 0===B||null===(e=B.current)||void 0===e?void 0:e.value)&&"* \ud559\uae09\uc744 \uba3c\uc800 \uc120\ud0dd\ud574\uc8fc\uc138\uc694."]})}),(0,r.jsx)("div",{children:(0,r.jsx)(s.Z,{students:M?E:p,showOption:function(n){var e=n.target.innerText;if(d(o===e?"":e),""!==o){var t=document.getElementById("std-".concat(o));null===t||void 0===t||t.classList.remove("clicked"),null===t||void 0===t||t.classList.add("none")}},isSubject:n.isSubject,manageEach:!0,passStudent:n.passStudent})}),(0,r.jsx)(f,{onStudent:o,clName:h}),(0,r.jsx)("div",{})]})}},2184:function(n,e){e.Z={"class-select":"ManageEach_class-select__IlQlu","btns-div":"ManageEach_btns-div__Zivma","padd-5":"ManageEach_padd-5__-MakG","bottom-content-ul":"ManageEach_bottom-content-ul__xXaZv","bottom-content-li":"ManageEach_bottom-content-li__S8Tge","flex-ml-10":"ManageEach_flex-ml-10__whmHW","fs-13":"ManageEach_fs-13__7gMai","fs-15":"ManageEach_fs-15__stlkn","fs-11":"ManageEach_fs-11__dIRN5","fs-13-bold":"ManageEach_fs-13-bold__HBo6n","clicked-title":"ManageEach_clicked-title__-ZVjL","search-title":"ManageEach_search-title__wX5x6","search-btns":"ManageEach_search-btns__aYFXS","flex-wrap":"ManageEach_flex-wrap__NnIS9","margin-15":"ManageEach_margin-15__R8DcB","margin-5":"ManageEach_margin-5__IctPu","flex-center-ml-10":"ManageEach_flex-center-ml-10__fmq5p","flex-center":"ManageEach_flex-center__Ent-o","width-max400":"ManageEach_width-max400__8b-OH","a-link":"ManageEach_a-link__oahRi",excelfileUploadBtn:"ManageEach_excelfileUploadBtn__vkRXS","list-clicked":"ManageEach_list-clicked__4v6iy"}}}]);