"use strict";(self.webpackChunkchecks_cool=self.webpackChunkchecks_cool||[]).push([[437],{5186:function(e,t,n){n.d(t,{Z:function(){return u}});var a=n(885),r=n(7313),i=n(1378),o=n.n(i),c=(n(658),n(2632),n(1560)),s=n(6417),u=function(e){var t=(0,r.useState)(e.setStart||new Date),n=(0,a.Z)(t,2),i=n[0],u=n[1],l=(0,r.useState)(i),d=(0,a.Z)(l,2),f=d[0],m=d[1];(0,r.useEffect)((function(){"main"===e.about&&u(e.setStart)}),[e.setStart]);var p=r.forwardRef((function(e,t){var n=e.value,a=e.onClick;return(0,s.jsx)("button",{className:"custom-input",onClick:a,ref:t,children:n})}));return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(o(),{selected:i,onChange:function(t){if("attendance"===e.about){var n=(0,a.Z)(t,2),r=n[0],i=n[1];u(r),m(i)}else u(t);e.getDateValue(t)},filterDate:function(e){var t=e.getDay(e);return 0!==t&&6!==t},startDate:i,endDate:"attendance"===e.about&&f,selectsRange:"attendance"===e.about&&!0,disabledKeyboardNavigation:!0,highlightDates:e.highlight,customInput:(0,s.jsx)(p,{}),inline:e.inline,locale:c.Z,dateFormat:"yy\ub144 MMMM d\uc77c(eee)"})})}},4667:function(e,t,n){n.d(t,{Z:function(){return z}});var a=n(885),r="Attendance_student__zQCyC",i="Attendance_form-section__SmTcW",o="Attendance_date__PNNb3",c="Attendance_closeBtn__E609D",s="Attendance_datepick-explain__LXpeq",u=n(3451),l=n(7313),d=n(5186),f=n(4165),m=n(1413),p=n(5861),h="AttendanceForm_form__d8p8O",_="AttendanceForm_btn__VV+7-",x="AttendanceForm_btnArea__eGu5D",v=n(4484),g=n(7114),b=n.n(g),j="AttendanceOption_option__04AUt",Z="AttendanceOption_option-select__5pc8P",w="AttendanceOption_ul__HzrL4",S=n(6417),N=function(e){var t,n=(0,l.useState)(""),r=(0,a.Z)(n,2),i=r[0],o=r[1],c=function(t){o(t.target.id+t.target.innerText),e.showNote(t.target.id+t.target.innerText)};return(0,S.jsx)("ul",{className:w,children:e.selectOption&&(null===(t=e.selectOption)||void 0===t?void 0:t.map((function(e){return(0,S.jsx)("li",{className:e.value===i?Z:j,id:e.id,onClick:c,children:e.class},e.id)})))})},y=n(5729),k=n(9532),C=n(573),D="AudioRecord_audio-controls__2Hajc",F="AudioRecord_audio__B9hmM",M="AudioRecord_audio-container__Q7SBV",A="AudioRecord_fileUploadBtn__9aPc1",I="AudioRecord_addRecordFile__J2UkD",O="AudioRecord_downRecordFile__EhfPR",R="AudioRecord_audio-btns__0DaJq",E=n(658),H=n.n(E),U="audio/webm",B=function(e){var t=(0,l.useState)(!1),n=(0,a.Z)(t,2),r=n[0],i=n[1],o=(0,l.useRef)(null),c=(0,l.useState)("inactive"),s=(0,a.Z)(c,2),u=s[0],d=s[1],m=(0,l.useState)(null),h=(0,a.Z)(m,2),_=h[0],x=h[1],v=(0,l.useState)([]),g=(0,a.Z)(v,2),j=g[0],Z=g[1],w=(0,l.useState)([]),N=(0,a.Z)(w,2),y=N[0],k=N[1],C=(0,l.useState)(null),E=(0,a.Z)(C,2),B=E[0],T=E[1],z=(0,l.useState)(null),Y=(0,a.Z)(z,2),P=Y[0],V=Y[1],q=(0,l.useState)("00:00"),K=(0,a.Z)(q,2),G=K[0],J=K[1],L=function(){var e=(0,p.Z)((0,f.Z)().mark((function e(){var t;return(0,f.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("MediaRecorder"in window)){e.next=14;break}return e.prev=1,e.next=4,navigator.mediaDevices.getUserMedia({audio:!0,video:!1});case 4:t=e.sent,i(!0),x(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),alert(e.t0.message);case 12:e.next=15;break;case 14:alert("The MediaRecorder API is not supported in your browser.");case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=(0,p.Z)((0,f.Z)().mark((function e(){var t,n;return(0,f.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d("recording"),t=new MediaRecorder(_,{type:U}),o.current=t,o.current.start(),n=[],o.current.ondataavailable=function(e){"undefined"!==typeof e.data&&0!==e.data.size&&n.push(e.data)},Z(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){var e,t;"recording"===u?(J("00:00"),null===P?(t=H()().format("YYYY-MM-DD HH:mm:ss"),V(t)):t=P,e=setInterval((function(){var e=H()().format("YYYY-MM-DD HH:mm:ss"),n=H()(e).diff(H()(t).format("YYYY-MM-DD HH:mm:ss"),"s"),a=Math.floor(+n/60),r=Math.floor(+n%60);a<10&&(a="0"+a),r<10&&(r="0"+r),J(a+":"+r)}),1e3)):"inactive"===u&&(V(null),clearInterval(e));return function(){return clearInterval(e)}}),[u]);var Q=function(e){b().fire("\uc2dc\uac04 \uc81c\ud55c","\uc790\ub3d9 \uc885\ub8cc\uae4c\uc9c0 ".concat(e,"\ubd84 \ub0a8\uc558\uc2b5\ub2c8\ub2e4."),"info")};(0,l.useEffect)((function(){"05:00"===G?Q(3):"07:00"===G&&Q(1)}),[G]);return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)("div",{className:D,children:[(0,S.jsx)("div",{className:M,children:(0,S.jsx)("audio",{src:B,controls:!0,className:F})}),(0,S.jsxs)("div",{className:R,children:[G,"\ucd08"," ",r?null:(0,S.jsxs)("button",{onClick:L,type:"button",className:O,children:[(0,S.jsx)("i",{className:"fa-solid fa-microphone"})," \ub9c8\uc774\ud06c \uad8c\ud55c"]}),r&&"inactive"===u?(0,S.jsxs)("button",{onClick:W,type:"button",className:A,children:[(0,S.jsx)("i",{className:"fa-solid fa-record-vinyl"})," ",B?"\ub2e4\uc2dc\ub179\uc74c":"\ub179\uc74c"]}):null,"recording"===u?(0,S.jsxs)("button",{onClick:function(){d("inactive"),o.current.stop(),o.current.onstop=function(){var e=new Blob(j,{type:U});k(e);var t=URL.createObjectURL(e);T(t),Z([])}},type:"button",className:A,children:[(0,S.jsx)("i",{className:"fa-regular fa-circle-stop"})," \uc911\uc9c0"]}):null]}),(0,S.jsx)("div",{className:R,children:B&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("button",{className:O,children:(0,S.jsx)("a",{download:!0,href:B,children:"\ub2e4\uc6b4\ub85c\ub4dc"})}),(0,S.jsx)("button",{onClick:function(){e.uploadAudio(y)},className:I,children:"\ud30c\uc77c \ucd94\uac00"})]})})]})})},T=function(e){var t=(0,l.useState)(""),n=(0,a.Z)(t,2),r=n[0],i=n[1],o=(0,l.useState)(""),c=(0,a.Z)(o,2),s=c[0],u=c[1],d=(0,l.useState)(!1),g=(0,a.Z)(d,2),j=g[0],Z=g[1],w=(0,l.useState)(!0),D=(0,a.Z)(w,2),F=D[0],M=D[1],A=(0,l.useState)([]),I=(0,a.Z)(A,2),O=I[0],R=I[1],E=(0,l.useRef)(null);(0,l.useEffect)((function(){!function(){var t=(0,C.JU)(k.wO,"attend",e.userUid);(0,C.cf)(t,(function(e){var t,n;R([]);var a=[];null===e||void 0===e||null===(t=e.data())||void 0===t||null===(n=t.attend_data)||void 0===n||n.forEach((function(e){a.push(e)})),R([].concat(a))}))}()}),[]);var H=function(e){return e.getFullYear()+"-"+("0"+(1+e.getMonth())).slice(-2)+"-"+("0"+e.getDate()).slice(-2)},U=function(){var t=(0,p.Z)((0,f.Z)().mark((function t(n){var o,c,u,l,d,p,h,_,x,v,g,j,w,S,N;return(0,f.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),o=document.getElementById("textArea").value,c=e.who.split(" "),u="","consulting"!==e.about){t.next=12;break}l=H(e.attendDate),y=e.attendDate,d=("0"+y.getHours()).slice(-2)+":"+("0"+y.getMinutes()).slice(-2),u=l+d+c[0],p={num:c[0],name:c[1],id:u,option:s,note:o,attachedFileUrl:r},e.addData(p),t.next=25;break;case 12:if("attendance"!==e.about){t.next=25;break}if(Array.isArray(e.attendDate)?(x=(0,a.Z)(e.attendDate,2),h=x[0],_=x[1]):(h=e.attendDate,_=e.attendDate),0!==h.getDay()&&6!==h.getDay()){t.next=17;break}return b().fire({icon:"error",title:"\uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc5b4\uc694!",html:"\ud1a0 / \uc77c\uc694\uc77c\uc740 \uc800\uc7a5\uc774 \ubd88\uac00\ub2a5\ud569\ub2c8\ub2e4. <br>\ub0a0\uc9dc\ub97c \ud655\uc778, \ubcc0\uacbd\ud574\uc8fc\uc138\uc694",confirmButtonText:"\ud655\uc778",confirmButtonColor:"#85bd82"}),t.abrupt("return");case 17:if(v={num:c[0],name:c[1],option:s,note:o},g=[],j=h,h===_)w=H(h),u=w+c[0],g.push(u);else for(;j<=_;)0===j.getDay()||6===j.getDay()||(S=H(j),u=S+c[0],g.push(u)),j.setDate(j.getDate()+1);return N=JSON.parse(JSON.stringify(O)),g.forEach((function(e){0===(null===O||void 0===O?void 0:O.filter((function(t){return t.id===e}))).length&&N.push((0,m.Z)((0,m.Z)({},v),{},{id:e}))})),t.next=25,(0,C.pl)((0,C.JU)(k.wO,"attend",e.userUid),{attend_data:N});case 25:f="".concat(c[1]," \ud559\uc0dd\uc758 ").concat(s.slice(1)," \uc815\ubcf4\uac00 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \n(5\ucd08 \ud6c4 \ucc3d\uc774 \uc790\ub3d9\uc73c\ub85c \uc0ac\ub77c\uc9d1\ub2c8\ub2e4.)"),b().fire({icon:"success",title:"\uc800\uc7a5\ub418\uc5c8\uc5b4\uc694!",text:f,confirmButtonText:"\ud655\uc778",confirmButtonColor:"#85bd82",timer:5e3}),Z(!1),i(""),e.onClose();case 29:case"end":return t.stop()}var f,y}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(N,{selectOption:e.selectOption,showNote:function(e){Z(!0),u(e)}}),j&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("form",{id:"area-form",className:h,onSubmit:U,children:(0,S.jsx)(v.Z,{ref:E,id:"textArea",className:"attendForm-input",label:"inputData",input:{type:"textarea",placeholder:"\ube44\uace0\ub97c \uc785\ub825\ud558\uc138\uc694.",autoFocus:!0},defaultValue:"",onInput:function(t){return function(t){var n;"consulting"===e.about?n=500:"attendance"===e.about&&(n=30),t.target.value.length>n&&(t.target.value=t.target.value.substr(0,n),b().fire({icon:"error",title:"\uc785\ub825 \ubd88\uac00",text:"\uc785\ub825\ud55c \ub0b4\uc6a9\uc744 \uc904\uc5ec\uc8fc\uc138\uc694.",confirmButtonText:"\ud655\uc778",confirmButtonColor:"#85bd82",timer:5e3}))}(t)}})}),(0,S.jsxs)("div",{className:x,children:["consulting"===e.about?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("button",{className:_,onClick:function(){return M((function(e){return!e}))},children:(0,S.jsx)("i",{className:"fa-solid fa-rotate"})}),F?(0,S.jsx)(y.Z,{about:e.about,attachedFileHandler:function(e){i(e)}}):(0,S.jsx)(B,{userUid:e.userUid,uploadAudio:function(e){i(e)}})]}):(0,S.jsx)(y.Z,{about:e.about,attachedFileHandler:function(e){i(e)}}),(0,S.jsx)("button",{className:_,onClick:U,children:"\uc800\uc7a5"})]})]})]})},z=function(e){var t=(0,l.useState)(new Date),n=(0,a.Z)(t,2),f=n[0],m=n[1];return(0,S.jsxs)(u.Z,{onClose:e.onClose,addStyle:"attendHeight",children:[(0,S.jsxs)("div",{className:r,children:[(0,S.jsxs)("span",{children:[" ",e.who," "]}),(0,S.jsx)("span",{className:c,onClick:e.onClose,children:(0,S.jsx)("i",{className:"fa-regular fa-circle-xmark"})})]}),(0,S.jsxs)("div",{className:o,children:[" ",(0,S.jsx)(d.Z,{getDateValue:function(e){m(e)},about:e.about,isSubject:e.isSubject})]}),(0,S.jsx)("div",{className:s,children:"attendance"===e.about&&"*\uc2dc\uc791 \ub0a0\uc9dc\uc640 \ub05d \ub0a0\uc9dc\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694!"}),(0,S.jsx)("div",{className:i,children:(0,S.jsx)(T,{id:e.id,selectOption:e.selectOption,attendDate:f,about:e.about,addData:function(t){return e.addData(t)},userUid:e.userUid,who:e.who,onClose:e.onClose})})]})}},5729:function(e,t,n){n.d(t,{Z:function(){return u}});var a=n(885),r=n(7313),i="FileArea_fileArea__MQmcW",o="FileArea_previewImg__+SvF8",c=n(7785),s=n(6417),u=function(e){var t=(0,r.useState)(e.file||""),n=(0,a.Z)(t,2),u=n[0],l=n[1];return(0,s.jsxs)("div",{className:i,children:[u&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("img",{src:u,className:o,alt:"filePreview"})}),"attendance"!==e.about&&(0,s.jsx)(c.Z,{attachedFileHandler:function(t){e.attachedFileHandler(t),l(t)}})]})}},7785:function(e,t,n){n.d(t,{Z:function(){return l}});var a=n(4165),r=n(5861),i=n(885),o=n(7313),c="FileForm_fileUploadBtn__r9msD",s=n(2964),u=n(6417),l=function(e){var t=(0,o.useState)(""),n=(0,i.Z)(t,2),l=n[0],d=n[1],f=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={maxSizeMb:1,maxWidthOrHeight:900},e.next=4,(0,s.Z)(t,n);case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var t=(0,r.Z)((0,a.Z)().mark((function t(n){var r,i,o;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=n.target.files[0])){t.next=8;break}return t.next=4,f(r);case 4:i=t.sent,(o=new FileReader).onloadend=function(t){d(t.currentTarget.result),e.attachedFileHandler(t.currentTarget.result)},o.readAsDataURL(i);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("label",{id:"attachedFile",htmlFor:"attachFile",className:c,onClick:function(){l&&d("")},children:l?"\ucd08\uae30\ud654&\uc774\ubbf8\uc9c0\ucd94\uac00":"\uc774\ubbf8\uc9c0 \ucd94\uac00"}),(0,u.jsx)("input",{type:"file",accept:"image/*",onChange:m,style:{display:"none"},id:"attachFile"})]})}},4484:function(e,t,n){n.d(t,{Z:function(){return u}});var a=n(1413),r=n(885),i=n(7313),o={"class-subject":"Input_class-subject__E+qGy","rowcolumn-input":"Input_rowcolumn-input__MzKWZ","simsim-Text":"Input_simsim-Text__7+u+1","meetSum-Text":"Input_meetSum-Text__0ijY3","class-memo":"Input_class-memo__eXBTy","attendForm-input":"Input_attendForm-input__KLvku","memo-section":"Input_memo-section__CGRYR","simsimMain-input":"Input_simsimMain-input__TVHos","board-input":"Input_board-input__2xPzk","board-input-half":"Input_board-input-half__Lu9st","fs-80px":"Input_fs-80px__t0quj","fs-70px":"Input_fs-70px__ZcOO7","fs-60px":"Input_fs-60px__QNEgw","fs-50px":"Input_fs-50px__GEaU0","fs-40px":"Input_fs-40px__OICBO"},c=n(6417),s=void 0,u=i.forwardRef((function(e,t){var n=(0,i.useRef)(null),u=(0,i.useState)(""),l=(0,r.Z)(u,2),d=l[0],f=l[1],m=(0,i.useState)(""),p=(0,r.Z)(m,2),h=p[0],_=p[1];(0,i.useEffect)((function(){f("")}),[]),(0,i.useEffect)((function(){f(e.defaultValue)}),[e.defaultValue]);var x=(0,i.useCallback)((function(){var t=25;return"40px"===e.fontSize?t=9:"50px"===e.fontSize?t=8:"60px"===e.fontSize?t=7:"70px"===e.fontSize?t=6:"80px"===e.fontSize&&(t=5),+t}),[]),v=function(){f(n.current.value)};(0,i.useEffect)((function(){!0===e.showOn?_("1"):!1===e.showOn?_("0"):_(e.showOn)}),[e.showOn]),(0,i.useEffect)((function(){b()}),[h]),(0,i.useEffect)((function(){n.current.style.height=e.startheight}),[e.startheight]);var g=function(){var t=x(),a=n.current.value.split("\n"),r=Math.ceil((n.current.clientWidth-50)/(+e.fontSize.slice(0,2)+2)),i=Math.ceil((n.current.clientHeight-50)/(+e.fontSize.slice(0,2)+8)),o=+Math.floor(r*i),c=a.length;a.forEach((function(e){var t=Math.floor(e.length/r);t>1&&(c+=t)})),c>t?e.maxRowAlert("enter"):n.current.value.length>o&&e.maxRowAlert("length")};(0,i.useEffect)((function(){""!==e.fontSize&&void 0!==e.fontSize&&g()}),[e.fontSize]);var b=(0,i.useCallback)((function(t){if(null!==n&&null!==n.current){if(e.alarm)return window.scrollTo(0,n.current.scrollHeight),void g();n.current.style.height="10px",n.current.style.height=n.current.scrollHeight-13+"px"}}),[]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("label",{htmlFor:e.input.id}),"textarea"===e.input.type?(0,c.jsx)("textarea",(0,a.Z)((0,a.Z)({id:e.id,ref:n},e.input),{},{className:o[e.className],onKeyDown:function(){return b(s)},onKeyUp:function(){return b(s)},onClick:function(){return b(s)},value:d||"",onInput:e.onInput,required:!!e.required,onChange:v,placeholder:e.placeholder||""}),"textArea"+e.myKey):(0,c.jsx)("input",(0,a.Z)((0,a.Z)({id:e.input.id,type:e.input.type,required:!!e.required,className:o[e.className],onInput:e.onInput,ref:n},e.input),{},{value:d||"",onChange:v,placeholder:e.placeholder||""}),e.myKey)]})}))},3451:function(e,t,n){var a=n(7313),r=n(1168),i=n(9334),o=n(6417),c=function(e){return(0,o.jsx)("div",{className:i.Z.backdrop,onClick:e.onClose})},s=function(e){return(0,o.jsx)("div",{className:"".concat(i.Z.modal," ").concat(e.addStyle?i.Z[e.addStyle]:""),children:(0,o.jsx)("div",{className:i.Z.content,children:e.children})})},u=document.getElementById("overlays");t.Z=function(e){return(0,o.jsxs)(a.Fragment,{children:[r.createPortal((0,o.jsx)(c,{onClose:e.onClose}),u),r.createPortal((0,o.jsx)(s,{addStyle:e.addStyle,children:e.children}),u)]})}},3776:function(e,t,n){n.d(t,{Z:function(){return o}});n(7313);var a="Student_div__ROh5A",r=n(7405),i=n(6417),o=function(e){var t;return(0,i.jsx)("div",{className:a,children:e.students&&(null===(t=e.students)||void 0===t?void 0:t.map((function(t){return(0,i.jsx)(r.Z,{className:"button-student",name:t.name,num:t.num,onShowOption:e.showOption},t.num)})))})}},7405:function(e,t,n){n.d(t,{Z:function(){return i}});n(7313);var a={"button-student":"StudentBtn_button-student__Ck98o","checklist-student":"StudentBtn_checklist-student__cWFAm"},r=n(6417),i=function(e){return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("button",{className:a[e.className],onClick:e.onShowOption,children:[e.num," ",e.name]})})}},571:function(e,t,n){n.d(t,{Z:function(){return s}});n(7313);var a=n(3451),r="ExampleModal_xmark__aUZiP",i="ExampleModal_img-div__6WVX9",o="ExampleModal_img__oJEG0",c=n(6417),s=function(e){return(0,c.jsxs)(a.Z,{onClose:e.onClose,children:[(0,c.jsx)("span",{onClick:e.onClose,className:r,children:(0,c.jsx)("i",{className:"fa-regular fa-circle-xmark"})}),(0,c.jsx)("div",{children:e.text}),(0,c.jsx)("div",{className:i,children:(0,c.jsx)("img",{src:e.imgSrc,className:o,alt:"exampleGif"})}),(0,c.jsx)("div",{children:e.bottomText})]})}},9334:function(e,t){t.Z={backdrop:"Modal_backdrop__uI0d0",modal:"Modal_modal__T0oz4","slide-down":"Modal_slide-down__qIoYG",fadeModal:"Modal_fadeModal__2kPt8",addOverflow:"Modal_addOverflow__sGPDg",showCopyCal:"Modal_showCopyCal__DKN68",attendHeight:"Modal_attendHeight__8KIeR"}}}]);