"use strict";(self.webpackChunkchecks_cool=self.webpackChunkchecks_cool||[]).push([[176],{3776:(e,t,l)=>{l.d(t,{Z:()=>o});l(7313);const n="Student_div__ROh5A";var i=l(7405),a=l(6417);const o=e=>{var t;return(0,a.jsx)("div",{className:n,children:e.students&&(null===(t=e.students)||void 0===t?void 0:t.map((t=>{var l;return(0,a.jsx)(i.Z,{className:e.manageEach?"button-student-manageEach":"button-student",classAdd:(null===(l=e.passStudent)||void 0===l?void 0:l.split(" ")[1])===t.name,manageEach:e.manageEach,name:t.name,num:t.num,woman:t.woman,onShowOption:t=>{e.showOption(t),t.target+="add"}},t.num)})))})}},7405:(e,t,l)=>{l.d(t,{Z:()=>a});l(7313);const n={"button-student":"StudentBtn_button-student__Ck98o","button-student-manageEach":"StudentBtn_button-student-manageEach__Wrput","checklist-student":"StudentBtn_checklist-student__cWFAm",woman:"StudentBtn_woman__y6FbR"};var i=l(6417);const a=e=>(0,i.jsxs)("button",{className:"".concat(n[e.className]," ").concat(e.classAdd&&"clicked"," ").concat(!e.woman&&n.woman),id:"std-".concat(e.num," ").concat(e.name),onClick:t=>{e.onShowOption(t)},title:null===e||void 0===e?void 0:e.title,children:[e.num," ",e.name]},"stdBtn-".concat(e.num," ").concat(e.name))},3176:(e,t,l)=>{l.r(t),l.d(t,{default:()=>x});var n=l(7313),i=l(2118),a=l(658),o=l.n(a),s=l(650),d=l(573),c=l(7890),r=l(2184),u=l(7692),v=l(8737),m=l(7114),h=l.n(m),p=l(6797),f=l(6417);const x=e=>{var t,l,a,m,x,g,j,_,b;const[w,N]=(0,n.useState)(""),[k,S]=(0,n.useState)(""),[Z,E]=(0,n.useState)([]),[y,B]=(0,n.useState)([]),[M,C]=(0,n.useState)([]),[H,q]=(0,n.useState)([]),[Y,O]=(0,n.useState)(""),[U,F]=(0,n.useState)(""),[P,R]=(0,n.useState)(null),[D,L]=(0,n.useState)(!1),[I,T]=(0,n.useState)([]),[W,A]=(0,n.useState)({}),[J,X]=(0,n.useState)(null),{state:z}=(0,c.TH)(),Q=e=>{let t=(null===e||void 0===e?void 0:e.length)>0?e:new Date;return o()(t).format("MM-DD")<="02-15"?String(+o()(t).format("YYYY")-1):o()(t).format("YYYY")},G=(t=>{let l;var n,i,a;e.isSubject&&(l=null===(n=e.isSubject)||void 0===n||null===(i=n.filter((e=>Object.keys(e)[0]===t)))||void 0===i||null===(a=i[0])||void 0===a?void 0:a[t]);return l})(Q());(0,n.useEffect)((()=>{(async()=>{E([]);let t=(0,d.JU)(s.wO,"attend",e.userUid);const l=await(0,d.QT)(t);(0,d.cf)(t,(e=>{if(l.exists()){var t,n,i;let l=[];null===(t=e.data())||void 0===t||null===(n=t.attend_data)||void 0===n||n.forEach((e=>{var t,n;e.id?l.push(e):null===(t=Object.values(e))||void 0===t||null===(n=t[0])||void 0===n||n.forEach((t=>{var n;l.push({...t,clName:null===(n=Object.keys(e))||void 0===n?void 0:n[0]})}))})),l=null===(i=l)||void 0===i?void 0:i.filter((e=>Q(e.id.slice(0,10))===Q())),E([...l.sort(((e,t)=>e.id.slice(0,10)>t.id.slice(0,10)?1:-1))])}}))})()}),[e.userUid]),(0,n.useEffect)((()=>{T([]);let e=[];var t,l,n;(O(""),""!==w)?e=G?(null===Z||void 0===Z||null===(t=Z.filter((e=>{var t;return e.name===(null===w||void 0===w||null===(t=w.split(" "))||void 0===t?void 0:t[1])&&e.clName===k})))||void 0===t?void 0:t.sort(((e,t)=>e.id.slice(0,10)>t.id.slice(0,10)?1:-1)))||[]:(null===Z||void 0===Z||null===(l=Z.filter((e=>{var t;return e.name===(null===w||void 0===w||null===(t=w.split(" "))||void 0===t?void 0:t[1])})))||void 0===l?void 0:l.sort(((e,t)=>e.id.slice(0,10)>t.id.slice(0,10)?1:-1)))||[]:e=G?(null===Z||void 0===Z||null===(n=Z.filter((e=>e.clName===k)))||void 0===n?void 0:n.sort(((e,t)=>e.id.slice(0,10)>t.id.slice(0,10)?1:-1)))||[]:[...Z].sort(((e,t)=>e.id.slice(0,10)>t.id.slice(0,10)?1:-1));B(e),C(e),(e=>{let t=null===e||void 0===e?void 0:e.map((e=>e.option.slice(1)));q(t)})(e)}),[w,Z,k]),(0,n.useEffect)((()=>{F(""),O("")}),[k]),(0,n.useEffect)((()=>{let e=null===z||void 0===z?void 0:z.student,t=null===z||void 0===z?void 0:z.clName;""!==e&&e&&N(e),""!==t&&S(t)}),[z]);function K(e){return e.sort(((e,t)=>e.name<t.name?-1:e.name>t.name?1:0))}(0,n.useEffect)((()=>{if(F(""),R(null),""===Y)C(y);else{let e=null===y||void 0===y?void 0:y.filter((e=>e.option.slice(1)===Y));C(e)}}),[Y]),(0,n.useEffect)((()=>{if(R(null),O(""),""===U)C(y);else{let e=null===y||void 0===y?void 0:y.filter((e=>+e.id.slice(5,7)===U));C(e)}}),[U]);const V=(e,t)=>null===e||void 0===e?void 0:e.filter((e=>{if("one"===t&&P!==e.name)return!1;if("cl"===t&&(null===e||void 0===e?void 0:e.clName)!==k)return!1;let l=!1;return void 0!==(null===e||void 0===e?void 0:e.paper)?null!==e&&void 0!==e&&e.paper||(l=!0):null!==e&&void 0!==e&&e.request&&null!==e&&void 0!==e&&e.report||(l=!0),l}));(0,n.useEffect)((()=>{if(null===P)return;let e;F(""),O(""),e=""!==P?V(y,"one"):V(y),C(K(e))}),[P]);(0,n.useEffect)((()=>{var t;T([]),0!==(null===(t=Object.keys(W))||void 0===t?void 0:t.length)&&(async t=>{let l=(0,d.JU)(s.wO,"attend",e.userUid);await(0,d.pl)(l,t)})(W)}),[W]);const $=async t=>{if("all"!==t&&0===(null===I||void 0===I?void 0:I.length))return;if(0===(null===y||void 0===y?void 0:y.length))return;let l=[...I],n=[...Z];const i=async t=>{var i;"all"===t?(n=[],null===Z||void 0===Z||Z.forEach((e=>{var t;e.name!==(null===w||void 0===w||null===(t=w.split(" "))||void 0===t?void 0:t[1])?n.push(e):l.push(e.id)}))):n=null===(i=n)||void 0===i?void 0:i.filter((e=>!I.includes(e.id)));try{null===l||void 0===l||l.forEach((t=>{let l="".concat(e.userUid,"/attend/").concat(t);const n=(0,p.iH)(s.Hw,l);(0,p.aF)(n).then((e=>{e.items.forEach((async e=>{await(0,p.oq)((0,p.iH)(s.Hw,e._location.path))}))}))}))}catch(a){console.log(a)}A({attend_data:n})};var a,o;"all"===t?h().fire({icon:"warning",title:"\uc804\uccb4 \uc0ad\uc81c\ud560\uae4c\uc694?",text:"".concat(null===w||void 0===w||null===(a=w.split(" "))||void 0===a?void 0:a[1]," \ud559\uc0dd\uc758 \ucd9c\uacb0 \uae30\ub85d\uc744 \ubaa8\ub450 \uc0ad\uc81c\ud560\uae4c\uc694? \uc0ad\uc81c \ud6c4\uc5d0\ub294 \uae30\ub85d\uc744 \ubcf5\uad6c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc2e0\uc911\ud788 \uc120\ud0dd\ud574\uc8fc\uc138\uc694!"),confirmButtonText:"\uc0ad\uc81c",confirmButtonColor:"#85bd82",denyButtonText:"\ucde8\uc18c",showDenyButton:!0}).then((async e=>{e.isConfirmed&&(L(!1),await i("all"))})):h().fire({icon:"warning",title:"\uc120\ud0dd \uc0ad\uc81c\ud560\uae4c\uc694?",text:"".concat(null===w||void 0===w||null===(o=w.split(" "))||void 0===o?void 0:o[1]," \ud559\uc0dd\uc758 \uc120\ud0dd\ub41c \ucd9c\uacb0 \uae30\ub85d\uc744 \uc0ad\uc81c\ud560\uae4c\uc694? \uc0ad\uc81c \ud6c4\uc5d0\ub294 \uae30\ub85d\uc744 \ubcf5\uad6c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc2e0\uc911\ud788 \uc120\ud0dd\ud574\uc8fc\uc138\uc694!"),confirmButtonText:"\ud655\uc778",confirmButtonColor:"#85bd82",denyButtonText:"\ucde8\uc18c",showDenyButton:!0}).then((async e=>{e.isConfirmed&&(L(!1),await i("checked"))}))},ee=async t=>{if("delete"!==t){var l;let e=[...Z];e=null===(l=e)||void 0===l?void 0:l.map((e=>{let l=e;return e.id===J.id&&(l[t]=!(null!==l&&void 0!==l&&l[t])),l}));A({attend_data:e})}else"delete"===t&&h().fire({title:"\uc790\ub8cc \uc0ad\uc81c \ud655\uc778",text:"\ucd9c\uacb0 \uc790\ub8cc\ub97c \uc815\ub9d0 \uc0ad\uc81c\ud560\uae4c\uc694? \uc0ad\uc81c\ud55c \uc790\ub8cc\ub294 \ubcf5\uad6c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",icon:"warning",confirmButtonText:"\uc0ad\uc81c",denyButtonText:"\ucde8\uc18c",showDenyButton:!0}).then((t=>{if(t.isConfirmed){var l;X(null);let t=[...Z];t=null===(l=t)||void 0===l?void 0:l.filter((e=>e.id!==J.id));try{let t="".concat(e.userUid,"/attend/").concat(J.id);const l=(0,p.iH)(s.Hw,t);(0,p.aF)(l).then((e=>{e.items.forEach((async e=>{await(0,p.oq)((0,p.iH)(s.Hw,e._location.path))}))}))}catch(n){console.log(n)}A({attend_data:t})}}))};function te(e,t){fetch(e).then((e=>e.blob())).then((e=>{const l=window.URL.createObjectURL(e),n=document.createElement("a");n.href=l,n.download=t,n.click(),window.URL.revokeObjectURL(l)})).catch((e=>{}))}const le=()=>{h().fire("\ub2e4\uc6b4\ub85c\ub4dc\uc911...","\ubaa8\ub4e0 \ud30c\uc77c\uc744 \ub2e4\uc6b4\ubc1b\uace0 \uc788\uc2b5\ub2c8\ub2e4. \ud574\ub2f9 \ud30c\uc77c\uc774 \ub2e4\uc6b4\ub85c\ub4dc \ub418\ub294 \ud3f4\ub354\ub294 \uae30\uae30/\ube0c\ub77c\uc6b0\uc800 \uc124\uc815\ub9c8\ub2e4 \ub2e4\ub97c \uc218 \uc788\uc73c\ub2c8 \ud655\uc778\ud574\uc8fc\uc138\uc694! \ubb38\uc81c\uac00 \uc9c0\uc18d\ub420 \uacbd\uc6b0 kerbong@gmail.com\uc73c\ub85c \uc54c\ub824\uc8fc\uc138\uc694!","info")},ne=()=>{h().fire("\uc11c\ub958 \uc5c6\uc74c","\uc800\uc7a5\ub41c \uc11c\ub958\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc544\uc694! \ub85c\uadf8\uc778 \ud558\uc2e0 \uacc4\uc815\uc744 \ud655\uc778\ud574\uc8fc\uc2dc\uace0, \ud30c\uc77c\uc744 \uc5c5\ub85c\ub4dc \ud55c \uac83\uc774 \ub9de\ub294\uc9c0 \ud655\uc778\ud574\uc8fc\uc138\uc694. \ubb38\uc81c\uac00 \uc9c0\uc18d\ub420 \uacbd\uc6b0 kerbong@gmail.com\uc73c\ub85c \uc54c\ub824\uc8fc\uc138\uc694!","warning")},ie=()=>{h().fire("\uc11c\ub958 \uc5c6\uc74c","\ud574\ub2f9 \ub0a0\uc9dc\uc5d0 \uc800\uc7a5\ub41c \uc11c\ub958\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc544\uc694! \ud639\uc2dc \uc5ec\ub7ec \ub0a0\uc9dc\uc758 \ucd9c\uacb0\uc815\ubcf4(\uae30\uac04\uc73c\ub85c \uc785\ub825\ub41c) \uc778 \uacbd\uc6b0, \ud574\ub2f9 \ucd9c\uacb0\uc758 \uac00\uc7a5 \ucc98\uc74c \ub0a0\uc9dc\uc5d0 \ub370\uc774\ud130\uac00 \uc800\uc7a5\ub429\ub2c8\ub2e4. \ubb38\uc81c\uac00 \uc9c0\uc18d\ub420 \uacbd\uc6b0 kerbong@gmail.com\uc73c\ub85c \uc54c\ub824\uc8fc\uc138\uc694!","warning")},ae=async(t,l)=>{try{let i;if("all"===l)i=(0,p.iH)(s.Hw,"".concat(e.userUid,"/attend/")),(0,p.aF)(i).then((async t=>{var l,n;if(0===(null===(l=t.prefixes)||void 0===l?void 0:l.length))return void ne();let i;null===(n=t.prefixes)||void 0===n||n.forEach((t=>{i=(0,p.iH)(s.Hw,"".concat(e.userUid,"/attend/").concat(t.name)),(0,p.aF)(i).then((async e=>{var t;if(0!==(null===(t=e.items)||void 0===t?void 0:t.length)){le();for(const t of e.items){const e=await(0,p.Jt)((0,p.iH)(s.Hw,t._location.path));if(e){var l,n,i;let a=null===t||void 0===t||null===(l=t.fullPath)||void 0===l||null===(n=l.split("attend/"))||void 0===n?void 0:n[1];te(e,(null===a||void 0===a?void 0:a.slice(0,10))+" "+(null===a||void 0===a||null===(i=a.split("/"))||void 0===i?void 0:i[1]))}}}else ie()})).catch((e=>{console.log(e)}))}))})).catch((e=>{console.log(e)}));else{var n;let a=+(null===l||void 0===l||null===(n=l.split(" "))||void 0===n?void 0:n[0]);isNaN(+a)?(i=(0,p.iH)(s.Hw,"".concat(e.userUid,"/attend/").concat(t.id)),(0,p.aF)(i).then((async e=>{var t;if(0!==(null===(t=e.items)||void 0===t?void 0:t.length)){le();for(const t of e.items){const e=await(0,p.Jt)((0,p.iH)(s.Hw,t._location.path));if(e){var l,n,i;let a=null===t||void 0===t||null===(l=t.fullPath)||void 0===l||null===(n=l.split("attend/"))||void 0===n?void 0:n[1];te(e,(null===a||void 0===a?void 0:a.slice(0,10))+" "+(null===a||void 0===a||null===(i=a.split("/"))||void 0===i?void 0:i[1]))}}}else ie()})).catch((e=>{console.log(e)}))):(i=(0,p.iH)(s.Hw,"".concat(e.userUid,"/attend/")),(0,p.aF)(i).then((async t=>{var l,n;if(0===(null===(l=t.prefixes)||void 0===l?void 0:l.length))return void ne();let i,o=0;null===(n=t.prefixes)||void 0===n||n.forEach((t=>{var l,n,d;+(null===(l=t.name)||void 0===l||null===(n=l.split(" "))||void 0===n||null===(d=n[0])||void 0===d?void 0:d.slice(10))===+a&&(i=(0,p.iH)(s.Hw,"".concat(e.userUid,"/attend/").concat(t.name)),(0,p.aF)(i).then((async e=>{var t;if(0!==(null===(t=e.items)||void 0===t?void 0:t.length)){le();for(const t of e.items){const e=await(0,p.Jt)((0,p.iH)(s.Hw,t._location.path));if(e){var l,n,i;let a=null===t||void 0===t||null===(l=t.fullPath)||void 0===l||null===(n=l.split("attend/"))||void 0===n?void 0:n[1];te(e,(null===a||void 0===a?void 0:a.slice(0,10))+" "+(null===a||void 0===a||null===(i=a.split("/"))||void 0===i?void 0:i[1])),o+=1}}}else ie()})).catch((e=>{console.log(e)})))})),0===o&&ne()})).catch((e=>{console.log(e)})))}}catch(i){ne()}};return(0,f.jsxs)("div",{children:[(0,f.jsx)(i.Z,{students:e.students,userUid:e.userUid,isSubject:e.isSubject,selectStudentHandler:e=>{N(e)},clName:k,passStudent:w,nowClassNameHandler:e=>{S(e)}}),(0,f.jsxs)("ul",{className:"".concat(r.Z["bottom-content-ul"]," ").concat(r.Z["flex-wrap"]),children:[w&&(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:r.Z["flex-wrap"],children:[(0,f.jsxs)("li",{className:r.Z["bottom-content-li"],style:{minWidth:"200px"},children:[(0,f.jsx)("div",{className:r.Z["fs-22-bold"],style:0!==(null===y||void 0===y?void 0:y.length)?{margin:"15px"}:{},children:w}),0!==(null===y||void 0===y?void 0:y.length)&&(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("button",{className:r.Z["search-btns"],onClick:()=>ae(void 0,w),title:'"'.concat(w,'" \uc73c\ub85c \uc5c5\ub85c\ub4dc \ub41c \ubaa8\ub4e0 \uc11c\ub958\ub97c \ub2e4\uc6b4\ud569\ub2c8\ub2e4.'),style:{marginLeft:"15px",fontSize:"0.7rem"},children:[(0,f.jsx)("i",{className:"fa-solid fa-download"}),"\uc11c\ub958"]})}),(0,f.jsx)("hr",{className:r.Z["margin-15"]}),0===(null===y||void 0===y?void 0:y.length)?(0,f.jsx)("div",{className:"".concat(r.Z["fs-13"]," ").concat(r.Z["margin-15"]),children:"\uac1c\uadfc\uc785\ub2c8\ub2e4!"}):(0,f.jsxs)("div",{children:[(0,f.jsx)(u.Z,{id:"whole",className:""===Y?"sortBtn-clicked":"sortBtn",name:"\uc804\uccb4(".concat(null===H||void 0===H?void 0:H.length,")"),onclick:()=>{O("")}},"whole"),null===(t=[...new Set(H)])||void 0===t?void 0:t.map((e=>(0,f.jsx)(u.Z,{id:e,className:Y===e?"sortBtn-clicked":"sortBtn",name:"".concat(e," (").concat(null===H||void 0===H?void 0:H.filter((t=>t===e)).length,")"),onclick:()=>{O(e)}},e)))]})]}),(null===y||void 0===y?void 0:y.length)>0&&!G&&(0,f.jsx)("li",{className:r.Z["bottom-content-li"],style:{minWidth:"100px"},children:(0,f.jsxs)("div",{className:r.Z["flex-d-column"],children:[(0,f.jsx)(u.Z,{id:"attend-delete",className:"sortBtn",name:D?"\ud655\uc778":"\uc804\uccb4\uc0ad\uc81c",style:{backgroundColor:D?"#ff5a70":"#da9a9a"},onclick:()=>{$(D?"checked":"all")}}),(0,f.jsx)(u.Z,{id:"attend-delete",className:"sortBtn",name:D?"\ucde8\uc18c":"\uc120\ud0dd\uc0ad\uc81c",style:{backgroundColor:D?"gray":"#da9a9a"},onclick:()=>{D?(T([]),L(!1)):L(!0)}})]})})]}),D&&(0,f.jsx)("p",{style:{color:"white"},children:"* \uc0ad\uc81c\ud560 \ucd9c\uacb0\uc790\ub8cc\ub97c \uc120\ud0dd\ud558\uc2dc\uace0 \ud655\uc778\uc744 \ub20c\ub7ec\uc8fc\uc138\uc694."}),(0,f.jsx)("div",{className:r.Z["btns-div"],style:{flexWrap:"wrap"},children:null===M||void 0===M?void 0:M.map((e=>{var t;return(0,f.jsxs)("li",{id:e.id,className:"".concat(r.Z["bottom-content-li"]," ").concat((null===I||void 0===I||null===(t=I.filter((t=>t===e.id)))||void 0===t?void 0:t.length)>0?r.Z["list-clicked"]:""),onClick:()=>{D?(e=>{var t;let l=(null===I||void 0===I||null===(t=I.filter((t=>t===e.id)))||void 0===t?void 0:t.length)>0,n=[...I];var i,a;l?n=null===(i=n)||void 0===i?void 0:i.filter((t=>t!==e.id)):null===(a=n)||void 0===a||a.push(e.id),T(n)})(e):X(J?null:e)},style:{width:"260px",padding:"25px"},children:[(0,f.jsxs)("div",{className:r.Z["flex-ml-10"],children:[e.id.slice(0,10),void 0!==(null===e||void 0===e?void 0:e.paper)&&(0,f.jsx)("i",{className:"fa-solid fa-circle-check fa-xl",style:e.paper?{color:"#ff5a71",margin:"0 10px",cursor:"help"}:{color:"#cacaca",margin:"0 10px"},title:"\uc5c5\ub85c\ub4dc \ub41c \uc11c\ub958 \ub2e4\uc6b4\ubc1b\uae30",onClick:t=>{t.stopPropagation(),null!==e&&void 0!==e&&e.paper&&ae(e,"\uc11c\ub958")}}),void 0!==(null===e||void 0===e?void 0:e.request)&&(0,f.jsx)(u.Z,{className:null!==e&&void 0!==e&&e.request?"reqRepSub-btn-s-clicked":"reqRepSub-btn-s",name:"\uc2e0",title:"\uc5c5\ub85c\ub4dc \ub41c \uc11c\ub958 \ub2e4\uc6b4\ubc1b\uae30",onclick:t=>{t.stopPropagation(),null!==e&&void 0!==e&&e.request&&ae(e,"\uc2e0\uccad\uc11c")}}),void 0!==(null===e||void 0===e?void 0:e.report)&&(0,f.jsx)(u.Z,{className:null!==e&&void 0!==e&&e.report?"reqRepSub-btn-s-clicked":"reqRepSub-btn-s",name:"\ubcf4",title:"\uc5c5\ub85c\ub4dc \ub41c \uc11c\ub958 \ub2e4\uc6b4\ubc1b\uae30",onclick:t=>{t.stopPropagation(),null!==e&&void 0!==e&&e.report&&ae(e,"\ubcf4\uace0\uc11c")}})]}),(0,f.jsxs)("div",{className:r.Z["fs-13"],children:[e.option.slice(1)," * ",e.note||""]}),(0,f.jsxs)("div",{className:"".concat(r.Z["attendEdit-div"]," ").concat((null===J||void 0===J?void 0:J.id)===e.id?r.Z.show:""),children:[void 0!==(null===e||void 0===e?void 0:e.paper)&&(0,f.jsx)("button",{className:r.Z["attend-edit-p"],onClick:()=>{ee("paper")},children:"\uc11c\ub958"}),void 0!==(null===e||void 0===e?void 0:e.request)&&(0,f.jsx)("button",{className:r.Z["attend-edit-p"],onClick:()=>{ee("request")},children:"\uc2e0\uccad\uc11c"}),void 0!==(null===e||void 0===e?void 0:e.report)&&(0,f.jsx)("button",{className:r.Z["attend-edit-p"],onClick:()=>{ee("report")},children:"\ubcf4\uace0\uc11c"}),(0,f.jsx)("button",{className:r.Z["attend-edit-d"],onClick:e=>{e.stopPropagation(),ee("delete")},children:"\uc0ad\uc81c"}),(0,f.jsx)("button",{className:r.Z["attend-edit-c"],children:"\ucde8\uc18c"})]})]},"".concat(e.id).concat(k||""))}))}),0===(null===y||void 0===y?void 0:y.length)&&(0,f.jsx)("li",{className:r.Z["bottom-content-li"],children:"* \ud559\uc0dd\uc758 \ucd9c\uacb0\uae30\ub85d\uc774 \uc5c6\uc5b4\uc694!"})]}),""===w&&(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:r.Z["flex-wrap"],style:{alignItems:"center"},children:[(0,f.jsxs)("li",{className:r.Z["bottom-content-li"],style:{minWidth:"350px"},children:[(0,f.jsxs)("div",{className:r.Z["flex-center-ml-10"],children:[(0,f.jsx)("span",{className:r.Z["fs-13-bold"],children:k?"\ucd9c\uacb0 \uc694\uc57d (".concat(k,")"):"\uc6b0\ub9ac\ubc18 \ucd9c\uacb0 \uc694\uc57d"}),"\xa0\xa0",(0,f.jsxs)("button",{className:r.Z["search-btns"],onClick:()=>{function e(e){return e.replace(/^0+/,"")}const t=(t,l)=>{const n=[];let i="paper"!==l?null===t||void 0===t?void 0:t.sort(((e,t)=>e.id.slice(0,10)>t.id.slice(0,10)?1:-1)):K(V(null===t||void 0===t?void 0:t.sort(((e,t)=>e.id.slice(0,10)>t.id.slice(0,10)?1:-1))));return null===i||void 0===i||i.forEach((t=>{let l=[+t.num,t.name,"".concat(e(t.id.slice(5,7)),"\uc6d4"),"".concat(e(t.id.slice(8,10)),"\uc77c"),void 0===(null===t||void 0===t?void 0:t.paper)?"-":null!==t&&void 0!==t&&t.paper?"\uc81c\ucd9c":"\ubbf8\uc81c\ucd9c",void 0===(null===t||void 0===t?void 0:t.request)?"-":null!==t&&void 0!==t&&t.request?"\uc81c\ucd9c":"\ubbf8\uc81c\ucd9c",void 0===(null===t||void 0===t?void 0:t.report)?"-":null!==t&&void 0!==t&&t.report?"\uc81c\ucd9c":"\ubbf8\uc81c\ucd9c",t.option.slice(1),t.note];G&&l.unshift(t.clName),n.push(l)})),G?n.unshift(["\ubc18","\ubc88\ud638","\uc774\ub984","\ub0a0\uc9dc(\uc6d4)","\ub0a0\uc9dc(\uc77c)","\uc11c\ub958\uc81c\ucd9c","\uc2e0\uccad\uc11c\uc81c\ucd9c","\ubcf4\uace0\uc11c\uc81c\ucd9c","\ucd9c\uacb0\uc635\uc158","\ube44\uace0"]):n.unshift(["\ubc88\ud638","\uc774\ub984","\ub0a0\uc9dc(\uc6d4)","\ub0a0\uc9dc(\uc77c)","\uc11c\ub958\uc81c\ucd9c","\uc2e0\uccad\uc11c\uc81c\ucd9c","\ubcf4\uace0\uc11c\uc81c\ucd9c","\ucd9c\uacb0\uc635\uc158","\ube44\uace0"]),n},l=t(Z),n=v.P6.book_new(),i=v.P6.aoa_to_sheet(l);i["!cols"]=[{wpx:30},{wpx:60},{wpx:50},{wpx:50},{wpx:60},{wpx:60},{wpx:60},{wpx:60},{wpx:100}],G&&i["!cols"].unshift({wpx:30}),v.P6.book_append_sheet(n,i,"\ucd9c\uacb0\uae30\ub85d");const a=t(Z,"paper"),s=v.P6.aoa_to_sheet(a);s["!cols"]=[{wpx:30},{wpx:60},{wpx:50},{wpx:50},{wpx:60},{wpx:60},{wpx:100}],G&&s["!cols"].unshift({wpx:30}),v.P6.book_append_sheet(n,s,"\ubbf8\uc81c\ucd9c"),(0,v.NC)(n,"".concat(Q(),"\ud559\ub144\ub3c4 \ucd9c\uacb0\uae30\ub85d(").concat(o()().format("YYYY-MM-DD"),").xlsx"))},title:"\ucd9c\uacb0 \ub370\uc774\ud130 \uc5d1\uc140\ud30c\uc77c\ub85c \uc800\uc7a5\ud558\uae30",style:{fontSize:"0.7rem"},children:[(0,f.jsx)("i",{className:"fa-solid fa-download"}),"\uc5d1\uc140"]})]}),(0,f.jsx)("hr",{className:r.Z["margin-15"]}),0===(null===y||void 0===y?void 0:y.length)?(0,f.jsx)("div",{className:"".concat(r.Z["fs-13"]," ").concat(r.Z["margin-15"]),children:"* \ud559\uae09\uc758 \ucd9c\uacb0 \uc790\ub8cc\uac00 \uc5c6\uc5b4\uc694!"}):(0,f.jsx)("div",{children:(0,f.jsxs)("div",{children:[(0,f.jsx)(u.Z,{id:"whole",className:""===Y?"sortBtn-clicked":"sortBtn",name:"\uc804\uccb4(".concat(null===H||void 0===H?void 0:H.length,")"),onclick:()=>{O("")}}),null===(l=[...new Set(H)])||void 0===l?void 0:l.map((e=>(0,f.jsx)(u.Z,{id:e,className:Y===e?"sortBtn-clicked":"sortBtn",name:"".concat(e," (").concat(null===H||void 0===H?void 0:H.filter((t=>t===e)).length,")"),onclick:()=>{O(e)}},e)))]})})]}),0!==(null===y||void 0===y?void 0:y.length)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("li",{className:r.Z["bottom-content-li"],children:[(0,f.jsx)("b",{children:"\uc6d4\ubcc4\ub85c \ubcf4\uae30"}),(0,f.jsx)("hr",{className:r.Z["margin-15"]}),(0,f.jsx)(u.Z,{id:"\ubaa8\ub4e0 \ub2ec",className:""===U?"sortBtn-clicked":"sortBtn",name:"\ubaa8\ub4e0 \ub2ec (".concat(null===y||void 0===y?void 0:y.length,")"),onclick:()=>{F("")}}),null===(a=G?[...new Set(null===Z||void 0===Z||null===(x=Z.filter((e=>(null===e||void 0===e?void 0:e.clName)===k)))||void 0===x?void 0:x.map((e=>+e.id.slice(5,7))))]:[...new Set(null===Z||void 0===Z?void 0:Z.map((e=>+e.id.slice(5,7))))])||void 0===a||null===(m=a.sort(((e,t)=>e>t?1:-1)))||void 0===m?void 0:m.map((e=>{var t;return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(u.Z,{id:"".concat(e,"\uc6d4"),className:U===e?"sortBtn-clicked":"sortBtn",name:"".concat(e,"\uc6d4 (").concat(null===y||void 0===y||null===(t=y.filter((t=>+t.id.slice(5,7)===e)))||void 0===t?void 0:t.length,")"),onclick:()=>{F(e)}},"".concat(e,"\uc6d4"))})}))]}),(0,f.jsxs)("li",{className:r.Z["bottom-content-li"],children:[(0,f.jsxs)("div",{className:r.Z["flex-center-ml-10"],children:[(0,f.jsx)("b",{style:{whiteSpace:"nowrap"},children:"\uc11c\ub958 \ubbf8\uc81c\ucd9c"}),(0,f.jsxs)("button",{className:r.Z["search-btns"],onClick:()=>ae(void 0,"all"),title:"\uc5c5\ub85c\ub4dc \ub41c \ubaa8\ub4e0 \uc81c\ucd9c\ub41c \uc11c\ub958\ub97c \ub2e4\uc6b4\ud569\ub2c8\ub2e4.",style:{marginLeft:"5px",whiteSpace:"nowrap",fontSize:"0.7rem"},children:[(0,f.jsx)("i",{className:"fa-solid fa-download"}),"\uc11c\ub958"]})]}),(0,f.jsx)("hr",{className:r.Z["margin-15"]}),(0,f.jsx)(u.Z,{id:"\uc804\uccb4\ud559\uc0dd",className:""===P?"sortBtn-clicked":"sortBtn",name:"\uc804\uccb4",onclick:()=>{R("")}}),null===(g=G?[...new Set(null===(_=V(Z,"cl"))||void 0===_?void 0:_.map((e=>e.name)))]:[...new Set(null===(b=V(Z))||void 0===b?void 0:b.map((e=>e.name)))])||void 0===g||null===(j=g.sort(((e,t)=>e>t?1:-1)))||void 0===j?void 0:j.map((e=>{var t;return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(u.Z,{id:"noPaper-".concat(e),className:P===e?"sortBtn-clicked":"sortBtn",name:"".concat(e," (").concat(null===Z||void 0===Z||null===(t=Z.filter((t=>{let l=!1;return t.name!==e||(void 0===(null===t||void 0===t?void 0:t.paper)||null!==t&&void 0!==t&&t.paper?(void 0===(null===t||void 0===t?void 0:t.request)||null!==t&&void 0!==t&&t.request||(l=!0),void 0===(null===t||void 0===t?void 0:t.report)||null!==t&&void 0!==t&&t.report||(l=!0)):l=!0),l})))||void 0===t?void 0:t.length,")"),onclick:()=>{R(e)}},"".concat(e))})}))]})]})]}),(0,f.jsx)("div",{className:r.Z["btns-div"],style:{flexWrap:"wrap",justifyContent:null!==P?"flex-start":"center"},children:null===M||void 0===M?void 0:M.map(((e,t)=>{var l;return(0,f.jsxs)(f.Fragment,{children:[t>0&&null!==P&&(null===(l=M[t-1])||void 0===l?void 0:l.name)!==e.name&&(0,f.jsx)("div",{style:{flexBasis:"100%"}},e.id+"div"),(0,f.jsxs)("li",{id:e.id,className:r.Z["bottom-content-li"],style:{width:"260px",padding:"25px"},onClick:()=>{X(J?null:e)},children:[(0,f.jsxs)("div",{className:r.Z["btns-div"],children:[e.id.slice(0,10),"\xa0\xa0",e.name,void 0!==(null===e||void 0===e?void 0:e.paper)&&(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("i",{className:"fa-solid fa-circle-check fa-xl",style:e.paper?{color:"#ff5a71",margin:"0 10px",cursor:"help"}:{color:"#cacaca",margin:"0 10px"},title:"\uc5c5\ub85c\ub4dc \ub41c \uc11c\ub958 \ub2e4\uc6b4\ubc1b\uae30",onClick:t=>{t.stopPropagation(),null!==e&&void 0!==e&&e.paper&&ae(e,"\uc11c\ub958")}})}),void 0!==(null===e||void 0===e?void 0:e.request)&&(0,f.jsx)(u.Z,{className:null!==e&&void 0!==e&&e.request?"reqRepSub-btn-s-clicked":"reqRepSub-btn-s",name:"\uc2e0",style:{marginLeft:"10px"},title:"\uc5c5\ub85c\ub4dc \ub41c \uc11c\ub958 \ub2e4\uc6b4\ubc1b\uae30",onclick:t=>{t.stopPropagation(),null!==e&&void 0!==e&&e.request&&ae(e,"\uc2e0\uccad\uc11c")}}),void 0!==(null===e||void 0===e?void 0:e.report)&&(0,f.jsx)(u.Z,{className:null!==e&&void 0!==e&&e.report?"reqRepSub-btn-s-clicked":"reqRepSub-btn-s",name:"\ubcf4",title:"\uc5c5\ub85c\ub4dc \ub41c \uc11c\ub958 \ub2e4\uc6b4\ubc1b\uae30",onclick:t=>{t.stopPropagation(),null!==e&&void 0!==e&&e.report&&ae(e,"\ubcf4\uace0\uc11c")}})]}),(0,f.jsxs)("div",{className:r.Z["fs-13"],children:[e.option.slice(1)," * ",e.note||""]}),(0,f.jsxs)("div",{className:"".concat(r.Z["attendEdit-div"]," ").concat((null===J||void 0===J?void 0:J.id)===e.id?r.Z.show:""),children:[void 0!==(null===e||void 0===e?void 0:e.paper)&&(0,f.jsx)("button",{className:r.Z["attend-edit-p"],onClick:()=>{ee("paper")},children:"\uc11c\ub958"}),void 0!==(null===e||void 0===e?void 0:e.request)&&(0,f.jsx)("button",{className:r.Z["attend-edit-p"],onClick:()=>{ee("request")},children:"\uc2e0\uccad\uc11c"}),void 0!==(null===e||void 0===e?void 0:e.report)&&(0,f.jsx)("button",{className:r.Z["attend-edit-p"],onClick:()=>{ee("report")},children:"\ubcf4\uace0\uc11c"}),(0,f.jsx)("button",{className:r.Z["attend-edit-d"],onClick:e=>{e.stopPropagation(),ee("delete")},children:"\uc0ad\uc81c"}),(0,f.jsx)("button",{className:r.Z["attend-edit-c"],children:"\ucde8\uc18c"})]})]},e.id)]})}))}),0===(null===y||void 0===y?void 0:y.length)&&(0,f.jsx)("li",{className:r.Z["bottom-content-li"],children:"* \ud559\uc0dd\uc758 \ucd9c\uacb0\uae30\ub85d\uc774 \uc5c6\uc5b4\uc694!"})]})]})]})}},2118:(e,t,l)=>{l.d(t,{Z:()=>v});var n=l(7313),i=l(3776),a=l(658),o=l.n(a),s=l(2184),d=l(7692),c=l(7890),r=l(6417);const u=e=>{const[t,l]=(0,n.useState)(""),[i,a]=(0,n.useState)(""),[o,u]=(0,n.useState)("");let v=(0,c.s0)();return(0,n.useEffect)((()=>{let e=window.location.href.split("/");l(e[e.length-1])}),[window.location.href]),(0,n.useEffect)((()=>{""!==e.onStudent&&a(e.onStudent)}),[e.onStudent]),(0,n.useEffect)((()=>{""!==e.clName&&u(e.clName)}),[e.clName]),(0,r.jsxs)("div",{className:s.Z["btns-div"],children:[(0,r.jsx)(d.Z,{name:"\ucd9c\uacb0",className:"manageAttendance"!==t?"manageBtn":"manageBtn-clicked",onclick:()=>v("/manageAttendance",{state:{student:i,clName:o||""}})}),(0,r.jsx)(d.Z,{name:"\uc0c1\ub2f4",className:"manageConsult"!==t?"manageBtn":"manageBtn-clicked",onclick:()=>v("/manageConsult",{state:{student:i,clName:o||""}})}),(0,r.jsx)(d.Z,{icon:"\uc81c\ucd9c/\uac1c\ubcc4",className:"manageCheckListMemo"!==t?"manageBtn":"manageBtn-clicked",onclick:()=>v("/manageCheckListMemo",{state:{student:i,clName:o||""}})}),(0,r.jsx)(d.Z,{name:"\uc815\ubcf4",className:"manageStudent"!==t?"manageBtn":"manageBtn-clicked",onclick:()=>v("/manageStudent",{state:{student:i,clName:o||""}})})]})},v=e=>{var t;const[l,a]=(0,n.useState)(""),[d,c]=(0,n.useState)(""),[v,m]=(0,n.useState)([]),[h,p]=(0,n.useState)([]),[f,x]=(0,n.useState)(!1),g=(0,n.useRef)();(0,n.useEffect)((()=>{if(""!==l){let e=document.getElementById("std-".concat(l));null===e||void 0===e||e.classList.remove("none"),null===e||void 0===e||e.classList.add("clicked")}}),[l]);const j=e=>{let t=(null===e||void 0===e?void 0:e.length)>0?e:new Date;return o()(t).format("MM-DD")<="02-15"?String(+o()(t).format("YYYY")-1):o()(t).format("YYYY")};(0,n.useEffect)((()=>{let t=(t=>{let l;var n,i,a;return e.isSubject&&(l=null===(n=e.isSubject)||void 0===n||null===(i=n.filter((e=>Object.keys(e)[0]===t)))||void 0===i||null===(a=i[0])||void 0===a?void 0:a[t]),l})(j());x(t)}),[e.isSubject]),(0,n.useEffect)((()=>{var t,l,n;let i=j(),a=null===e||void 0===e||null===(t=e.students)||void 0===t||null===(l=t.filter((e=>Object.keys(e)[0]===i)))||void 0===l||null===(n=l[0])||void 0===n?void 0:n[i];(null===a||void 0===a?void 0:a.length)>0?p(a):p([])}),[e.students]);return(0,n.useEffect)((()=>{null===h||void 0===h||h.forEach((e=>{Object.keys(e)[0]===d&&m(Object.values(e)[0])})),""===d&&m([]),e.nowClassNameHandler(d)}),[d]),(0,n.useEffect)((()=>{e.selectStudentHandler(l)}),[l]),(0,n.useEffect)((()=>{c(e.clName),a("")}),[e.clName]),(0,n.useEffect)((()=>{""!==e.passStudent&&a(e.passStudent)}),[e.passStudent]),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:f&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("select",{ref:g,onChange:()=>{let e=g.current.value;c(e)},className:s.Z["class-select"],value:d,children:[(0,r.jsx)("option",{value:"",children:"--\ud559\uae09--"}),null===h||void 0===h?void 0:h.map((e=>(0,r.jsx)("option",{value:Object.keys(e),children:Object.keys(e)},Object.keys(e))))]}),""===(null===g||void 0===g||null===(t=g.current)||void 0===t?void 0:t.value)&&"* \ud559\uae09\uc744 \uba3c\uc800 \uc120\ud0dd\ud574\uc8fc\uc138\uc694."]})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(i.Z,{students:f?v:h,showOption:e=>{let t=e.target.innerText;if(a(l===t?"":t),""!==l){let e=document.getElementById("std-".concat(l));null===e||void 0===e||e.classList.remove("clicked"),null===e||void 0===e||e.classList.add("none")}},isSubject:e.isSubject,manageEach:!0,passStudent:e.passStudent}),!f&&(!h||0===(null===h||void 0===h?void 0:h.length))&&(0,r.jsxs)(r.Fragment,{children:["\ud604\uc7ac \ud559\ub144\ub3c4\uc758 \uae30\ucd08\uc790\ub8cc\ub97c \uba3c\uc800 \uc785\ub825\ud574\uc8fc\uc138\uc694. ",(0,r.jsx)("br",{}),"(\ud559\ub144\ub3c4 \uae30\uc900 \uc608: 2023.02.16. ~ 2024.02.15.)",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"1. \ud504\ub85c\ud544 ( [\ud83d\udc64] - '\ud504\ub85c\ud544 \uc218\uc815' - '\uc800\uc7a5')",(0,r.jsx)("br",{})," 2. \ud559\uc0dd ( [\uba54\uc778\ud654\uba74] - '\ud559\uc0dd\ub4f1\ub85d' )",(0,r.jsx)("br",{})," ",(0,r.jsx)("br",{})]}),f&&(!v||0===(null===v||void 0===v?void 0:v.length))&&(0,r.jsxs)(r.Fragment,{children:["\ud604\uc7ac \ud559\ub144\ub3c4\uc758 \uae30\ucd08\uc790\ub8cc\ub97c \uba3c\uc800 \uc785\ub825\ud574\uc8fc\uc138\uc694. ",(0,r.jsx)("br",{}),"(\ud559\ub144\ub3c4 \uae30\uc900 \uc608: 2023.02.16. ~ 2024.02.15.)",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"1. \ud504\ub85c\ud544 ( [\ud83d\udc64] - '\ud504\ub85c\ud544 \uc218\uc815' - '\uc800\uc7a5')",(0,r.jsx)("br",{})," 2. \ud559\uc0dd ( [\uba54\uc778\ud654\uba74] - '\ud559\uc0dd\ub4f1\ub85d' )",(0,r.jsx)("br",{})," ",(0,r.jsx)("br",{})]})]}),(0,r.jsx)(u,{onStudent:l,clName:d}),(0,r.jsx)("div",{})]})}},2184:(e,t,l)=>{l.d(t,{Z:()=>n});const n={"class-select":"ManageEach_class-select__IlQlu","flex-d-column":"ManageEach_flex-d-column__Dh-Iq","btns-div":"ManageEach_btns-div__Zivma","padd-5":"ManageEach_padd-5__-MakG","bottom-content-ul":"ManageEach_bottom-content-ul__xXaZv","bottom-content-li":"ManageEach_bottom-content-li__S8Tge","flex-ml-10":"ManageEach_flex-ml-10__whmHW","attendEdit-div":"ManageEach_attendEdit-div__7u3SK",show:"ManageEach_show__HHbXY","fs-13":"ManageEach_fs-13__7gMai","fs-15":"ManageEach_fs-15__stlkn","fs-11":"ManageEach_fs-11__dIRN5","fs-9":"ManageEach_fs-9__jSAIp","fs-13-bold":"ManageEach_fs-13-bold__HBo6n","clicked-title":"ManageEach_clicked-title__-ZVjL","search-title":"ManageEach_search-title__wX5x6","search-btns":"ManageEach_search-btns__aYFXS","flex-wrap":"ManageEach_flex-wrap__NnIS9","margin-15":"ManageEach_margin-15__R8DcB","margin-5":"ManageEach_margin-5__IctPu","flex-center-ml-10":"ManageEach_flex-center-ml-10__fmq5p","flex-center":"ManageEach_flex-center__Ent-o","width-max400":"ManageEach_width-max400__8b-OH","attend-edit-p":"ManageEach_attend-edit-p__SvrxQ","attend-edit-d":"ManageEach_attend-edit-d__-GFUJ","attend-edit-c":"ManageEach_attend-edit-c__XExyE","a-link":"ManageEach_a-link__oahRi",excelfileUploadBtn:"ManageEach_excelfileUploadBtn__vkRXS","list-clicked":"ManageEach_list-clicked__4v6iy","span-left":"ManageEach_span-left__PWcvA","onStudent-name":"ManageEach_onStudent-name__5dz+H","fs-22-bold":"ManageEach_fs-22-bold__Irb6D"}}}]);