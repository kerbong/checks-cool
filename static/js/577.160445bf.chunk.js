"use strict";(self.webpackChunkchecks_cool=self.webpackChunkchecks_cool||[]).push([[577],{5729:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(885),r=n(7313),a="FileArea_fileArea__MQmcW",s="FileArea_previewImg__+SvF8",l=n(7785),o=n(6417),c=function(e){var t=(0,r.useState)(e.file||""),n=(0,i.Z)(t,2),c=n[0],d=n[1];return(0,o.jsxs)("div",{className:a,children:[c&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("img",{src:c,className:s,alt:"filePreview"})}),"attendance"!==e.about&&(0,o.jsx)(l.Z,{attachedFileHandler:function(t){e.attachedFileHandler(t),d(t)},src:c,about:e.about})]})}},7785:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(4165),r=n(5861),a=n(885),s=n(7313),l="FileForm_fileUploadBtn__r9msD",o=n(2964),c=n(6417),d=function(e){var t=(0,s.useState)(e.src||""),n=(0,a.Z)(t,2),d=n[0],u=n[1],f=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(t){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={maxSizeMb:1,maxWidthOrHeight:900},e.next=4,(0,o.Z)(t,n);case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var t=(0,r.Z)((0,i.Z)().mark((function t(n){var r,a,s;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=n.target.files[0])){t.next=8;break}return t.next=4,f(r);case 4:a=t.sent,(s=new FileReader).onloadend=function(t){u(t.currentTarget.result),e.attachedFileHandler(t.currentTarget.result)},s.readAsDataURL(a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("label",{id:"attachedFile",htmlFor:"attachFile",className:l,onClick:function(){d&&u("")},style:"padIt"===e.about?{backgroundColor:"#687f7f"}:{},children:d?"\ucd08\uae30\ud654&\uc774\ubbf8\uc9c0\ucd94\uac00":"\uc774\ubbf8\uc9c0 \ucd94\uac00"}),(0,c.jsx)("input",{type:"file",accept:"image/*",onChange:v,style:{display:"none"},id:"attachFile"})]})}},7577:function(e,t,n){n.r(t),n.d(t,{default:function(){return ge}});var i=n(2982),r=n(4165),a=n(5861),s=n(885),l=n(7313),o=n(650),c=n(573),d=n(1095),u=n(7114),f=n.n(u),v=n(658),m=n.n(v),p=function(e){var t=e.date,n=m()(),i=m()(t),r=n.diff(i,"day"),a=n.diff(i,"month");return r<0?"\ubbf8\ub798??":r<1?"\uc624\ub298":1===r?"\uc5b4\uc81c":a<1?"".concat(r,"\uc77c \uc804"):"".concat(a,"\ub2ec \uc804")},x="PadIt_flex-center__7siD7",h="PadIt_flex-center-wrap__sohPC",j="PadIt_flex-center-all__tf081",g="PadIt_flex-end__ges3F",Z="PadIt_flex-col-center__NwjrM",w="PadIt_margin10__CxXXZ",N="PadIt_margin10-wid95__LA37d",y="PadIt_minwid-250__N2eKM",_="PadIt_memoAdd-input__5s-Z5",b="PadIt_flex-around-80__-SPun",S="PadIt_fs-2rem__BA7cq",C="PadIt_fs-17rem__Kz9qD",k="PadIt_fs-14rem__X5YiX",I="PadIt_margin-10-0-5-0__s5t9s",F="PadIt_padRoomPw-p__cjwZZ",T="PadIt_li-btn__H2oTP",P="PadIt_li__kanMp",D="PadIt_bgcolor-div__Q+TKl",U="PadIt_add-btn__eIGk7",H="PadIt_ul__FLabr",O="PadIt_closeBtn__3UWNS",B="PadIt_color-area__TaUDy",A="PadIt_color-area-clicked__atu9R",E="PadIt_ex-title__+RnlZ",L="PadIt_color-span__Jat76",M="PadIt_date__ah4LB",Y="PadIt_section-title__xW2gm",q="PadIt_select__9wQjw",J="PadIt_dropdown-li-nonehover__XckCB",R="PadIt_toggleSwitch__BY1fu",z="PadIt_toggleButton__6z0JP",W="PadIt_active__w3DKR",Q="PadIt_previewImg__iWeUh",G="PadIt_explainDiv__N3zOA",V="PadIt_explainDivHide__4gcc5",K=n(1413),X=n(3451),$=n(4484),ee=n(5729),te=n(6417),ne=["#FFACAC","#FFD9AC","#FFFFAC","#BDFFAC","#ACDEFF","#C8ACFF","#FFFFFF"],ie=function(e){var t=e.onClose,n=e.delMemoHandler,i=e.addMemoHandler,r=e.nowMemo,a=e.data,o=e.isTeacher,c=e.gridTemplate,d=e.sectionNames,u=e.isSaving,v=(0,l.useState)("#FFACAC"),m=(0,s.Z)(v,2),p=m[0],x=m[1],h=(0,l.useState)(!1),g=(0,s.Z)(h,2),w=g[0],y=g[1],b=(0,l.useState)(""),S=(0,s.Z)(b,2),C=S[0],k=S[1],I=(0,l.useRef)();(0,l.useEffect)((function(){r&&(y(!0),x(r.bgColor))}),[r]);var F=function(e,t){var n,i;e.target.value.length>t&&(e.target.value=e.target.value.substr(0,t),n="\uc785\ub825 \ubd88\uac00",i="\uae00\uc790\uc218\ub97c \ucd08\uacfc\ud588\uc5b4\uc694! \ub0b4\uc6a9\uc744 ".concat(t,"\uc790 \uc774\ub0b4\ub85c \uc904\uc5ec\uc8fc\uc138\uc694."),f().fire({icon:"error",title:n,text:i,confirmButtonText:"\ud655\uc778",confirmButtonColor:"#85bd82",timer:5e3}))};(0,l.useEffect)((function(){a&&(y(!0),x(a.bgColor))}),[a]),(0,l.useEffect)((function(){w&&(document.querySelector(".modal").style.backgroundColor=p)}),[w]);var P=function(e,t){var n,i=null===e||void 0===e?void 0:e.match(/https?:\/\/[^\s]+/g),r=e;t&&i?r=null===(n=r=i.join("\n"))||void 0===n?void 0:n.replace(/https?:\/\/[^\s]+/g,"<a href=".concat(r,' target="_blank">').concat(r,"</a>")):t&&!i&&(r="");return r};return(0,te.jsx)(te.Fragment,{children:(0,te.jsxs)("div",{children:[(0,te.jsx)("span",{className:O,style:{display:"flex",justifyContent:"flex-end"},onClick:function(){t()},children:(0,te.jsx)("i",{className:"fa-regular fa-circle-xmark"})}),(0,te.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u||(w?i(e,p,C,a):i(e,p,C))},className:Z,children:[(!a||o||a.userInfo===localStorage.getItem("padUserInfo"))&&(0,te.jsxs)(te.Fragment,{children:[!c&&(0,te.jsx)("div",{className:N,children:(0,te.jsxs)("select",{name:"option",defaultValue:(null===a||void 0===a?void 0:a.grid)||"",className:q,children:[(0,te.jsx)("option",{value:"",children:"-\uc139\uc158 \uc120\ud0dd-"}),null===d||void 0===d?void 0:d.map((function(e,t){return(0,te.jsxs)("option",{value:e,children:[" ",e]},t)}))]})}),(0,te.jsx)("div",{className:N,children:(0,te.jsx)("input",{type:"text",name:"title",required:!0,placeholder:o?"\uc81c\ubaa9":"\uc131\uacfc \uc774\ub984\uc744 \ud3ec\ud568\ud55c \uc81c\ubaa9 (\uc608 - \uae40\uc9c0\uc218 \uc785\ub2c8\ub2e4)",title:"\uc81c\ubaa9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",className:_,autoFocus:!0,defaultValue:a?a.title:""})}),(0,te.jsx)("hr",{style:{width:"96%",margin:"13px"}}),(0,te.jsxs)("div",{className:N,children:[(0,te.jsx)($.Z,{myKey:"text-input",className:"memoAdd-textarea",label:"insteadText",input:{name:"text",type:"textarea",required:!0},onInput:function(e){return F(e,500)},required:!0,placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",defaultValue:a?a.text:""}),a&&(0,te.jsx)("span",{ref:I,style:{wordBreak:"break-all"},dangerouslySetInnerHTML:{__html:P(a.text,!0)}}),(0,te.jsx)("p",{children:"* \ub9c1\ud06c\uc8fc\uc18c\ub97c \ubd99\uc5ec\ub123\uc740 \ud6c4\uc5d0\ub294 \ud55c \uce78\uc744 \ub744\uc6cc\uc8fc\uc138\uc694!"})]}),(0,te.jsx)("div",{className:N,style:{justifyContent:"center"},children:(0,te.jsx)(ee.Z,{about:"padIt",attachedFileHandler:function(e){k(e)},file:(null===a||void 0===a?void 0:a.fileUrl)||""})}),(0,te.jsxs)("div",{className:N,style:{justifyContent:"space-between"},children:[(0,te.jsxs)("div",{className:"".concat(j," ").concat(D," "),children:[(0,te.jsx)("span",{className:L,children:"\ubc30\uacbd"}),ne.map((function(e,t){return(0,te.jsx)("span",{onClick:function(){return x(e)},className:p!==e?B:A,style:{backgroundColor:e}},t)}))]}),w&&(0,te.jsx)("input",{type:"button",name:"delete",value:"\uc0ad\uc81c",className:T,onClick:function(e){u||n(a)}}),(0,te.jsx)("input",{type:"submit",value:w?"\uc218\uc815":"\ucd94\uac00",className:T})]})]}),a&&!o&&a.userInfo!==localStorage.getItem("padUserInfo")&&(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)("div",{className:N,style:{fontSize:"1.5rem",padding:"15px"},children:a.title}),(0,te.jsx)("hr",{style:{width:"96%",margin:"13px"}}),(0,te.jsx)("div",{className:N,style:{fontSize:"1.3rem",padding:"15px"},children:(0,te.jsx)("span",{ref:I,style:{wordBreak:"break-all"},dangerouslySetInnerHTML:{__html:P(a.text,!1)}})}),(null===a||void 0===a?void 0:a.fileUrl)&&(0,te.jsx)("div",{className:N,style:{justifyContent:"center"},children:(0,te.jsx)("img",{src:C,className:Q,alt:"filePreview"})})]})]})]})})},re=n(4636),ae=n(790),se=n(5987),le=["withOpacity","isDragging","style","data","isTeacher"],oe=(0,l.forwardRef)((function(e,t){var n,i,r=e.withOpacity,a=e.isDragging,s=e.style,l=e.data,o=e.isTeacher,c=(0,se.Z)(e,le),d=isNaN(+l.id)?(0,K.Z)((0,K.Z)({maxWidth:"250px",width:"80%",borderRadius:"10px",padding:"20px 10px"},s),{},{backgroundColor:"#ffffff"}):(0,K.Z)({opacity:r?"0.5":"1",transformOrigin:"50% 50%",height:"auto",maxWidth:"230px",width:"80%",borderRadius:"10px",padding:"20px 10px",cursor:a?"grabbing":"grab",backgroundColor:"#ffffff",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:a?"rgb(63 63 68 / 5%) 0px 2px 0px 2px, rgb(34 33 81 / 15%) 0px 2px 3px 2px":"rgb(63 63 68 / 5%) 0px 0px 0px 1px, rgb(34 33 81 / 15%) 0px 1px 3px 0px",transform:a?"scale(1.15)":"scale(1)"},s),u=(n=null===l||void 0===l?void 0:l.text,i=50,(null===n||void 0===n?void 0:n.length)>i?(null===n||void 0===n?void 0:n.substring(0,i))+"...":n);return(0,te.jsx)("div",(0,K.Z)((0,K.Z)({ref:t,style:d},c),{},{children:isNaN(+l.id)?(0,te.jsx)("div",{className:Z,style:{width:"90%"}}):(0,te.jsxs)("div",{className:Z,style:{width:"90%",height:"auto"},children:[(0,te.jsx)("span",{className:k,children:l.title}),o&&(0,te.jsx)("span",{className:M,children:l.createdAt}),(0,te.jsx)("hr",{style:{width:"100%",margin:"20px 5px"}}),(0,te.jsx)("span",{style:{wordBreak:"break-all"},children:u})]})}))})),ce=(0,l.forwardRef)((function(e,t){var n=(0,re.nB)({id:e.id}),i=n.isDragging,r=n.attributes,a=n.listeners,s=n.setNodeRef,l=n.transform,o=n.transition,c={transform:ae.ux.Transform.toString(l),transition:o||void 0,backgroundColor:e.color,height:i?"100px":"auto"};return(0,te.jsx)(oe,(0,K.Z)((0,K.Z)((0,K.Z)({ref:s,style:c,withOpacity:i},e),r),a))})),de=function(e){var t=e.children,n=e.columns,i=e.styles;return(0,te.jsx)("div",{style:(0,K.Z)({display:"grid",gridTemplateColumns:"repeat(".concat(n,", 1fr)"),gridGap:10,width:"95%",margin:"40px auto",justifyItems:"center",alignItems:"start",height:"max-content"},i),children:t})},ue=n(7731),fe=n(6797),ve=n(7753),me=n(5162),pe=function(e){var t=e.onClose,n=e.addSectionHandler,i=e.existName,r=e.delSectionHandler,a=(0,l.useState)(i||""),o=(0,s.Z)(a,2),c=o[0],d=o[1];return(0,te.jsxs)("div",{children:[(0,te.jsx)("span",{className:O,style:{display:"flex",justifyContent:"flex-end"},onClick:function(){t()},children:(0,te.jsx)("i",{className:"fa-regular fa-circle-xmark"})}),(0,te.jsx)("form",{onSubmit:function(e){e.preventDefault(),0!==c.trim().length&&n(c)},className:Z,children:(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)("div",{className:Y,style:{backgroundColor:"inherit"},children:i?"\uc139\uc158\uc774\ub984 \uc218\uc815\ud558\uae30":"\uc139\uc158 \ucd94\uac00\ud558\uae30"}),(0,te.jsx)("hr",{style:{width:"96%",margin:"13px"}}),(0,te.jsxs)("div",{className:N,style:{justifyContent:"center"},children:[(0,te.jsx)("input",{type:"text",required:!0,placeholder:"\uc0c8\ub85c \ucd94\uac00\ud560 \uc139\uc158\uc758 \uc774\ub984\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",className:_,style:{width:"80%",textAlign:"center"},autoFocus:!0,onChange:function(e){var t=e.target.value;d(t)},value:c}),(0,te.jsx)("p",{children:i?"* \uc0ad\uc81c \ubc84\ud2bc\uc744 \ub204\ub974\uc2dc\uba74, \ud604\uc7ac \uc139\uc158\uc758 \ubaa8\ub4e0 \ub370\uc774\ud130\ub3c4 \uc0ad\uc81c\ub429\ub2c8\ub2e4.":"* \ucd94\uac00 \ubc84\ud2bc\uc744 \ub204\ub974\uc2dc\uba74, \ubc14\ub85c \uc139\uc158\uc774 \ucd94\uac00\ub429\ub2c8\ub2e4."})]}),(0,te.jsxs)("div",{className:N,style:i?{justifyContent:"space-between"}:{justifyContent:"end"},children:[i&&(0,te.jsx)("input",{type:"button",name:"delete",value:"\uc0ad\uc81c",className:T,onClick:function(e){r(i)}}),(0,te.jsx)("input",{type:"submit",value:i?"\uc218\uc815":"\ucd94\uac00",className:T})]})]})})]})},xe=function(e){var t,n,d,u,v,p,h=e.padDatas,j=e.padName,Z=e.onClose,w=e.isTeacher,N=e.padSectionNames,y=e.padDatasHandler,_=e.students,b=e.userUid,S=(e.clName,(0,l.useState)(!1)),k=(0,s.Z)(S,2),I=k[0],F=k[1],T=(0,l.useState)(!0),P=(0,s.Z)(T,2),D=P[0],H=P[1],B=(0,l.useState)(null),A=(0,s.Z)(B,2),E=A[0],L=A[1],M=(0,ve.Dy)((0,ve.VT)(ve.MA),(0,ve.VT)(ve.LO)),q=(0,l.useState)(window.innerWidth),J=(0,s.Z)(q,2),R=J[0],z=J[1],W=(0,l.useState)([]),Q=(0,s.Z)(W,2),G=Q[0],V=Q[1],$=(0,l.useState)(!1),ee=(0,s.Z)($,2),ne=ee[0],ae=ee[1],se=(0,l.useState)({}),le=(0,s.Z)(se,2),xe=le[0],he=le[1],je=(0,l.useState)(!1),ge=(0,s.Z)(je,2),Ze=ge[0],we=ge[1],Ne=(0,l.useState)([]),ye=(0,s.Z)(Ne,2),_e=ye[0],be=ye[1],Se=(0,l.useState)(null),Ce=(0,s.Z)(Se,2),ke=Ce[0],Ie=Ce[1],Fe=(0,l.useState)(!1),Te=(0,s.Z)(Fe,2),Pe=Te[0],De=Te[1],Ue=(0,l.useState)(""),He=(0,s.Z)(Ue,2),Oe=He[0],Be=He[1],Ae=(0,l.useState)(!1),Ee=(0,s.Z)(Ae,2),Le=Ee[0],Me=Ee[1],Ye=(0,l.useState)({}),qe=(0,s.Z)(Ye,2),Je=qe[0],Re=qe[1],ze=(0,l.useState)([]),We=(0,s.Z)(ze,2),Qe=We[0],Ge=We[1],Ve=(0,l.useState)(!1),Ke=(0,s.Z)(Ve,2),Xe=Ke[0],$e=Ke[1];(0,l.useEffect)((function(){var e=function(){z(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,l.useEffect)((function(){0===N.length?be(["0"]):be(N)}),[N]),(0,l.useEffect)((function(){0!==h.length&&V(h)}),[h]);var et=(0,l.useRef)(0),tt=(0,l.useCallback)((function(e){et.current=Date.now(),we(!1),L(e.active.id)}),[]),nt=function(e){var t,n=Date.now()-et.current,i=null===G||void 0===G||null===(t=G.filter((function(t){return t.id===e.active.id})))||void 0===t?void 0:t[0];if(10<n&&n<300)he(i),ae(!0);else{var r;ae(!1),he({}),we(!0);var a=localStorage.getItem("padUserInfo");if(!w&&a!==i.userInfo)return;e.active.id!==(null===(r=e.over)||void 0===r?void 0:r.id)&&V(ke?function(t){var n=null===t||void 0===t?void 0:t.map((function(t){return t.id!==e.active.id?t:(0,K.Z)((0,K.Z)({},t),{},{grid:ke})}));return y(n,_e),n}:function(t){var n=t.findIndex((function(t){return t.id===e.active.id})),i=t.findIndex((function(t){var n;return t.id===(null===(n=e.over)||void 0===n?void 0:n.id)})),r=(0,re.Rp)(t,n,i);return y(r,_e),r})}L(null)},it=(0,l.useCallback)((function(){L(null)}),[]),rt=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,fe.oq)((0,fe.iH)(o.Hw,t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),at=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,a,s){var l,c,d,u,f,v,p,x,h,j;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),l=t.target.title.value,c=t.target.text.value,d=D?"":t.target.option.value,""!==(null===l||void 0===l?void 0:l.trim())&&""!==(null===c||void 0===c?void 0:c.trim())){e.next=6;break}return e.abrupt("return");case 6:if(D||""!==(null===d||void 0===d?void 0:d.trim())){e.next=8;break}return e.abrupt("return");case 8:if($e(!0),u="",""===a){e.next=17;break}return e.next=13,(0,fe.sf)((0,fe.iH)(o.Hw,"".concat(b,"/").concat((0,me.Z)())),a,"data_url");case 13:return f=e.sent,e.next=16,(0,fe.Jt)(f.ref);case 16:u=e.sent;case 17:h=D?"0":d,s?(p={title:l,text:c,userInfo:s.userInfo,createdAt:m()().format("MM-DD HH:mm"),bgColor:n,grid:h,id:s.id,fileUrl:u},x=(0,i.Z)(G),j=x.findIndex((function(e){return e.id===s.id})),x.splice(j,1,p),ae(!1)):((v=localStorage.getItem("padUserInfo"))||(v=(0,me.Z)(),localStorage.setItem("padUserInfo",v)),p={title:l,text:c,userInfo:v,createdAt:m()().format("MM-DD HH:mm"),bgColor:n,grid:h,id:String(G.length),fileUrl:u},F(!1),(x=(0,i.Z)(G)).push(p)),V(x),y(x,_e),$e(!1);case 22:case"end":return e.stop()}}),e)})));return function(t,n,i,r){return e.apply(this,arguments)}}(),st=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f().fire({icon:"warning",title:"\uba54\ubaa8\ub97c \uc0ad\uc81c\ud560\uae4c\uc694?",text:"".concat(t.title," \uc81c\ubaa9\uc758 \uba54\ubaa8\ub97c \uc0ad\uc81c\ud560\uae4c\uc694?"),confirmButtonText:"\ud655\uc778",showDenyButton:!0,denyButtonText:"\ucde8\uc18c",confirmButtonColor:"#85bd82"}).then((function(e){if(e.isConfirmed){var n,r;$e(!0),""!==t.fileUrl&&rt(t.fileUrl);var a=(0,i.Z)(G);a=null===(r=a=null===(n=a)||void 0===n?void 0:n.filter((function(e){return e.id!==t.id})))||void 0===r?void 0:r.map((function(e,t){return(0,K.Z)((0,K.Z)({},e),{},{id:String(t)})})),V(a),y(a,_e),ae(!1),$e(!1)}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){}),[ke]);var lt=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,c.JU)(o.wO,"checkLists",b),(0,c.cf)(t,(function(e){var t,n=(0,i.Z)(null===e||void 0===e||null===(t=e.data())||void 0===t?void 0:t.checkLists_data)||[],r={};null===n||void 0===n||n.forEach((function(e){(null===e||void 0===e?void 0:e.title)===j&&(r=e)})),Ge(n),Re(r)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){w&&""!==b&&lt()}),[w]);var ot=function(){return+m()().format("MM")<=2?String(+m()().format("YYYY")-1):m()().format("YYYY")},ct=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var s,l,d,u,v,m;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),console.log(n),s=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(s){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"sameTitle"!==s||n||f().fire({icon:"warning",title:"\ub3d9\uc77c\ud55c \uc81c\ubaa9 \uc874\uc7ac",text:"\uae30\uc874 \uc790\ub8cc\uc5d0 \ub3d9\uc77c\ud55c \uc81c\ubaa9\uc758 \uc790\ub8cc\uac00 \uc874\uc7ac\ud569\ub2c8\ub2e4. \uacc4\uc18d \uc800\uc7a5 \ud558\uc2dc\uaca0\uc5b4\uc694?",confirmButtonText:"\ud655\uc778",showDenyButton:!0,denyButtonText:"\ucde8\uc18c",confirmButtonColor:"#85bd82"}).then((function(e){e.isConfirmed&&o(),e.isDenied})),o=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var n,a,s,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((null===l||void 0===l?void 0:l.length)>0)){e.next=13;break}return n=(0,K.Z)((0,K.Z)({},t),{},{yearGroup:ot()}),a=(0,i.Z)(l),s=void 0,a.forEach((function(e,t){e.id===n.id&&(s=t)})),void 0===s?a.push(n):(null!==t&&void 0!==t&&t.new_id&&delete(n=(0,K.Z)((0,K.Z)({},n),{},{id:t.new_id})).new_id,a[s]=n),a=a.filter((function(e){return null!==e.id&&"null"!==e.id})),e.next=9,(0,c.pl)(d,{checkLists_data:(0,i.Z)(a)});case 9:Re(t),Ge((0,i.Z)(a)),e.next=18;break;case 13:return o=(0,K.Z)((0,K.Z)({},t),{},{yearGroup:ot()}),e.next=16,(0,c.pl)(d,{checkLists_data:[o]});case 16:Re(t),Ge([o]);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),("new"===s||n)&&o();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=Qe,d=(0,c.JU)(o.wO,"checkLists",b),u=/ /gi,v=null===l||void 0===l?void 0:l.filter((function(e){return e.title.replace(u,"")===t.title.replace(u,"")&&e.id!==t.id})),m=null===l||void 0===l?void 0:l.filter((function(e){return e.title.replace(u,"")===t.title.replace(u,"")&&e.id===t.id})),(null===v||void 0===v?void 0:v.length)>0&&0===(null===m||void 0===m?void 0:m.length)?s("sameTitle"):s("new");case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),dt=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,i,a,s,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,c.JU)(o.wO,"checkLists",b),e.next=3,(0,c.QT)(a);case 3:return s=e.sent,l=null===s||void 0===s||null===(n=s.data())||void 0===n?void 0:n.checkLists_data,i=null===l||void 0===l?void 0:l.filter((function(e){return e.id!==t.id})),e.next=8,(0,c.pl)((0,c.JU)(o.wO,"checkLists",b),{checkLists_data:i});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,te.jsxs)("div",{children:[I&&(0,te.jsx)(X.Z,{onClose:function(){return F(!1)},children:(0,te.jsx)(ie,{onClose:function(){return F(!1)},addMemoHandler:at,gridTemplate:D,sectionNames:_e,isSaving:Xe})}),ne&&(0,te.jsx)(X.Z,{onClose:function(){return ae(!1)},children:(0,te.jsx)(ie,{onClose:function(){return ae(!1)},data:xe,isTeacher:w,addMemoHandler:at,delMemoHandler:st,gridTemplate:D,sectionNames:_e,isSaving:Xe})}),Pe&&(0,te.jsx)(te.Fragment,{children:(0,te.jsx)(X.Z,{onClose:function(){De(!1),Be("")},children:(0,te.jsx)(pe,{onClose:function(){De(!1),Be("")},addSectionHandler:function(e){if(!isNaN(+e))return f().fire("\uc800\uc7a5 \uc2e4\ud328","\uc22b\uc790\ub85c\ub9cc \uc774\ub8e8\uc5b4\uc9c4 \uc139\uc158\uc774\ub984\uc740 \ubd88\uac00\ub2a5\ud574\uc694!","warning"),!1;if(0===e.trim().length)return f().fire("\uc800\uc7a5 \uc2e4\ud328","\ube48\uce78\uc73c\ub85c \uc800\uc7a5\ud560 \uc218 \uc5c6\uc5b4\uc694! \uc139\uc158\uc758 \uc774\ub984\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.","warning"),!1;var t=(0,i.Z)(_e);if(t.includes(e))return f().fire("\uc800\uc7a5 \uc2e4\ud328","\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \uc139\uc158\uc774\ub984\uc785\ub2c8\ub2e4! \ud655\uc778\ud574\uc8fc\uc138\uc694!","warning"),!1;if(Oe){var n,r=null===(n=(0,i.Z)(G))||void 0===n?void 0:n.map((function(t){return t.grid!==Oe?t:(0,K.Z)((0,K.Z)({},t),{},{grid:e})})),a=t.indexOf(Oe);t.splice(a,1,e),be(t),V(r),y(r,t),De(!1),Be("")}else t.push(e),be(t),y(G,t)},delSectionHandler:function(e){f().fire({icon:"warning",title:"\uc139\uc158\uc744 \uc0ad\uc81c\ud560\uae4c\uc694?",text:"".concat(e," \uc81c\ubaa9\uc758 \uc139\uc158\uc744 \uc0ad\uc81c\ud560\uae4c\uc694? *(\uc8fc\uc758)* \uc0ad\uc81c\ud560 \uacbd\uc6b0 \uc139\uc158\uc5d0 \ud3ec\ud568\ub41c \ubaa8\ub4e0 \ub370\uc774\ud130\ub3c4 \ud568\uaed8 \uc0ad\uc81c\ub429\ub2c8\ub2e4."),confirmButtonText:"\ud655\uc778",showDenyButton:!0,denyButtonText:"\ucde8\uc18c",confirmButtonColor:"#85bd82"}).then((function(t){if(t.isConfirmed){var n,r,a,s=null===(n=(0,i.Z)(G))||void 0===n?void 0:n.filter((function(t){return t.grid!==e}));s=null===(r=s)||void 0===r?void 0:r.map((function(e,t){return(0,K.Z)((0,K.Z)({},e),{},{id:String(t)})}));var l=null===(a=(0,i.Z)(_e))||void 0===a?void 0:a.filter((function(t){return t!==e}));V(s),y(s,l),De(!1)}}))},existName:Oe})})}),Le&&(0,te.jsx)(X.Z,{onClose:function(){return Me(!1)},children:(0,te.jsx)(ue.Z,{students:_,onClose:function(){localStorage.setItem("itemId","null"),Me(!1)},saveItemHandler:function(e,t){ct(e,t),t||Me(!1)},unSubmitStudents:Je.unSubmitStudents,item:Je,removeData:dt,setItemNull:function(){},isSubject:!1,clName:""})}),(0,te.jsxs)("div",{className:g,children:[w&&""!==b&&(0,te.jsx)("div",{children:(0,te.jsxs)("span",{className:O,onClick:function(){return Me((function(e){return!e}))},style:{fontSize:"1rem"},children:[(0,te.jsx)("i",{className:"fa-regular fa-square-check"}),"\xa0 \uc81c\ucd9cox \ubcf4\uae30"]})}),(0,te.jsxs)("div",{children:[(0,te.jsx)("span",{className:O,onClick:function(){return H((function(e){return!e}))},style:{fontSize:"1rem"},children:D?(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)("i",{className:"fa-solid fa-grip-vertical"}),"\xa0 \uc139\uc158\uc2a4\ud0c0\uc77c"]}):(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)("i",{className:"fa-solid fa-grip"}),"\xa0 \uae30\ubcf8\uc2a4\ud0c0\uc77c"]})}),(0,te.jsxs)("span",{className:O,onClick:Z,style:{fontSize:"1rem"},children:[(0,te.jsx)("i",{className:"fa-solid fa-reply"})," \ub4a4\ub85c"]})]})]}),(0,te.jsx)("h1",{className:C,children:null===j||void 0===j?void 0:j.slice(10)}),0===G.length&&(0,te.jsxs)("div",{style:{marginTop:"20vh",color:"gray"},children:[(0,te.jsx)("p",{children:"\uc790\ub8cc\uac00 \uc5c6\uc5b4\uc694!"})," ",(0,te.jsx)("br",{}),(0,te.jsx)("p",{children:' \uc624\ub978\ucabd \uc544\ub798\uc758 "+" \ubc84\ud2bc\uc744 \ub20c\ub7ec\uc11c '}),(0,te.jsx)("br",{}),(0,te.jsx)("p",{children:"\uc790\ub8cc\ub97c \ucd94\uac00\ud574\uc8fc\uc138\uc694."})]}),D&&(0,te.jsxs)(ve.LB,{sensors:M,collisionDetection:ve.pE,onDragStart:tt,onDragEnd:nt,onDragCancel:it,children:[(0,te.jsx)(re.Fo,{items:G,strategy:re.U2,children:(0,te.jsx)(de,{columns:Math.floor(R/280),children:null===G||void 0===G?void 0:G.map((function(e){return(0,te.jsx)(ce,{id:e.id,isTeacher:w,color:e.bgColor,data:e},e.id)}))})}),(0,te.jsx)(ve.y9,{adjustScale:!0,style:{transformOrigin:"0 0 "},children:Ze&&E&&(0,te.jsx)(te.Fragment,{children:(0,te.jsx)(oe,{id:E,color:{backgroundColor:null===G||void 0===G||null===(t=G.filter((function(e){return e.id===E})))||void 0===t||null===(n=t[0])||void 0===n?void 0:n.bgColor},data:null===G||void 0===G||null===(d=G.filter((function(e){return e.id===E})))||void 0===d?void 0:d[0],isTeacher:w,isDragging:!0})})})]}),!D&&(0,te.jsxs)(ve.LB,{sensors:M,collisionDetection:ve.pE,onDragStart:tt,onDragEnd:nt,onDragCancel:it,onDragMove:function(e){var t,n,i,r,a,s=e.active,l=e.over;l&&null!==l&&void 0!==l&&null!==(t=l.data)&&void 0!==t&&t.current&&(!(null!==l&&void 0!==l&&null!==(n=l.data)&&void 0!==n&&null!==(i=n.current)&&void 0!==i&&null!==(r=i.sortable)&&void 0!==r&&null!==(a=r.items)&&void 0!==a&&a.includes(s.id))?isNaN(+l.id)?Ie(l.id):G.forEach((function(e){e.id===l.id&&Ie(e.grid)})):Ie(null));L(e.active.id)},children:[(0,te.jsxs)("div",{className:x,children:[null===_e||void 0===_e?void 0:_e.map((function(e){var t,n=null===G||void 0===G?void 0:G.filter((function(t){return t.grid===e}));return 0===n.length&&(n=[{id:e,grid:e,bgColor:"",text:"",title:"",userInfo:"",createdAt:""}]),(0,te.jsx)(re.Fo,{items:n,strategy:re.U2,onDragOver:function(){Ie(e)},children:(0,te.jsxs)(de,{columns:1,"data-droppable-id":e,children:[(0,te.jsx)("div",{className:Y,onClick:function(){Be(e),De(!0)},children:e}),null===(t=n)||void 0===t?void 0:t.map((function(e){return(0,te.jsx)(ce,{id:e.id,isTeacher:w,color:e.bgColor,data:e},e.id)}))]})},e)})),w&&(0,te.jsx)("div",{className:Y,style:{margin:"40px 20px 0 0",width:"30%",maxWidth:"80px"},onClick:function(){return De(!0)},children:"+"})]}),(0,te.jsx)(ve.y9,{adjustScale:!0,style:{transformOrigin:"0 0 "},children:Ze&&E&&(0,te.jsx)(te.Fragment,{children:(0,te.jsx)(oe,{id:E,color:{backgroundColor:null===G||void 0===G||null===(u=G.filter((function(e){return e.id===E})))||void 0===u||null===(v=u[0])||void 0===v?void 0:v.bgColor},data:null===G||void 0===G||null===(p=G.filter((function(e){return e.id===E})))||void 0===p?void 0:p[0],isTeacher:w,isDragging:!0})})})]}),(0,te.jsx)("div",{children:(0,te.jsxs)("button",{className:U,onClick:function(){ne&&ae(!1),F(!0)},children:[" ","+"," "]})})]})},he=function(e){var t,n=(0,l.useState)([]),i=(0,s.Z)(n,2),u=i[0],v=i[1],m=(0,l.useState)([]),x=(0,s.Z)(m,2),j=x[0],g=x[1],w=(0,l.useState)(""),N=(0,s.Z)(w,2),y=N[0],_=N[1],C=(0,l.useState)(""),D=(0,s.Z)(C,2),U=D[0],O=D[1],B=(0,l.useState)(!1),A=(0,s.Z)(B,2),E=A[0],L=A[1],Y=(0,l.useState)(!1),q=(0,s.Z)(Y,2),J=q[0],R=q[1],z=(0,l.useState)(""),W=(0,s.Z)(z,2),Q=W[0],G=W[1],V=(0,l.useState)(e.students||[]),K=(0,s.Z)(V,2),$=K[0],ee=K[1],ne=(0,l.useState)(""),ie=(0,s.Z)(ne,2),re=ie[0],ae=ie[1],se=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_(n),e.setPadNameHandler(n),i=(0,c.JU)(o.wO,"padIt",n),(0,c.cf)(i,(function(t){var n,i,r,a,s,l,o,c=null===t||void 0===t||null===(n=t.data())||void 0===n?void 0:n.clName;c&&(G(c),e.nowItemClName(c),ee(null===t||void 0===t||null===(o=t.data())||void 0===o?void 0:o.students));v(null===t||void 0===t||null===(i=t.data())||void 0===i?void 0:i.datas),g(null===t||void 0===t||null===(r=t.data())||void 0===r?void 0:r.sectionNames),e.userUidHandler(null===t||void 0===t||null===(a=t.data())||void 0===a?void 0:a.userUid),ae(null===t||void 0===t||null===(s=t.data())||void 0===s?void 0:s.userUid),L(!0),e.setPadPwHandler(null===t||void 0===t||null===(l=t.data())||void 0===l?void 0:l.pw),e.hidePadAdd(!0)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),le=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,i,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,c.JU)(o.wO,"padIt",t),e.next=3,(0,c.QT)(i);case 3:a=e.sent,s=null===(n=a.data())||void 0===n?void 0:n.pw,O(s),_(t),R(!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,te.jsxs)("div",{children:[J&&(0,te.jsx)(X.Z,{onClose:function(){return R(!1)},children:(0,te.jsxs)("div",{className:Z,children:[(0,te.jsx)("h2",{className:"".concat(S," ").concat(I),children:null===y||void 0===y?void 0:y.slice(10)}),(0,te.jsx)(d.tv,{value:"https://checks-cho-ok.firebaseapp.com/padIt/".concat(y,"/").concat(U),size:"33vw",bgColor:"#ffffff",fgColor:"#000000",level:"L",includeMargin:!0}),(0,te.jsxs)("p",{className:"".concat(I," ").concat(F),style:{marginTop:"-10px"},children:[(0,te.jsx)("span",{children:"\ud83d\ude42 \ubc29\uc774\ub984"}),(0,te.jsx)("span",{children:y})]}),(0,te.jsxs)("p",{className:F,children:[(0,te.jsx)("span",{children:"\ud83d\ude42 \ube44\ubc00\ubc88\ud638"}),(0,te.jsx)("span",{children:U})]})]})}),!E&&(0,te.jsx)(te.Fragment,{children:(0,te.jsx)("ul",{className:"".concat(H," ").concat(h),children:null===(t=e.roomNames)||void 0===t?void 0:t.map((function(e,t){return(0,te.jsx)("li",{className:P,children:(0,te.jsxs)("div",{className:Z,children:[(0,te.jsx)("span",{className:k,children:e.slice(10)}),(0,te.jsx)("span",{className:M,children:(0,te.jsx)(p,{date:e.slice(0,10)})}),(0,te.jsx)("hr",{style:{width:"90%",margin:"20px 5px"}}),(0,te.jsxs)("div",{className:b,children:[(0,te.jsx)("button",{onClick:function(){return se(e)},className:T,children:"\uc785\uc7a5"}),(0,te.jsx)("button",{onClick:function(){le(e)},className:T,children:"qr\ucf54\ub4dc \ud655\uc778"})]})]})},t)}))})}),E&&(0,te.jsx)(xe,{padName:y,padDatas:u,onClose:function(){f().fire({icon:"warning",title:"\ubaa9\ub85d\uc73c\ub85c \uc774\ub3d9",text:"\ud328\ub4dc\uc787 \ubaa9\ub85d\uc73c\ub85c \uc774\ub3d9\ud558\uc2dc\uaca0\uc5b4\uc694?",confirmButtonText:"\ud655\uc778",showDenyButton:!0,denyButtonText:"\ucde8\uc18c",confirmButtonColor:"#85bd82"}).then((function(t){t.isConfirmed&&(L(!1),e.hidePadAdd(!1))}))},userUid:re,students:$,padSectionNames:j,isTeacher:e.isTeacher,padDatasHandler:function(t,n){return e.padDatasHandler(t,n)},clName:Q})]})},je=function(e){var t,n=(0,l.useState)(null),d=(0,s.Z)(n,2),u=d[0],v=d[1],p=(0,l.useState)({}),x=(0,s.Z)(p,2),h=x[0],j=x[1],g=(0,l.useState)([]),N=(0,s.Z)(g,2),_=N[0],b=N[1],S=(0,l.useState)(!0),k=(0,s.Z)(S,2),I=k[0],F=k[1],P=(0,l.useState)(""),D=(0,s.Z)(P,2),U=D[0],H=D[1],B=(0,l.useRef)(),A=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n,i,a){var s,l;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=(0,c.JU)(o.wO,"padIt","roomNames"),l=m()().format("YYYY-MM-DD")+n,(0,c.cf)(s,(function(t){var n,r,s;if(b(null===t||void 0===t||null===(n=t.data())||void 0===n?void 0:n.datas),null!==t&&void 0!==t&&null!==(r=t.data())&&void 0!==r&&null!==(s=r.datas)&&void 0!==s&&s.includes(l))j({}),v(!0);else{var o={name:l,pw:i};e.isSubject&&(o.clName=a),j(o),v(!1)}}));case 3:case"end":return t.stop()}}),t)})));return function(e,n,i){return t.apply(this,arguments)}}(),E=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var n,a,s,l,d,u,f;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(l=(0,i.Z)(_)).push(h.name),t.next=4,(0,c.r7)((0,c.JU)(o.wO,"padIt","roomNames"),{datas:l});case 4:return d=e.isSubject?null===(n=Object.values(null===(a=e.students)||void 0===a||null===(s=a.filter((function(e){return Object.keys(e)[0]===U})))||void 0===s?void 0:s[0]))||void 0===n?void 0:n[0]:e.students,u={datas:[],pw:h.pw,sectionNames:["0"],userUid:I?e.userUid:"",students:I?d:[]},e.isSubject&&(u.clName=U),t.next=9,(0,c.pl)((0,c.JU)(o.wO,"padIt",h.name),u);case 9:return(f=(0,i.Z)(e.roomNames)||[]).push(h.name),t.next=13,(0,c.pl)((0,c.JU)(o.wO,"padIt",e.userUid),{datas:f});case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,l.useEffect)((function(){null!==u&&(!0===u?f().fire("\ucd94\uac00 \uc2e4\ud328","\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \ubc29\uc774\ub984\uc785\ub2c8\ub2e4. \ubc29\uc774\ub984\uc744 \ubcc0\uacbd\ud574\uc8fc\uc138\uc694.","warning"):!1===u&&(E(),e.onClose()))}),[u]),(0,te.jsx)(te.Fragment,{children:(0,te.jsxs)("div",{children:[e.isTeacher&&(0,te.jsx)("span",{className:O,style:{display:"flex",justifyContent:"flex-end"},onClick:function(){e.onClose()},children:(0,te.jsx)("i",{className:"fa-regular fa-circle-xmark"})}),(0,te.jsx)("p",{className:C,style:{textAlign:"center"},children:e.isTeacher?"\ud328\ub4dc\uc787 \ucd94\uac00":"\uc218\ub3d9\uc73c\ub85c \uc811\uc18d\ud558\uae30"}),(0,te.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=t.target.roomName.value,i=t.target.roomPw.value;e.isSubject&&""===t.target.option.value.trim()||""!==n.trim()&&""!==i.trim()&&(i.trim().length<8?e.isTeacher?f().fire("\uc800\uc7a5 \uc2e4\ud328","\ubb38\uc790\uc640 \uc22b\uc790\ub97c \ud3ec\ud568\ud574 8\uc790\ub9ac \uc774\uc0c1\uc73c\ub85c \ub9cc\ub4e4\uc5b4\uc8fc\uc138\uc694.","warning"):f().fire("\uc811\uc18d \uc2e4\ud328","\ube44\ubc00\ubc88\ud638\uc758 \ubb38\uc790\uc640 \uc22b\uc790\ub97c \uc815\ud655\ud558\uac8c \uc785\ub825\ud574\uc8fc\uc138\uc694. \uc624\ub958\uac00 \ubc18\ubcf5\ub418\uba74 \uc120\uc0dd\ub2d8\uaed8 \ub3c4\uc6c0\uc744 \uc694\uccad\ud558\uc138\uc694.","warning"):e.isTeacher?e.isSubject?(A(n.trim(),i.trim(),t.target.option.value),H(t.target.option.value)):A(n.trim(),i.trim()):e.getPadDatasHandler(n.trim(),i.trim()))},className:Z,children:[e.isTeacher&&e.isSubject&&(0,te.jsx)("div",{className:w,children:(0,te.jsxs)("select",{name:"option",defaultValue:"",className:q,required:!0,children:[(0,te.jsx)("option",{value:"",children:"-\ud559\uae09 \uc120\ud0dd-"}),null===(t=e.students)||void 0===t?void 0:t.map((function(e,t){var n,i;return(0,te.jsxs)("option",{value:null===(n=Object.keys(e))||void 0===n?void 0:n[0],children:[" ",null===(i=Object.keys(e))||void 0===i?void 0:i[0]]},t)}))]})}),(0,te.jsxs)("div",{className:w,children:[(0,te.jsx)("label",{name:"roomName",className:w,children:"\ubc29 \uc774\ub984"}),(0,te.jsx)("input",{type:"text",name:"roomName",required:!0,placeholder:e.isTeacher?"\uc811\uc18d\ud560 \ubc29\uc774\ub984":"\uc811\uc18d\ud560 \ubc29\uc774\ub984\uc744 \uc785\ub825\ud558\uc138\uc694.",className:y,autoFocus:!0})]}),e.isTeacher&&(0,te.jsxs)("div",{className:w,style:{justifyContent:"center"},children:[" ","* (\ud559\uae09\uc758 \ubcc4\uce6d + \uc81c\ubaa9) \ud615\ud0dc \ucd94\ucc9c",e.isSubject&&(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)("br",{}),"* \ubc29\uc774\ub984\uc5d0 (\ud559\uae09 \uba85)\uc744 \ucd94\uac00\ud558\uae30!!"]})]}),(0,te.jsxs)("div",{className:w,children:[(0,te.jsx)("label",{name:"roomPw",className:w,children:"\ube44\ubc00\ubc88\ud638"}),(0,te.jsx)("input",{type:"text",name:"roomPw",required:!0,placeholder:e.isTeacher?"8\uc790\ub9ac\uc774\uc0c1 \uc785\ub825\ud574\uc8fc\uc138\uc694.":"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694.",className:y})]}),e.isTeacher&&(0,te.jsx)(te.Fragment,{children:(0,te.jsx)("div",{className:w,style:{justifyContent:"center"},children:(0,te.jsxs)("li",{className:J,children:["* [\uc0dd\uae30\ubd80] - [\uc81c\ucd9cox] \uc5f0\ub3d9 \xa0\xa0",(0,te.jsx)("input",{type:"checkbox",id:"toggle",hidden:!0}),(0,te.jsx)("label",{htmlFor:"toggle",className:I?"".concat(R," ").concat(W):"".concat(R),onClick:function(){F((function(e){return!e}))},ref:B,children:(0,te.jsx)("span",{className:z})})]})})}),(0,te.jsx)("div",{className:w,children:(0,te.jsx)("input",{type:"submit",value:e.isTeacher?"\ucd94\uac00\ud558\uae30":"\uc811\uc18d\ud558\uae30",style:{minWidth:"380px"},className:T})})]})]})})},ge=function(e){var t=(0,l.useState)(!1),n=(0,s.Z)(t,2),d=n[0],u=n[1],v=(0,l.useState)([]),p=(0,s.Z)(v,2),x=p[0],h=p[1],j=(0,l.useState)([]),g=(0,s.Z)(j,2),Z=g[0],w=g[1],N=(0,l.useState)(""),y=(0,s.Z)(N,2),_=y[0],b=y[1],S=(0,l.useState)(""),k=(0,s.Z)(S,2),I=k[0],F=k[1],P=(0,l.useState)(""),D=(0,s.Z)(P,2),U=D[0],O=D[1],B=(0,l.useState)([]),A=(0,s.Z)(B,2),L=A[0],M=A[1],Y=(0,l.useState)(!1),q=(0,s.Z)(Y,2),J=q[0],R=q[1],z=(0,l.useState)(!1),W=(0,s.Z)(z,2),Q=W[0],K=W[1],$=(0,l.useState)(!0),ee=(0,s.Z)($,2),ne=ee[0],ie=ee[1],re=(0,l.useState)([]),ae=(0,s.Z)(re,2),se=ae[0],le=ae[1],oe=(0,l.useState)({}),ce=(0,s.Z)(oe,2),de=ce[0],ue=ce[1],fe=(0,l.useState)(!1),ve=(0,s.Z)(fe,2),me=ve[0],pe=ve[1],ge=(0,l.useState)(""),Ze=(0,s.Z)(ge,2),we=Ze[0],Ne=Ze[1],ye=(0,l.useState)(!1),_e=(0,s.Z)(ye,2),be=_e[0],Se=_e[1];(0,l.useEffect)((function(){e.userUid&&u(!0)}),[e.userUid]),(0,l.useEffect)((function(){var t,n,i,r=ke();pe(null===(t=e.isSubject)||void 0===t||null===(n=t.filter((function(e){return Object.keys(e)[0]===r})))||void 0===n||null===(i=n[0])||void 0===i?void 0:i[r])}),[e.isSubject]);var Ce=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=(0,c.JU)(o.wO,"padIt",e.userUid),(0,c.cf)(n,(function(e){var t;e.exists()&&M(null===(t=e.data())||void 0===t?void 0:t.datas)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();(0,l.useEffect)((function(){d&&Ce()}),[d]),(0,l.useEffect)((function(){if(e.students){var t,n,i,r=ke(),a=null===(t=e.students)||void 0===t||null===(n=t.filter((function(e){return Object.keys(e)[0]===r})))||void 0===n||null===(i=n[0])||void 0===i?void 0:i[r];le(a)}}),[e.students]);var ke=function(){return+m()().format("MM")<=2?String(+m()().format("YYYY")-1):m()().format("YYYY")},Ie=function(){f().fire("\uc811\uc18d \uc2e4\ud328","\ubc29\uc774\ub984\uacfc \ube44\ubc00\ubc88\ud638\ub97c \ud655\uc778\ud558\uace0, \ub2e4\uc2dc \uc811\uc18d\ud574\uc8fc\uc138\uc694!","warning")},Fe=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a,s,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,c.JU)(o.wO,"padIt",t),e.next=3,(0,c.QT)(a);case 3:if(s=e.sent,document.querySelector("nav").style.display="none",!s.exists()){e.next=18;break}if((null===s||void 0===s||null===(l=s.data())||void 0===l?void 0:l.pw)===n){e.next=11;break}return Ie(),e.abrupt("return",!1);case 11:f().fire("\uc811\uc18d \uc131\uacf5","".concat(t," \uc5d0 \uc811\uc18d\uc774 \uc131\uacf5\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc624\ub978\ucabd \ud558\ub2e8\uc758 + \ubc84\ud2bc\uc73c\ub85c \uba54\ubaa8\ub97c \ucd94\uac00\ud574\ubcf4\uc138\uc694."),"success"),b(t),F(n);case 14:(0,c.cf)(a,(function(e){var t,n,r,a,s;h(null===e||void 0===e||null===(t=e.data())||void 0===t?void 0:t.datas),w(null===e||void 0===e||null===(n=e.data())||void 0===n?void 0:n.sectionNames),Ne(null===e||void 0===e||null===(r=e.data())||void 0===r?void 0:r.clName),le((0,i.Z)(null===e||void 0===e||null===(a=e.data())||void 0===a?void 0:a.students)),O(null===e||void 0===e||null===(s=e.data())||void 0===s?void 0:s.userUid)})),ie(!1),e.next=19;break;case 18:Ie();case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){var t,n;if(e.padItInfo&&!(null!==(t=Object.values(e.padItInfo))&&void 0!==t&&t.includes("undefined")||null!==(n=Object.values(e.padItInfo))&&void 0!==n&&n.includes(void 0))){var i=e.padItInfo.roomName,r=e.padItInfo.roomPw;Fe(i,r)}}),[e.padItInfo]);var Te=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a,s,l,d,u,f,v,p,x,h,j,g;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=(0,c.JU)(o.wO,"checkLists",t),e.next=3,(0,c.QT)(d);case 3:u=e.sent,f=(0,i.Z)(null===u||void 0===u||null===(a=u.data())||void 0===a?void 0:a.checkLists_data)||[],v={},p=0,null===f||void 0===f||f.forEach((function(e,t){(null===e||void 0===e?void 0:e.title)===_&&(p=t,v=e)})),x=[],h=null===n||void 0===n?void 0:n.map((function(e){return null===e||void 0===e?void 0:e.title})),null===(g=me?null===(s=Object.values(null===se||void 0===se||null===(l=se.filter((function(e){return Object.keys(e)[0]===we})))||void 0===l?void 0:l[0]))||void 0===s?void 0:s[0]:se)||void 0===g||g.forEach((function(e){var t=!1;h.forEach((function(n){n.includes(e.name)&&(t=!0)})),t||x.push(e)})),0===p?(j={id:_.slice(0,10)+m()().format(" HH:mm:ss"),title:_,unSubmitStudents:x,yearGroup:ke()},we&&(j.clName=we),f.push(j)):(j={id:v.id,title:v.title,unSubmitStudents:x,yearGroup:ke()},we&&(j.clName=we),f.splice(p,1,j)),ue({uid:t,data:f});case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Pe=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.pl)((0,c.JU)(o.wO,"checkLists",t),{checkLists_data:n});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){de.uid&&de.data&&Pe(de.uid,de.data)}),[de]);var De=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var i,a,s,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,c.JU)(o.wO,"padIt",_),a={datas:t,pw:I,sectionNames:n,userUid:U,students:U?se:[]},we&&(a.clName=we,""!==U&&(a.students=d?null===(s=Object.values(null===se||void 0===se||null===(l=se.filter((function(e){return Object.keys(e)[0]===we})))||void 0===l?void 0:l[0]))||void 0===s?void 0:s[0]:se)),e.next=5,(0,c.pl)(i,a);case 5:""!==U&&Te(U,t);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ue=(0,te.jsxs)(te.Fragment,{children:[(0,te.jsxs)("h2",{onClick:function(){return Se((function(e){return!e}))},children:[" ","\ud83d\ude2e \uc0ac\uc6a9 \ubc29\ubc95 \ubc0f \uc8fc\uc758\uc0ac\ud56d"," ",(0,te.jsxs)("span",{children:[be?(0,te.jsx)("i",{className:"fa-solid fa-chevron-up"}):(0,te.jsx)("i",{className:"fa-solid fa-chevron-down"})," "]})]}),(0,te.jsxs)("div",{className:be?G:V,children:[d&&(0,te.jsxs)(te.Fragment,{children:[(0,te.jsxs)("p",{className:H,style:{width:"90%"},children:[(0,te.jsx)("p",{className:E,children:"\ud83d\udc49 \ud328\ub4dc \ucd94\uac00\ud558\uae30 "}),"\uc811\uc18d\ud560 \ubc29\uc774\ub984\uacfc \ube44\ubc00\ubc88\ud638 (\uc804\ub2f4\uc740 \ud559\uae09\ub3c4 \uc120\ud0dd)\ub97c \uc124\uc815\ud574\uc8fc\uc138\uc694.",(0,te.jsx)("br",{}),"* \uc8fc\uc758 * \uc804\ub2f4\uc758 \uacbd\uc6b0, \ubc29\uc774\ub984\uc5d0 \ud559\uae09\uba85\uc744 \ub123\uc5b4\uc8fc\uc154\uc57c \ud328\ub4dc\ub9ac\uc2a4\ud2b8\uc5d0\uc11c \uad6c\ubd84\uc774 \ud3b8\ub9ac\ud569\ub2c8\ub2e4!"]}),(0,te.jsxs)("p",{className:H,style:{width:"90%"},children:[(0,te.jsx)("p",{className:E,children:"\ud83d\udc49 \uc0dd\uae30\ubd80 - \uc81c\ucd9cox \uc5f0\ub3d9?"}),"\uc5f0\ub3d9\uc744 \uc124\uc815\ud558\uc5ec \ud328\ub4dc\ub97c \ub9cc\ub4e0 \uacbd\uc6b0, \ud559\uc0dd\ub4e4\uc774 \uc81c\ubaa9\uc5d0 \uc131\uc744 \ud3ec\ud568\ud55c \uc804\uccb4\uc774\ub984\uc744 \uc801\uc5b4\uc11c \uc790\ub8cc\ub97c \uc62c\ub9b4 \uacbd\uc6b0, \uc790\ub3d9\uc73c\ub85c [\uc0dd\uae30\ubd80] - [\uc81c\ucd9cox]\uc5d0 \uc790\ub8cc\uac00 \uc0dd\uc131, \uc218\uc815\ub429\ub2c8\ub2e4!"]}),(0,te.jsxs)("p",{className:H,style:{width:"90%"},children:[(0,te.jsx)("p",{className:E,children:"\ud83d\udc49 \ud559\uc0dd \uc811\uc18d\ubc29\ubc95"}),"1. qr\ucf54\ub4dc \uc811\uc18d - \uad50\uc0ac\uac00 \ub9cc\ub4e0 \ubc29\uc758 qr\ucf54\ub4dc \ud655\uc778\uc744 \ub204\ub974\uba74 \ub098\uc624\ub294, qr\ucf54\ub4dc\ub97c \ud0dc\ube14\ub9bf, \ud639\uc740 \ud578\ub4dc\ud3f0 \uce74\uba54\ub77c\ub85c \uc778\uc2dd\ud558\uc5ec \uc811\uc18d\ud558\uc5ec \uc0ac\uc6a9\ud569\ub2c8\ub2e4. ",(0,te.jsx)("br",{}),"2. \uc218\ub3d9\uc811\uc18d - qr\ucf54\ub4dc \ud655\uc778\uc5d0 \uc788\ub294 \ubc29\uc774\ub984(\ub0a0\uc9dc\ub97c \ud3ec\ud568\ud55c!!)\uacfc \ube44\ubc00\ubc88\ud638\ub97c \ud559\uc0dd\uc774 \uc9c1\uc811 \uc785\ub825\ud558\uc5ec \uc811\uc18d\ud569\ub2c8\ub2e4."]})]}),!d&&(0,te.jsxs)("p",{className:H,style:{width:"90%"},children:[(0,te.jsx)("p",{className:E,children:"\ud83d\udc49 \uc218\ub3d9\uc811\uc18d \ubc29\ubc95"}),"\uc120\uc0dd\ub2d8\uc5d0\uac8c \ubc29\uc774\ub984\uacfc \ube44\ubc00\ubc88\ud638\ub97c \ubb3c\uc5b4\ubcf4\uace0 \uadf8\ub300\ub85c \uc785\ub825\ud558\uc5ec \uc811\uc18d\ud569\ub2c8\ub2e4."]}),(0,te.jsxs)("p",{className:H,style:{width:"90%"},children:[(0,te.jsx)("p",{className:E,children:"\ud83d\udc49 \uc790\ub8cc \uc2a4\ud0c0\uc77c (\uae30\ubcf8? \uc139\uc158?)"}),"1. \uae30\ubcf8\uc2a4\ud0c0\uc77c - \uce60\ud310\uc5d0 \ud3ec\uc2a4\ud2b8\uc787\uc744 \ubd99\uc778 \ud615\ud0dc\ub85c \uc790\ub8cc\uac00 \uc790\ub3d9\uc73c\ub85c \uc815\ub82c\ub429\ub2c8\ub2e4. ",(0,te.jsx)("br",{}),"2. \uc139\uc158\uc2a4\ud0c0\uc77c - \uc120\uc0dd\ub2d8\uc774 \ubbf8\ub9ac \ub9cc\ub4e4\uc5b4\ub454 \ucc2c\uc131, \ubc18\ub300\uc640 \uac19\uc740 \uc139\uc158\ubcc4\ub85c \uc790\ub8cc\ub97c \uc815\ub82c\ud569\ub2c8\ub2e4."]}),(0,te.jsxs)("p",{className:H,style:{width:"90%"},children:[(0,te.jsx)("p",{className:E,children:"\ud83d\udc49 \uc790\ub8cc \uc138\ubd80 \ub0b4\uc6a9 \ud655\uc778"}),"\uc790\ub8cc\ub97c \uc9e7\uac8c \ud074\ub9ad\ud558\uba74 \uc138\ubd80 \ub0b4\uc6a9\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",(0,te.jsx)("br",{})," * \ub0b4\uac00 \uc4f4 \uc790\ub8cc / \uc120\uc0dd\ub2d8\uc740 \uc790\ub8cc\uc758 \ub0b4\uc6a9\uc744 \uc218\uc815, \uc0ad\uc81c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),(0,te.jsxs)("p",{className:H,style:{width:"90%"},children:[(0,te.jsx)("p",{className:E,children:"\ud83d\udc49 \uc790\ub8cc \uc21c\uc11c \ubc14\uafb8\uae30(\uc774\ub3d9)"}),"\uc790\ub8cc\ub97c \uae38\uac8c \ud074\ub9ad\ud558\uc5ec \ub4dc\ub798\uadf8\ud558\uba74 \uc790\ub8cc\uac00 \ubcf4\uc774\ub294 \uc21c\uc11c\ub97c \ubcc0\uacbd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4!",(0,te.jsx)("br",{}),"(\ub0b4\uac00 \uc4f4 \uc790\ub8cc\ub9cc / \uc120\uc0dd\ub2d8\uc740 \ubaa8\ub450 \uac00\ub2a5)"]})]})]});return(0,te.jsxs)(te.Fragment,{children:[d?(0,te.jsxs)("div",{style:{marginTop:"-80px"},children:[J&&(0,te.jsx)(X.Z,{onClose:function(){return R(!1)},children:(0,te.jsx)(je,{onClose:function(){return R(!1)},userUid:e.userUid,roomNames:L,isTeacher:d,students:se,isSubject:me})}),!Q&&(0,te.jsxs)(te.Fragment,{children:[(0,te.jsxs)("h2",{className:C,style:{marginLeft:"43px"},children:[" ","\ud328\ub4dc\uc787 \ud83d\udccc"]}),(0,te.jsx)("p",{children:"\ucd08\uae30\ubc84\uc804 \uac1c\ubc1c \uc644\ub8cc. \ud14c\uc2a4\ud2b8 \ud6c4 \uc0ac\uc6a9\ud574\uc8fc\uc138\uc694."}),(0,te.jsx)("button",{onClick:function(){return R(!0)},className:T,children:"\ud328\ub4dc \ucd94\uac00\ud558\uae30"})]}),(0,te.jsx)(he,{roomNames:L,hidePadAdd:function(e){return K(e)},isTeacher:d,userUid:e.userUid,padDatasHandler:De,userUidHandler:function(e){O(e)},students:se,setPadPwHandler:function(e){return F(e)},setPadNameHandler:function(e){return b(e)},nowItemClName:function(e){return Ne(e)}})]}):(0,te.jsxs)(te.Fragment,{children:[ne&&(0,te.jsxs)(te.Fragment,{children:[(0,te.jsxs)("h2",{className:C,style:{marginLeft:"43px"},children:[" ","\ud328\ub4dc\uc787 \ud83d\udccc"]}),(0,te.jsx)("p",{children:"\uac1c\ubc1c\uc911\uc785\ub2c8\ub2e4. \ud604\uc7ac\ub294 \uc791\uc131\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4."}),(0,te.jsx)(je,{onClose:function(){return ie(!1)},isTeacher:d,getPadDatasHandler:Fe})]}),!ne&&(0,te.jsx)(xe,{padName:_,padDatas:x,userUid:e.userUid,padSectionNames:Z,onClose:function(){f().fire({icon:"warning",title:"\uc218\ub3d9 \uc785\ub825\uc73c\ub85c",text:"\ud328\ub4dc\uc787 \uc218\ub3d9 \uc785\ub825\ud654\uba74\uc73c\ub85c \uc774\ub3d9\ud560\uae4c\uc694? \uc774\ub3d9\ud558\uba74 \uc9c1\uc811 \ubc29\uc774\ub984\uacfc \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4!",confirmButtonText:"\ud655\uc778",showDenyButton:!0,denyButtonText:"\ucde8\uc18c",confirmButtonColor:"#85bd82"}).then((function(e){e.isConfirmed&&ie(!0)}))},students:se,padDatasHandler:De})]}),Ue]})}}}]);